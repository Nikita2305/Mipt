*AKOC* Яковлев В. В. Лекция 1 (02.09.2021)

Теперь 4 оценки в год! (Вернее, 4 модуля, привет из Вышки!)
В конце каждого модуля будет контрольная, по которой будут оценки. Это для того, чтобы не копить долги, чтобы было поменьше 
грусти. Оценка за каждый модуль идёт в 50% оценки соответствующего семестра. Исправить оценку можно только во время пересдач.
Конец модуля - жёсткий дедлайн!
Семинаристы: А. Хабудтинов, С. Горбунов, А. Пономарёв, М. Цион, Ю. Печатнов (из олдов только Ю. Печатнов, остальные молодые фивты). Задалбывать в телеграм их не нужно! На курсе Телеги не будет! Всё через Slack! Если будет конфликт, то Яковлев всё решит!
Сдавать домашки на http://ejudge.atp-fivt.org
Старосты раздадут логины и пароли, все задачи сдаются дистанционно, но будет устная защита!
Оценка за модуль: 20% контрольных, 80% домашек
Округление идёт по google-round, по правилам математики.
Практическая часть.
1. Решаем задачи, отправляем в ejudge
2. Проходим тесты - pull request, не проходим - штраф
3. Семинарист проводит code review
4. Устная защита (для того, чтобы все понимали)
Учебные ассистенты принимают только защиты решений задач, могут консультировать, не знают об оценках, имеют своё рабочее время. Всё остальное не регламентируется.
О чём курс? Об инструментах разработки, об ассемблере, о взаимодействии с ядром и компонентами ОС.
Всё обычно на русском, правда, некоторые допматериалы могут быть на английском
Ассемблер нужно для того, чтобы понимать, как устроено всё в компьютере, не более того. В 90% ассемблер не используется вообще!
Инструменты. Язык С (not C++!), компиляторы GCC/Clang, допом будет Assembler (AArch64, x86-64, GCC)
Style Checker - clang-format (иначе автоматический штраф!)
Linux, MacOS, iOS, Android - UNIX-подобные
Windows - не является UNIX-подобной!!!
WSL не рекомендуется для прохождения курса!!!
VirtualBox or Parallels Desktop - решение "компьютер в компьютере"
Можно экспериментировать с линуксом как угодно!
Что насчёт MacOS? Тоже может подходить, но там сложности с компиляцией/линковкой задач на ассемблере, нет реализации qemu-user, и прочее...

---Unix Systems---

Любая ОС начинается с ядра, которое запускается первым, умеют делать всё. Остальные программы умеют только гонять процессор, что-то вычислять, но никак не напрямую обращаться к оборудованию. Есть ещё совместно используемые библиотеки.
Что такое процесс? Это некоторый экземпляр произвольной программы.

Опция -a отображает все процессы в системе, pstree отобразит дерево процессов. Корень её - самая первая программа, которая запускается после ядра. 
UNIX-программы могут быть и бинарники. Тексты, начинающиеся с #!, как правило, скрипты. Имя файла не значит ничего. Если файл исполняемый, то это программа.
В UNIX есть хороший пользователь и все остальные, которые доверяют хорошему - root (UID = 0).
Непривилегированные пользователи могут зайти в систему (UID >= 1000), быть фейковыми (UID < 1000)
Но у них могут появиться ещё привилегии с помощью команд su (оболочка root), sudo (запустить под root) и так далее.
В чём особенность мультиюзеровых ОС? Каждый процесс работает вне зависимости от друг друга. 
Процесс запуска: привилегированный загрузчик, который не очень дружит с внешними ОС, или их путает, привилегированное ядро, а зате первый непривилегированный процесс: init или systemd, ну затем скрипты и демоны.
shell-script - файл с последовательностью команд для интерпретатора, которые нужно ему запустить.
init.d запускает лишь другие программы.

init запускает 7 виртуальных терминалов. Рабочий стол запускает довольно много процессов, часть из них потомки systemd(который есть во многих современных дистрибутивах Линукса).

О #!/bin/sh. Это указывает на то, что это shell-script. sh не особо встретите, есть более современные.
О System Daemon (systemd). При проектированный задачей была запустить процесс запуска системы. .sh выполняются последовательно, а systemd запускает параллельно (старается как можно больше это использовать).
User Sessions: Multiseats (много кто может быть войдён в одну и ту же систему)
login проверяет пароль, запускает оболочку пользователя через /etc/password
запуск того же, например PulseAudio - не сессия!
О фоновых задачах. С ними, как правило, терминалы не связаны.

Linux - не система, это ядро. В основном разница дистрибутив заключается в цвете "нескучных обоев" (привет BolgenOS). Есть, правда, и специфические дистрибутивы, как Alpine. Собрать что-то из исходников не так сложно, но это может много времени занять. Можно ещё распаковать пакеты.

Можно перекидывать программы из линукса в линукс, что доказывает не особо большое отличие дистрибутивов.
Но есть ситуация, когда это не так. Файл есть, он исполняемый. Однако необходима стандартная библиотека, которая собрана под конкретный дистрибутив. Однако можно немного пошаманить.

Если программа не содержит сторонних библиотек, то и проблем особо не будет
