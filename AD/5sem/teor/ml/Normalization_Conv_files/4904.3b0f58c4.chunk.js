(self.webpackChunklite=self.webpackChunklite||[]).push([[4904],{75412:(e,n,i)=>{"use strict";i.d(n,{A:()=>d});var t=i(23564),a=i(45697),o=i(64718);function d(e){var n=e.children,i=e.query,a=(0,t._T)(e,["children","query"]),d=(0,o.a)(i,a);return d?n(d):null}d.propTypes={client:a.object,children:a.func.isRequired,fetchPolicy:a.string,notifyOnNetworkStatusChange:a.bool,onCompleted:a.func,onError:a.func,pollInterval:a.number,query:a.object.isRequired,variables:a.object,ssr:a.bool,partialRefetch:a.bool,returnPartialData:a.bool}},69100:(e,n,i)=>{var t=i(99489),a=i(57067);function o(n,i,d){return a()?e.exports=o=Reflect.construct:e.exports=o=function(e,n,i){var a=[null];a.push.apply(a,n);var o=new(Function.bind.apply(e,a));return i&&t(o,i.prototype),o},o.apply(null,arguments)}e.exports=o},70430:e=>{e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},57067:e=>{e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},65957:(e,n,i)=>{var t=i(29754),a=i(99489),o=i(70430),d=i(69100);function l(n){var i="function"==typeof Map?new Map:void 0;return e.exports=l=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,n)}function n(){return d(e,arguments,t(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},l(n)}e.exports=l},38125:(e,n,i)=>{var t=i(14259);e.exports=function(e){return null!=e&&e.length?t(e,0,-1):[]}},18029:(e,n,i)=>{var t=i(35393),a=i(11700),o=t((function(e,n,i){return e+(i?" ":"")+a(n)}));e.exports=o},68254:e=>{"use strict";var n=Math.floor(1099511627776*Math.random()).toString(16),i=new RegExp('"@__(F|R|D|M|S|U)-'+n+'-(\\d+)__@"',"g"),t=/\{\s*\[native code\]\s*\}/g,a=/function.*?\(/,o=/.*?=>.*?/,d=/[<>\/\u2028\u2029]/g,l=["*","async"],r={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function c(e){return r[e]}e.exports=function e(r,m){m||(m={}),"number"!=typeof m&&"string"!=typeof m||(m={space:m});var s,u=[],k=[],p=[],f=[],v=[],g=[];return m.ignoreFunction&&"function"==typeof r&&(r=void 0),void 0===r?String(r):"string"!=typeof(s=m.isJSON&&!m.space?JSON.stringify(r):JSON.stringify(r,m.isJSON?null:function(e,i){if(m.ignoreFunction&&function(e){var n=[];for(var i in e)"function"==typeof e[i]&&n.push(i);for(var t=0;t<n.length;t++)delete e[n[t]]}(i),!i&&void 0!==i)return i;var t=this[e],a=typeof t;if("object"===a){if(t instanceof RegExp)return"@__R-"+n+"-"+(k.push(t)-1)+"__@";if(t instanceof Date)return"@__D-"+n+"-"+(p.push(t)-1)+"__@";if(t instanceof Map)return"@__M-"+n+"-"+(f.push(t)-1)+"__@";if(t instanceof Set)return"@__S-"+n+"-"+(v.push(t)-1)+"__@"}return"function"===a?"@__F-"+n+"-"+(u.push(t)-1)+"__@":"undefined"===a?"@__U-"+n+"-"+(g.push(t)-1)+"__@":i},m.space))?String(s):(!0!==m.unsafe&&(s=s.replace(d,c)),0===u.length&&0===k.length&&0===p.length&&0===f.length&&0===v.length&&0===g.length?s:s.replace(i,(function(n,i,d){return"D"===i?'new Date("'+p[d].toISOString()+'")':"R"===i?"new RegExp("+e(k[d].source)+', "'+k[d].flags+'")':"M"===i?"new Map("+e(Array.from(f[d].entries()),m)+")":"S"===i?"new Set("+e(Array.from(v[d].values()),m)+")":"U"===i?"undefined":function(e){var n=e.toString();if(t.test(n))throw new TypeError("Serializing native function: "+e.name);if(a.test(n))return n;if(o.test(n))return n;var i=n.indexOf("("),d=n.substr(0,i).trim().split(" ").filter((function(e){return e.length>0}));return d.filter((function(e){return-1===l.indexOf(e)})).length>0?(d.indexOf("async")>-1?"async ":"")+"function"+(d.join("").indexOf("*")>-1?"*":"")+n.substr(i):n}(u[d])})))}},32931:(e,n,i)=>{"use strict";i.d(n,{j:()=>E});var t=i(63038),a=i.n(t),o=i(18446),d=i.n(o),l=i(67294),r=i(6443),c=i(18733),m=i(77355),s=i(30020),u=i(21755),k=i(31889),p=i(14646),f=i(77241),v=i(17583),g=i(6280),S=function(e){return{position:"sticky",opacity:e?1:0,visibility:e?"visibile":"hidden",display:"flex",justifyContent:"center",transition:"opacity 300ms",zIndex:f.ZP.selectionMenu}},N={bottom:"16px"},y=function(e){var n=e.margin,i=void 0===n?"0 16px":n;return l.createElement(m.x,{margin:i,height:"12px",borderRight:"BASE_LIGHTER"})},F=(0,l.memo)((function(e){var n=e.multiVoteButton,i=e.responsesButton,t=e.menuActionsButton,a=e.allowResponses,o=(0,r.H)().value,u=(0,k.F)(),p=(0,c.Uo)().baseTheme,f=(0,l.useMemo)((function(){return u.backgroundColor!==p.backgroundColor||!d()(u.baseColor.background,p.baseColor.background)}),[u,p]);return l.createElement(m.x,{display:"flex",backgroundColor:"BACKGROUND",alignItems:"center",borderRadius:"20px",border:f?"BASE_LIGHTER":"NONE",padding:"0 14px 0 16px",height:"40px",boxShadow:"0px 2px 10px 0px rgba(0, 0, 0, 0.1)"},n,a&&l.createElement(l.Fragment,null,l.createElement(y,null),i),(null==o?void 0:o.id)&&l.createElement(l.Fragment,null,l.createElement(y,{margin:"0 12px 0 16px"}),l.createElement(s._,{tooltipText:"More",targetDistance:10},t)))})),_=function(e){var n=e.children,i=(0,p.I)(),t=(0,g.$)(!0),a=t.dockRef,o=t.markerRef,d=t.isStuck;return l.createElement(l.Fragment,null,l.createElement("div",{ref:o}),l.createElement("div",{ref:a,className:i([S(d),N])},n))},h=function(e){var n,i=e.children,t=(0,p.I)(),o=(0,l.useRef)(),d=(0,l.useState)(0),r=a()(d,2),c=r[0],m=r[1],s=(0,l.useCallback)((function(e){m((function(n){return Math.max(Math.min(n+e,56),0)}))}),[m]),u=(0,l.useCallback)((function(){var e,n=null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect().y;window.scrollY>0&&o.current&&n&&s(o.current-n),o.current=n}),[s]),k=(0,g.$)(!0,u),f=k.dockRef,v=k.markerRef,N=k.isStuck;return l.createElement(l.Fragment,null,l.createElement("div",{ref:v}),l.createElement("div",{ref:f,className:t([S(N),("16px",n=c,{bottom:"16px","> div":{transform:"translateY(".concat(n,"px)")}})])},i))},E=function(e){var n=(0,v.s)();return n&&n!==u.j.xl?l.createElement(h,null,l.createElement(F,e)):l.createElement(_,null,l.createElement(F,e))}},6280:(e,n,i)=>{"use strict";i.d(n,{$:()=>l});var t=i(63038),a=i.n(t),o=i(67294),d=i(34135),l=function(e,n){var i=(0,o.useRef)(null),t=(0,o.useRef)(null),l=(0,o.useState)(!0),r=a()(l,2),c=r[0],m=r[1];return(0,o.useEffect)((function(){var a=function(){var e,a,o=null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().y,d=null===(a=t.current)||void 0===a?void 0:a.getBoundingClientRect().y;o&&d&&m(Boolean(d-o)),null==n||n()};if(a(),e)return d.V6.on("scroll",a),function(){d.V6.off("scroll",a)}}),[e]),{isStuck:e&&c,dockRef:i,markerRef:t}}},60672:(e,n,i)=>{"use strict";i.d(n,{e:()=>u});var t=i(67294),a=i(27517),o=i(18702),d=i(25550),l=i(6443),r=i(98067),c=i(77280),m=i(43487),s=i(55765),u=function(e){var n=e.data,i=void 0===n?{}:n,u=e.isBlocked,k=void 0!==u&&u,p=e.loading,f=e.show,v=i.canonicalUrl,g=i.collectionViewerEdge,S=i.creatorViewerEdge,N=i.meteringInfo,y=i.pageType,F=i.post,_=i.profileName,h=i.profilePhoto,E=i.profileUsername,b=i.topicViewerEdge,C=(0,a.I0)(),R=(0,d.r)(),w=R.loading,D=R.viewerId,x=(0,s.P)(),P=x.loading,T=x.inAppBrowser,I=(0,l.H)(),O=I.loading,B=I.value,M=(0,m.v9)((function(e){return e.navigation.referrer})),U=(0,c.PM)();(0,t.useEffect)((function(){if(!(p||O||w||!D||P)){var e=(0,o.RD)({collectionViewerEdge:g,creatorViewerEdge:S,currentUserId:D,inAppBrowser:T,meteringInfo:N,page_type:y,post:F,profile_name:_,profile_photo:h,profile_username:E,referrer:M,referrerSource:U,viewer:B,topicViewerEdge:b});return v&&(e.data.$canonical_url=v),(0,o.Pu)(e),C((0,r.aj)(e)),f&&(C((0,r.QZ)()),C((0,r.Dl)(k))),function(){C((0,r.Uo)())}}}),[p,O,w,D,P])}},72550:(e,n,i)=>{"use strict";i.d(n,{G:()=>C});var t=i(67294),a=i(18733),o=i(77355),d=i(18634),l=i(87691),r=i(14646),c=i(31889),m=i(98096),s=i(14804);function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var k=t.createElement("path",{d:"M15.16 8c0 .65-.46 1.14-.86 1.57-.23.25-.47.5-.56.72-.1.22-.09.55-.1.88 0 .6-.01 1.3-.48 1.78-.48.48-1.16.5-1.75.5-.32 0-.65.01-.86.1-.2.07-.46.33-.7.57-.42.41-.9.88-1.54.88s-1.12-.47-1.54-.88a2.87 2.87 0 0 0-.7-.58c-.22-.09-.54-.08-.87-.09-.59 0-1.27-.02-1.74-.5s-.48-1.17-.49-1.78c0-.33-.01-.67-.1-.88-.07-.2-.32-.47-.55-.71-.4-.44-.87-.93-.87-1.58s.46-1.14.87-1.58c.23-.24.47-.5.56-.71.09-.22.08-.55.09-.88 0-.6.02-1.3.49-1.78s1.15-.5 1.74-.5c.33 0 .66-.01.86-.1.2-.08.47-.33.7-.57.43-.41.91-.88 1.55-.88.63 0 1.12.47 1.54.88.24.24.49.48.7.58.22.09.54.08.86.09.6 0 1.27.02 1.75.5.47.48.48 1.17.49 1.78 0 .33 0 .67.09.88.08.2.33.47.56.71.4.44.86.93.86 1.58z",fill:"#437AFF"}),p=t.createElement("path",{d:"M7.33 10.5c.2 0 .38.08.52.22.13.14.21.33.21.53 0 .07.03.13.07.18a.24.24 0 0 0 .35 0 .25.25 0 0 0 .07-.18c0-.2.08-.39.22-.53a.73.73 0 0 1 .52-.22h1.96c.13 0 .25-.05.34-.15a.5.5 0 0 0 .15-.35V6a.5.5 0 0 0-.15-.35.48.48 0 0 0-.34-.15H9.78c-.33 0-.64.13-.87.37-.23.23-.36.55-.36.88v2.5c0 .07-.02.13-.07.18a.24.24 0 0 1-.35 0 .25.25 0 0 1-.07-.18v-2.5c0-.33-.13-.65-.36-.88a1.21 1.21 0 0 0-.86-.37H5.37a.48.48 0 0 0-.35.15.5.5 0 0 0-.14.35v4c0 .13.05.26.14.35.1.1.22.15.35.15h1.96z",fill:"#fff"});const f=function(e){return t.createElement("svg",u({width:17,height:16,viewBox:"0 0 17 16",fill:"none"},e),k,p)};function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var g=t.createElement("g",{clipPath:"url(#book-verification-badge-20px_svg__clip0_1593_35881)"},t.createElement("path",{d:"M18.56 10c0 .81-.58 1.43-1.08 1.97-.3.3-.59.62-.7.9-.12.27-.11.68-.12 1.1 0 .75-.02 1.62-.61 2.22-.6.6-1.44.61-2.18.62-.4.01-.82.02-1.07.12-.26.1-.59.42-.88.72-.53.51-1.14 1.1-1.93 1.1-.8 0-1.4-.59-1.93-1.1-.3-.3-.61-.6-.88-.72s-.67-.11-1.07-.12c-.74 0-1.6-.02-2.18-.62-.6-.6-.6-1.47-.61-2.23-.01-.41-.02-.84-.12-1.1-.1-.25-.41-.59-.7-.9-.5-.53-1.08-1.15-1.08-1.96s.57-1.43 1.08-1.97c.29-.3.59-.62.7-.9.12-.27.1-.68.12-1.1 0-.75.02-1.62.6-2.22.6-.6 1.45-.61 2.19-.62.4-.01.82-.02 1.07-.12.25-.1.58-.42.88-.72.53-.51 1.13-1.1 1.93-1.1s1.4.59 1.93 1.1c.3.3.6.6.88.72.26.12.66.11 1.07.12.74 0 1.59.02 2.18.62.59.6.6 1.47.61 2.23 0 .41.02.83.11 1.1.1.25.42.59.7.9.51.53 1.09 1.15 1.09 1.96z",fill:"#437AFF"}),t.createElement("path",{d:"M8.76 13.13c.25 0 .48.1.65.27.17.18.27.41.27.66 0 .09.03.16.1.22a.3.3 0 0 0 .43 0 .32.32 0 0 0 .08-.22c0-.25.1-.48.27-.66.18-.17.41-.27.65-.28h2.45a.6.6 0 0 0 .43-.18.63.63 0 0 0 .18-.44v-5a.63.63 0 0 0-.18-.44.6.6 0 0 0-.43-.18h-1.83c-.41 0-.8.16-1.09.45-.28.3-.45.7-.45 1.1v3.13c0 .09-.03.16-.08.22a.3.3 0 0 1-.44 0 .32.32 0 0 1-.09-.22V8.44c0-.42-.16-.81-.45-1.1-.28-.3-.67-.46-1.08-.46H6.32a.6.6 0 0 0-.44.18.63.63 0 0 0-.18.44v5c0 .17.07.32.18.44a.6.6 0 0 0 .44.19h2.44z",fill:"#fff"})),S=t.createElement("defs",null,t.createElement("clipPath",{id:"book-verification-badge-20px_svg__clip0_1593_35881"},t.createElement("path",{fill:"#fff",transform:"translate(.2)",d:"M0 0h19.59v20H0z"})));const N=function(e){return t.createElement("svg",v({width:20,height:20,viewBox:"0 0 20 20",fill:"none"},e),g,S)};function y(){return(y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var F=t.createElement("g",{clipPath:"url(#book-verification-badge-24px_svg__clip0_1593_35880)"},t.createElement("path",{d:"M22.04 12c0 .97-.7 1.72-1.3 2.36-.35.37-.7.75-.84 1.08-.14.33-.13.82-.14 1.31-.01.91-.03 1.95-.74 2.68-.7.72-1.72.74-2.61.75-.49 0-.98.01-1.29.14-.3.12-.7.5-1.05.86-.64.62-1.36 1.32-2.32 1.32-.95 0-1.68-.7-2.31-1.32a4.3 4.3 0 0 0-1.06-.86c-.32-.14-.8-.14-1.28-.14-.9-.01-1.91-.03-2.62-.75-.7-.73-.72-1.77-.73-2.68-.01-.5-.02-1-.14-1.3-.12-.32-.5-.72-.85-1.09-.6-.64-1.3-1.38-1.3-2.36 0-.97.7-1.72 1.3-2.36.35-.37.71-.75.85-1.08.14-.33.13-.82.14-1.31 0-.91.02-1.95.73-2.67.7-.73 1.73-.75 2.62-.75.48-.01.98-.02 1.28-.15.3-.12.7-.5 1.06-.86.63-.62 1.36-1.32 2.31-1.32.96 0 1.68.7 2.32 1.32.35.36.73.72 1.05.86.32.15.8.14 1.29.15.89 0 1.9.02 2.61.75.71.72.73 1.76.74 2.67 0 .5.02 1 .14 1.3.12.32.5.72.84 1.09.6.64 1.3 1.38 1.3 2.36z",fill:"#437AFF"}),t.createElement("path",{d:"M10.28 15.75c.3 0 .57.12.78.33.2.21.32.5.32.8 0 .1.04.19.11.26a.36.36 0 0 0 .52 0c.07-.07.1-.17.1-.27.01-.3.13-.58.33-.79.21-.21.49-.33.78-.33h2.94c.2 0 .38-.08.52-.22a.76.76 0 0 0 .21-.53V9c0-.2-.07-.39-.21-.53a.73.73 0 0 0-.52-.22h-2.2c-.5 0-.96.2-1.3.55a1.9 1.9 0 0 0-.54 1.32v3.76c0 .1-.04.19-.1.26a.36.36 0 0 1-.53 0 .38.38 0 0 1-.1-.27v-3.74c0-.5-.2-.98-.54-1.33a1.82 1.82 0 0 0-1.3-.55h-2.2c-.2 0-.39.08-.52.22A.76.76 0 0 0 6.6 9v6c0 .2.08.39.22.53.13.14.32.22.51.22h2.94z",fill:"#fff"})),_=t.createElement("defs",null,t.createElement("clipPath",{id:"book-verification-badge-24px_svg__clip0_1593_35880"},t.createElement("path",{fill:"#fff",d:"M0 0h23.5v24H0z"})));const h=function(e){return t.createElement("svg",y({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),F,_)};var E=i(3207),b=function(e){switch(e.size){case"S":return t.createElement(f,null);case"M":return t.createElement(N,null);case"L":return t.createElement(h,null)}},C=function(e){var n=e.size,i=e.mobileSize,u=e.withText,k=e.marginTop,p=e.marginLeft,f=e.marginBottom,v=e.marginRight,g=(0,r.I)(),S=(0,c.F)(),N=(0,a.Uo)().baseTheme,y=(0,E.q3)(S,N);return t.createElement(m.f,{theme:y},t.createElement(o.x,{display:"flex",marginTop:k,marginLeft:p,marginBottom:f,marginRight:v},t.createElement(o.x,{display:"flex",marginTop:u?"1px":void 0},i?t.createElement(t.Fragment,null,t.createElement(d.y,{xs:!0,displayValue:"flex"},t.createElement(b,{size:i})),t.createElement(d.y,{sm:!0,md:!0,lg:!0,xl:!0,displayValue:"flex"},t.createElement(b,{size:n}))):t.createElement(b,{size:n})),u&&t.createElement(o.x,{marginLeft:"5px"},t.createElement(l.F,{scale:"M"},t.createElement("span",{className:g({color:s.mk,fontWeight:500})},"Book Author")))))}},18821:(e,n,i)=>{"use strict";i.d(n,{H:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifications"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isBookAuthor"}}]}}]}}]}},64238:(e,n,i)=>{"use strict";i.d(n,{o:()=>a});var t=i(25735);function a(e){var n,i=(0,t.VB)({name:"enable_lite_verified_book_author",placeholder:!1});return!!e&&!(!i||null===(n=e.verifications)||void 0===n||!n.isBookAuthor)}},84683:(e,n,i)=>{"use strict";i.d(n,{d:()=>d});var t=i(319),a=i.n(t),o=i(68216),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionAvatar_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(o.nf.definitions))}},19308:(e,n,i)=>{"use strict";i.d(n,{b:()=>l,I:()=>r});var t=i(319),a=i.n(t),o=i(68216),d=i(98007),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat(a()(o.nf.definitions),a()(d.Os.definitions))}},82405:(e,n,i)=>{"use strict";i.d(n,{F:()=>h});var t=i(63038),a=i.n(t),o=i(21919),d=i(67294),l=i(5977),r=i(77520),c=i(20297),m=i(25550),s=i(25267),u=i(67701),k=i(26350),p=i(50563),f=i(93310),v=i(77355),g=i(47230),S=i(18627),N=i(66411),y=i(92661),F=i(43487),_=i(50458),h=function(e){var n,i=e.buttonSize,t=e.buttonStyleFn,_=e.collection,h=e.post,b=e.simpleLink,C=e.susiEntry,R=void 0===C?"follow_card":C,w=e.preventParentClick,D=(0,F.v9)((function(e){return e.config.authDomain})),x=(0,m.r)().viewerId,P=(0,S.Av)(),T=(0,N.pK)(),I=(0,l.TH)(),O=(0,y.$B)(I.pathname),B=null==O||null===(n=O.route)||void 0===n?void 0:n.name,M=(0,u.gY)(_),U=M.viewerEdge,H=M.loading,A=function(e,n){var i=(0,o.D)(c.e),t=a()(i,1)[0];return d.useCallback((function(){return t({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,p.im)("followedCollections",!0),followingCollectionConnection:(0,p.Hc)(e.id)}})}})}),[e.id])}(_,x),j=function(e,n){var i=(0,o.D)(c.X),t=a()(i,1)[0];return d.useCallback((function(){return t({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,p.im)("followedCollections",!1)}})}})}),[e.id])}(_,x),V=d.useCallback((function(e){w&&e.preventDefault(),P.event("collection.followed",{collectionId:_.id,followSource:T}),A()}),[_,w,T,P]),z=d.useCallback((function(e){w&&e.preventDefault(),P.event("collection.unfollowed",{collectionId:_.id,followSource:T}),j()}),[w,T,P]),L=!(null==U||!U.isFollowing),W=t?t(!!L):L?"OBVIOUS":"STRONG";return b?d.createElement(f.r,{onClick:L?z:V},d.createElement(v.x,{display:"flex",flexDirection:"row"},L?"Unfollow publication":"Follow publication")):d.createElement(s.I,null,(function(e){return e?d.createElement(g.z,{size:i,onClick:L?z:V,buttonStyle:W,loading:H},L?"Following":"Follow"):d.createElement(k.R,{collection:_,buttonStyle:L?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:E(D,_,h)||"",susiEntry:R,pageSource:(0,r.x)(B,"register")},L?"Following":"Follow")}))},E=function(e,n,i){return n.slug&&(i&&i.id?(0,_.TAb)(e,n.slug,i.id):(0,_.LlO)(e,n.slug))}},20512:(e,n,i)=>{"use strict";i.d(n,{Y4:()=>l,NJ:()=>r,lc:()=>c});var t=i(59713),a=i.n(t),o=i(46696);function d(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function l(e){var n=e.miroId,i=e.originalWidth,t=e.originalHeight,a=e.focusPercentX,d=e.focusPercentY,l=e.croppedWidth;if(!n)return null;var r=(0,o.vz)({miroId:n,aspectRatio:16/9,croppedWidth:l,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:d}),c=(0,o.vz)({miroId:n,aspectRatio:4/3,croppedWidth:l,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:d}),m=(0,o.vz)({miroId:n,aspectRatio:1,croppedWidth:l,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:d}),s=new Set([r,c,m]);return Array.from(s)}function r(e){return function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?d(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({"@type":"ImageObject"},e)}function c(e){var n=e.id,i=e.originalWidth,t=e.originalHeight;if(!n||!i||!t)return null;var a=Math.min(t,60),d=a/t,l=Math.floor(i*d);return r({width:l,height:a,url:(0,o.W6)({miroId:n,width:l,freezeGifs:!0,strategy:o._S.Resample})})}},81712:(e,n,i)=>{"use strict";i.d(n,{f:()=>l});var t=i(319),a=i.n(t),o=i(19308),d=i(78693),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowButton_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}]}}].concat(a()(o.I.definitions),a()(d.s.definitions))}},93647:(e,n,i)=>{"use strict";i.d(n,{C:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"auroraHooks_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}}]}}]}}]}},12182:(e,n,i)=>{"use strict";i.d(n,{fu:()=>_,e9:()=>y});var t=i(319),a=i.n(t),o=i(18821),d=i(98007),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat(a()(d.qU.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponsePopoverMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportUserMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HideResponseMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BlockUserMenuItem_post"}}]}}].concat(a()(l.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HideResponseMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"BlockUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponsePopoverMenu_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportUserMenuItem_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HideResponseMenuItem_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BlockUserMenuItem_catalog"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportUserMenuItem_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HideResponseMenuItem_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"BlockUserMenuItem_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsePopoverMenu_post"}}]}}].concat(a()(o.H.definitions),a()(r.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseHeader_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsePopoverMenu_catalog"}}]}}].concat(a()(o.H.definitions),a()(c.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat(a()(m.definitions))},k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_catalog"}}]}}].concat(a()(s.definitions))},p=i(13740),f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadOrEditSimpleResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_post"}}]}}].concat(a()(u.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadOrEditSimpleResponse_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getCatalogSlugId_Catalog"}}]}}].concat(a()(k.definitions),a()(p.g.definitions))},g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat(a()(m.definitions))},S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryResponse_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_catalog"}}]}}].concat(a()(s.definitions))},N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReply_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadOrEditSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_post"}}]}}].concat(a()(f.definitions),a()(g.definitions))},y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReplies_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReply_post"}}]}}].concat(a()(N.definitions))},F={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReply_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadOrEditSimpleResponse_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_catalog"}}]}}].concat(a()(v.definitions),a()(S.definitions))},_={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedReplies_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReply_catalog"}}]}}].concat(a()(F.definitions))}},55193:(e,n,i)=>{"use strict";i.d(n,{v:()=>t,Q:()=>a});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,i)=>{"use strict";i.d(n,{Lv:()=>u});var t=i(28655),a=i.n(t),o=i(92471),d=i(67294),l=i(27517),r=i(25735),c=i(78285);function m(){var e=a()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return m=function(){return e},e}function s(){var e=a()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return s=function(){return e},e}var u=function(e){var n=e.user,i=e.post,t=e.forceLoad,a=void 0!==t&&t,o=(0,l.I0)(),m=(0,r.VB)({name:"can_view_suspended_content",placeholder:!1})||a;return d.useEffect((function(){m&&(n&&n.isSuspended?o((0,c.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):i&&i.isSuspended&&o((0,c.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==i?void 0:i.id)||""}})))}),[m]),null};(0,o.Ps)(s()),(0,o.Ps)(m())}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/4904.3b0f58c4.chunk.js.map