(self.webpackChunklite=self.webpackChunklite||[]).push([[864],{59250:(e,t,n)=>{"use strict";n.d(t,{MA:()=>s,Zh:()=>a,jM:()=>c});var i=n(63038),o=n.n(i),r=n(67294),l={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0,seeLessPostIds:[],setSeeLessPostIds:function(){}},s=function(e,t,n,i,o){return e.filter((function(e){var r,l,s=null==e?void 0:e.post;return!!s&&!(t.includes(null===(r=s.creator)||void 0===r?void 0:r.id)||n.includes(null===(l=s.collection)||void 0===l?void 0:l.id)||i.includes(s.id)||o.includes(s.id))}))},d=(0,r.createContext)(l),a=function(e){var t=e.children,n=(0,r.useState)(l.mutedAuthorIds),i=o()(n,2),s=i[0],a=i[1],c=(0,r.useState)(l.mutedPubIds),u=o()(c,2),m=u[0],v=u[1],f=(0,r.useState)(l.dismissedPostIds),p=o()(f,2),h=p[0],g=p[1],k=(0,r.useState)(l.seeLessPostIds),S=o()(k,2),P=S[0],I=S[1],w=l.isMutingFromHomeFeed;return r.createElement(d.Provider,{value:{mutedAuthorIds:s,setMutedAuthorIds:a,mutedPubIds:m,setMutedPubIds:v,dismissedPostIds:h,setDismissedPostIds:g,isMutingFromHomeFeed:w,seeLessPostIds:P,setSeeLessPostIds:I}},t)},c=function(){return(0,r.useContext)(d)}},51277:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var i=n(319),o=n.n(i),r=n(48172),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat(o()(r.g.definitions))},s=n(94630),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"}}]}}].concat(o()(l.definitions),o()(s.G.definitions))}},91743:(e,t,n)=>{"use strict";n.d(t,{t:()=>Y});var i=n(67294),o=n(79609),r=n(6443),l=n(67701),s=n(66227),d=n(67154),a=n.n(d),c=n(59713),u=n.n(c),m=n(63038),v=n.n(m),f=n(65331),p=n(17778),h=n(93774),g=n(38352),k=n(37774),S=n(77355),P=n(93310),I=n(73917),w=n(66411),E=n(75221),b=n(77280),y=n(43487);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var A=i.createElement("path",{d:"M6.2 16.8A7.5 7.5 0 1 0 16.8 6.2 7.5 7.5 0 0 0 6.2 16.8z",stroke:"#000",strokeWidth:2,strokeLinecap:"round"}),F=i.createElement("path",{d:"M6 6l11 11",stroke:"#000",strokeWidth:2});const M=function(e){return i.createElement("svg",O({width:19,height:19,viewBox:"0 0 23 23",fill:"none"},e),A,F)};var C=n(68894),x=n(319),N=n.n(x),D=n(5977),L=n(59250),j=n(75880),T=n(18627),U=function(e){var t=e.creatorId,n=e.muteAuthor,o=e.hidePopover,r=e.eventData,l=e.isActiveExpandedPost,s=e.unfollowUser,d=(0,w.pK)(),a=(0,T.Av)(),c={id:t||""},u=(0,j.Pd)(c).viewerEdge,m=!(null==u||!u.isFollowing),v=!(null==u||!u.isMuting),f=(0,D.k6)(),p=(0,L.jM)(),h=p.mutedAuthorIds,k=p.setMutedAuthorIds,S=p.isMutingFromHomeFeed,I=i.useCallback((function(e){k([].concat(N()(h),[e]))}),[h]);return t?m?i.createElement(g.Sl,null,i.createElement(P.r,{onClick:function(){a.event("user.unfollowed",{targetUserId:t,source:d}),s(),o()}},"Unfollow this author")):v?null:i.createElement(g.Sl,null,i.createElement(P.r,{onClick:function(){a.event("user.muted",r),n(),S&&(I(t),l&&f.goBack()),o()}},"Mute this author")):null},_=n(24415),B=n(75150),H=function(e){var t=e.collectionId,n=e.hidePopover,o=e.mutePub,r=e.eventData,s=e.isActiveExpandedPost,d=e.unfollowCollection,a=(0,T.Av)(),c=(0,w.pK)(),u={id:t||""},m=(0,l.gY)(u).viewerEdge,v=!(null==m||!m.isFollowing),f=!(null==m||!m.isMuting),p=(0,L.jM)(),h=p.mutedPubIds,k=p.setMutedPubIds,S=p.isMutingFromHomeFeed,I=(0,D.k6)(),E=i.useCallback((function(e){k([].concat(N()(h),[e]))}),[h]);return t?v?i.createElement(g.Sl,null,i.createElement(P.r,{onClick:function(){a.event("collection.unfollowed",{collectionId:t,followSource:c}),d(),n()}},"Unfollow this publication")):f?null:i.createElement(g.Sl,null,i.createElement(P.r,{onClick:function(){a.event("collection.muted",r),o(),S&&(E(t),s&&I.goBack()),n()}},"Mute this publication")):null},R=n(42732);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t=e.post,n=e.creatorId,o=e.collectionId,r=e.isActiveExpandedPost,l=e.setDismissedPostId,s=e.iconStyle,d=e.hideNegativeSignalItem,c=e.popoverPositioningStrategy,u=e.hideAddToList,m=void 0===u||u,O=e.viewer,A=e.hideOnScroll,F=t.id,x=(0,C.O)(!1),N=v()(x,4),D=N[0],L=N[2],j=N[3],T=null==O?void 0:O.id,W=(0,h.l)(n,o),K=W.muteAuthor,Y=W.mutePub,z=(0,p.l)(n,o),Q=z.unfollowUser,V=z.unfollowCollection,Z=(0,w.pK)(),J=(0,b.PM)(),X=(0,y.v9)((function(e){return e.navigation.referrer})),q=(0,y.v9)((function(e){return e.navigation.currentLocation})),$={postId:F,location:q,referrer:X,source:Z,referrerSource:J},ee=(0,R.c)({post:t,onShowLess:L,isActiveExpandedPost:r,collectionId:o,setDismissedPostId:l}).handleShowLess,te={kind:E.ej.POST,target:t},ne=(0,i.useCallback)((function(e){return i.createElement(g.mX,null,!d&&i.createElement(S.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"4px",marginBottom:"4px"},i.createElement(g.Sl,null,i.createElement(P.r,{onClick:ee,"aria-label":"Show less like this"},i.createElement(S.x,{display:"flex",flexDirection:"row",alignItems:"center",borderBottom:void 0,ariaHidden:"true"},i.createElement(S.x,{marginRight:"4px"},i.createElement(M,null)),i.createElement(S.x,null,"Show less like this"))))),!m&&i.createElement(g.Sl,null,i.createElement(P.r,{"aria-controls":"aria-id","aria-expanded":"false",onClick:function(){L(),e()}},"Add to list")),i.createElement(B.T,{post:t,hidePopover:L}),i.createElement(U,{creatorId:n,muteAuthor:K,isActiveExpandedPost:r,hidePopover:L,eventData:G({targetUserId:n},$),unfollowUser:Q}),o&&i.createElement(H,{collectionId:o,mutePub:Y,isActiveExpandedPost:r,hidePopover:L,eventData:G({collection:o},$),unfollowCollection:V}),i.createElement(k.z,{postId:F,viewerId:T,targetUserId:n||"",shouldShowShortenedCopy:!0,hidePopover:L}))}),[]);return n?i.createElement(f.a,a()({},te,{viewer:O}),(function(e){var t=e.onClick;return i.createElement(I.J,{isVisible:D,positioningStrategy:c,targetDistance:10,hide:L,popoverRenderFn:function(){return ne(t)},hideOnScroll:A},i.createElement(_.c,{onClick:j,"aria-label":"More options",iconStyle:s}))})):null},Y=function(e){var t=e.post,n=e.isActiveExpandedPost,d=e.setDismissedPostId,a=e.iconStyle,c=e.hideNegativeSignalItem,u=e.popoverPositioningStrategy,m=e.hideAddToList,v=void 0===m||m,f=e.hideOnScroll,p=t.creator,h=t.collection,g=(0,r.H)(),k=g.loading,S=g.value,P=(0,l.gY)(h).viewerEdge,I=!k&&!!S,w=!(null==P||!P.isEditor),E=(null==S?void 0:S.id)===(null==p?void 0:p.id);return p&&I?w||E?i.createElement(s.B,null,(function(e){var n=e.show;return i.createElement(o.Z,{post:t,creator:p,collection:h,showLoadingIndicator:n,iconStyle:a,popoverPositioningStrategy:u,hideAddToList:v,hideOnScroll:f})})):i.createElement(K,{post:t,creatorId:p.id,collectionId:null==h?void 0:h.id,isActiveExpandedPost:n,setDismissedPostId:d,iconStyle:a,hideNegativeSignalItem:c,popoverPositioningStrategy:u,hideAddToList:v,viewer:S,hideOnScroll:f}):null}},42732:(e,t,n)=>{"use strict";n.d(t,{c:()=>k});var i=n(319),o=n.n(i),r=n(82492),l=n.n(r),s=n(26075),d=n(90386),a=n(67294),c=n(5977),u=n(59250),m=n(25550),v=n(18627),f=n(66411),p=n(78285),h=n(77280),g=n(43487),k=function(e){var t=e.post,n=e.onShowLess,i=e.isActiveExpandedPost,r=e.collectionId,k=e.setDismissedPostId,S=t.id,P=(0,m.r)().viewerId,I=(0,c.k6)(),w=(0,u.jM)(),E=w.setSeeLessPostIds,b=w.isMutingFromHomeFeed,y=(0,p.w)(),O=(0,s.x)().cache,A=(0,v.Av)(),F=(0,f.pK)(),M=(0,h.PM)(),C=(0,g.v9)((function(e){return e.navigation.referrer})),x=(0,g.v9)((function(e){return e.navigation.currentLocation})),N=(0,a.useRef)(null),D=(0,a.useCallback)((function(){N.current=window.setTimeout((function(){A.event("post.see_less",{userId:P,collection:r,postId:S,location:x,referrer:C,source:F,referrerSource:M})}),3e3)}),[]),L=(0,a.useCallback)((function(){null!==N.current&&window.clearTimeout(N.current)}),[]),j=(0,a.useCallback)((function(){O.modify({id:O.identify((0,d.kQ)("ROOT_QUERY")),fields:{webRecommendedFeed:function(e,t){var n=t.readField;return l()({},e,{items:e.items.filter((function(e){return(null==e?void 0:e.post)&&n("id",e.post)!==S}))})},intentionalFeed:function(e,t){var n=t.readField;return l()({},e,{items:e.items.filter((function(e){return!("HomeFeedItem"===(null==e?void 0:e.__typename)&&null!=e&&e.post&&n("id",e.post)===S)}))})}}})}),[S]);return{handleShowLess:(0,a.useCallback)((function(){D(),j(),b&&(E((function(e){return[].concat(o()(e),[S])})),i&&I.goBack(),null==k||k(S)),y({toastStyle:"USER_NEGATIVE_SIGNAL",extraParams:{onClickUndo:L}}),null==n||n()}),[])}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/864.6cdea30d.chunk.js.map