(self.webpackChunklite=self.webpackChunklite||[]).push([[5530],{48456:(e,n,a)=>{"use strict";a.d(n,{D:()=>u});var t=a(319),i=a.n(t),d=a(88398),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CatalogAddToListItem_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithToggleInsideCatalog_catalog"}}]}}].concat(i()(d.s.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CatalogAddToList_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogAddToListItem_catalog"}}]}}].concat(i()(o.definitions))},r=a(97147),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"YourCatalogsScreen_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogsListItem_catalog"}}]}}].concat(i()(r.c.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GetCatalogsByUserReadingList_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogAddToList_catalog"},directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withCatalogDetails"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"YourCatalogsScreen_catalog"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withCatalogDetails"}}}]}]}]}}].concat(i()(l.definitions),i()(m.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"GetCatalogsByUserCatalogs_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogAddToList_catalog"},directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withCatalogDetails"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"YourCatalogsScreen_catalog"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withCatalogDetails"}}}]}]}]}}].concat(i()(l.definitions),i()(m.definitions))},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCatalogsByUserQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pagingOptions"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CatalogPagingOptionsInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CatalogType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withCatalogDetails"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"readingList"},name:{kind:"Name",value:"getPredefinedCatalog"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"READING_LIST"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"GetCatalogsByUserReadingList_catalog"}}]}},{kind:"Field",name:{kind:"Name",value:"catalogsByUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"Variable",name:{kind:"Name",value:"pagingOptions"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"catalogs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GetCatalogsByUserCatalogs_catalog"}}]}},{kind:"Field",name:{kind:"Name",value:"paging"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"nextPageCursor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}].concat(i()(s.definitions),i()(c.definitions))}},88398:(e,n,a)=>{"use strict";a.d(n,{s:()=>t,m:()=>i});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithToggleInsideCatalog_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]},i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithToggleInsideCatalog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}}]}}]}}]}},63508:(e,n,a)=>{"use strict";a.d(n,{a:()=>S});var t=a(63038),i=a.n(t),d=a(67294),o=a(19416),l=a(1109),r=a(85208),m=a(54758),s=a(13791),c=a(77355),u=a(77593),g=a(93310),k=a(61609),p=a(52069),v=a(87691),f=a(97217),I=a(78285),C=a(43487),N=a(50458);function S(e){var n=e.isVisible,a=e.hide,t=e.target,S=e.kind,y=e.viewer,T=d.useState(""),_=i()(T,2),b=_[0],h=_[1],D=d.useState(!1),F=i()(D,2),E=F[0],O=F[1],w=d.useState(""),A=i()(w,2),L=A[0],V=A[1],x=d.useState(!1),P=i()(x,2),j=P[0],R=P[1],B=(0,C.v9)((function(e){return e.config.authDomain})),G=(0,r.Ax)(y.id),U=G.createCatalog,Q=G.loading,H=G.data,M=G.error,Y=(0,m.T2)(),$=(0,I.w)();d.useEffect((function(){if("Catalog"===(null==H?void 0:H.createCatalog.__typename))if(S&&t){var e=H.createCatalog,n=e.id,a=e.version;Y({userId:y.id,catalogId:n,version:a,kind:S,itemId:t.id}),z()}else window.location.assign((0,N.ykG)(H.createCatalog,B))}),[null==H?void 0:H.createCatalog,S,null==t?void 0:t.id,Y,y.id]),d.useEffect((function(){M&&$({toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[M,$]);var W=d.useCallback((function(e){h(e.target.value)}),[h]),q=d.useCallback((function(e){V(e.target.value)}),[V]),z=d.useCallback((function(){h(""),V(""),O(!1),R(!1),a()}),[a]),X=d.useCallback((function(){var e=b.trim();e.length>0&&U({attributes:{title:e,description:L.trim(),type:f.HQ.LISTS,visibility:j?f.n2.PRIVATE:f.n2.PUBLIC}})}),[b,L,j,U]);return d.createElement(s.v,{isVisible:n,hide:z,confirmText:d.createElement(o.I,{loading:Q,text:"Create"}),isDestructiveAction:!1,onConfirm:X,disableConfirm:!b.trim()||Q||(0,l.G6)(b)||(0,l.z6)(L),hideOnConfirm:!1},d.createElement(c.x,{height:"400px"},d.createElement(c.x,{paddingBottom:"60px"},d.createElement(p.Dx,{scale:"L"},"Create new list")),d.createElement(c.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},d.createElement(c.x,{paddingBottom:"20px"},d.createElement(u.n,{value:b,onChange:W,placeholder:"Give it a name",characterCountLimit:l.lp})),d.createElement(c.x,{paddingBottom:"20px"},E?d.createElement(c.x,{maxHeight:"170px",overflow:"auto"},d.createElement(u.n,{value:L,onChange:q,placeholder:"Description",isMultiline:!0,autoFocus:!0,characterCountLimit:l.B0})):d.createElement(g.r,{onClick:function(){return O(!0)}},d.createElement(v.F,{scale:"L",color:"ACCENT"},"Add a description"))),d.createElement(c.x,null,d.createElement(k.X,{checked:j,onChange:function(){return R(!j)},textScale:"L"},"Make it private")))))}},54758:(e,n,a)=>{"use strict";a.d(n,{PH:()=>y,xt:()=>T,T2:()=>h,qY:()=>D,Yi:()=>F,oj:()=>O});var t=a(59713),i=a.n(t),d=a(63038),o=a.n(d),l=a(28655),r=a.n(l),m=a(50361),s=a.n(m),c=a(92471),u=a(21919),g=a(67294),k=a(12476),p=a(18627),v=a(97217),f=a(11462);function I(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function C(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?I(Object(a),!0).forEach((function(n){i()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function N(){var e=r()(["\n  fragment editCatalogItemsMutation_postViewerEdge on PostViewerEdge {\n    id\n    catalogsConnection {\n      catalogsContainingThis(type: LISTS) {\n        catalogId\n        version\n        catalogItemIds\n      }\n      predefinedContainingThis {\n        catalogId\n        predefined\n        version\n        catalogItemIds\n      }\n    }\n  }\n"]);return N=function(){return e},e}function S(){var e=r()(["\n  mutation EditCatalogItems(\n    $catalogId: String!\n    $version: String!\n    $operations: [CatalogItemMutateOperationInput!]!\n  ) {\n    editCatalogItems(catalogId: $catalogId, version: $version, operations: $operations) {\n      __typename\n      ... on EditCatalogItemsSuccess {\n        version\n        operations {\n          __typename\n          preprend {\n            __typename\n            catalogItemId\n          }\n          append {\n            __typename\n            catalogItemId\n          }\n          move\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}var y="temp-cat-item-id",T="temp-cat-version",_=(0,c.Ps)(S()),b=(0,c.Ps)(N());function h(){var e=(0,p.Av)(),n=(0,g.useRef)(),a=(0,g.useRef)((function(a){var t=n.current;t&&"EditCatalogItemsSuccess"===a.editCatalogItems.__typename&&t.kind===v.ej.POST&&e.event("post.addToList",{listId:t.catalogId,postId:t.itemId})})).current,t=(0,u.D)(_,{onCompleted:a}),i=o()(t,1)[0];return(0,g.useCallback)((function(e){n.current=e,i({variables:{catalogId:e.catalogId,version:e.version,operations:[{preprend:{type:e.kind,id:e.itemId}}]},update:function(n,a){E({viewerId:e.userId,cache:n,result:a,catalogId:e.catalogId,itemId:e.itemId,kind:e.kind,operation:"preprend",predefined:e.predefined}),(0,k.p9)(n,e.userId,v.HQ.LISTS,e.catalogId)}})}),[i])}function D(e,n,a,t,i,d){var o=(0,p.Av)();return(0,u.D)(_,{variables:{catalogId:n,version:a,operations:[{preprend:{type:i,id:t}}]},update:function(a,o){E({viewerId:e,cache:a,result:o,catalogId:n,itemId:t,kind:i,operation:"preprend",predefined:d}),d||(0,k.p9)(a,e,v.HQ.LISTS,n),(0,k.Rx)(a,n,[t],i)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:[{__typename:"EditCatalogItemMutationOperationResponse",preprend:{__typename:"CatalogItemV2",catalogItemId:y},append:null,move:null}],version:T}},onCompleted:function(e){"EditCatalogItemsSuccess"===e.editCatalogItems.__typename&&i===v.ej.POST&&o.event("post.addToList",{listId:n,postId:t})}})}var F=function(e,n,a,t,i,d){var o=(0,p.Av)(),l=t.map((function(e){return e.catalogItemIds})).flat();return(0,u.D)(_,{variables:{catalogId:n,version:a,operations:l.map((function(e){return{delete:{itemId:e}}}))},update:function(a,d){t.forEach((function(t){E({viewerId:e,cache:a,result:d,catalogId:n,itemId:t.entityId,kind:t.entityType,operation:"delete",predefined:i,deletedCatalogItemIds:t.catalogItemIds})})),(0,k.S_)(a,n,l,v.ej.POST),i||(0,k.p9)(a,e,v.HQ.LISTS,n)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:t.map((function(e){return{__typename:"EditCatalogItemMutationOperationResponse",append:null,preprend:null,move:null}})),version:T}},onCompleted:function(e){if("EditCatalogItemsSuccess"===e.editCatalogItems.__typename){d&&d();var a=t.length;a>1?o.event("list.itemsDeleted",{listId:n,itemsCount:a}):t[0].entityType===v.ej.POST&&o.event("post.removeFromList",{listId:n,postId:t[0].entityId})}}})};function E(e){var n,a,t,d=e.cache,o=e.result,l=e.catalogId,r=e.viewerId,m=e.itemId,c=e.kind,u=e.operation,g=e.predefined,p=e.deletedCatalogItemIds,I=null===(n=o.data)||void 0===n?void 0:n.editCatalogItems;if("EditCatalogItemsSuccess"===(null==I?void 0:I.__typename)&&((0,k.UV)(d,l,I.version),c===v.ej.POST)){a=(0,f.Q)(m,r),t=b;var N="".concat("PostViewerEdge",":").concat(a),S=d.readFragment({id:N,fragment:t});if(null!=S&&S.catalogsConnection){var y=I.operations,T=I.version,_=y[0];if(!_||"move"===u)return;var h=s()(g?S.catalogsConnection.predefinedContainingThis:S.catalogsConnection.catalogsContainingThis),D=h.findIndex((function(e){return g?e.predefined===g:e.catalogId===l}));if("append"===u||"preprend"===u){var F=_[u];if(-1!==D)h[D].catalogItemIds.push(F.catalogItemId);else{var E={catalogId:l,version:T,catalogItemIds:[F.catalogItemId]};g&&(E.predefined=g),h.push(E)}}else if("delete"===u&&-1!==D&&p){var O=h[D].catalogItemIds;h[D].catalogItemIds=O.filter((function(e){return!p.includes(e)})),0===h[D].catalogItemIds.length&&h.splice(D,1)}d.writeFragment({id:N,fragment:t,data:C(C({},S),{},{catalogsConnection:C(C({},null==S?void 0:S.catalogsConnection),{},i()({},g?"predefinedContainingThis":"catalogsContainingThis",h))})})}}}function O(e,n,a,t){return(0,u.D)(_,{variables:{catalogId:e,version:n,operations:a},update:function(n){(0,k.uA)(n,e)},onCompleted:t})}},11462:(e,n,a)=>{"use strict";function t(e,n){return"postId:".concat(e,"-viewerId:").concat(n)}a.d(n,{Q:()=>t})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5530.eaf3eeb1.chunk.js.map