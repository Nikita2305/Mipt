(()=>{var __webpack_modules__={95595:t=>{t.exports={attachStacktrace:!0,maxBreadcrumbs:50,ignoreErrors:["TypeError: null is not an object (evaluating 'd.frameElement')","Can't find variable: pktAnnotationHighlighter","ReferenceError: Can't find variable: article","top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Script error."],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]}},99930:t=>{t.exports.en={ERROR_PAGE_AUTH:"Login",ERROR_PAGE_BACK_TO_MAIN:"Back to the main page",ERROR_PAGE_MESSAGE_INTERNAL:"Something went wrong",ERROR_PAGE_MESSAGE_NOT_AUTHORIZED:"Please login to see this page",ERROR_PAGE_MESSAGE_NOT_FOUND:"Page is outdated, was removed or never existed at all",ERROR_PAGE_MESSAGE_NOT_IMPLEMENTED:"Please use desktop version",ERROR_PAGE_MESSAGE_UNAUTHORIZED:"Please login to see this page",ERROR_PAGE_MESSAGE_REDIRECT:"Requested resource is moved",ERROR_PAGE_MESSAGE_TIMEOUT:"Please check your connection and try to refresh the page.",ERROR_PAGE_REFRESH:"Refresh",ERROR_PAGE_TITLE_INTERNAL:"Internal error",ERROR_PAGE_TITLE_NOT_AUTHORIZED:"Authorization failed",ERROR_PAGE_TITLE_NOT_FOUND:"Page not found",ERROR_PAGE_TITLE_REDIRECT:"Moved permanently",ERROR_PAGE_TITLE_NOT_IMPLEMENTED:"This page doesn't have mobile version yet",ERROR_PAGE_TITLE_UNAUTHORIZED:"Access denied",ERROR_PAGE_TITLE_TIMEOUT:"Connection lost",ERROR_PAGE_TITLE_ARTICLE_IN_DRAFTS:"Access to this post is restricted",ERROR_PAGE_MESSAGE_ARTICLE_IN_DRAFTS:"You're trying to open the post, written by '<a class=\"tm-page__link\" href=\"{userProfileLink}\">'{userName}'</a>', but unfortunately it was marked as a draft (by the user himself or the UFO)",ERROR_PAGE_TITLE_ARTICLE_USER_INACTIVE:"Access to this post is restricted",ERROR_PAGE_TITLE_ARTICLE_TARGET_USER_INACTIVE:"Access to this post is restricted",ERROR_PAGE_MESSAGE_ARTICLE_USER_INACTIVE:"You're trying to open a post, written by {userName}, who is now blocked/deactivated or deleted",ERROR_PAGE_MESSAGE_ARTICLE_TARGET_USER_INACTIVE:"You're trying to open a post, written by {userName}, who is now blocked/deactivated or deleted",ERROR_PAGE_TITLE_ARTICLE_USER_BLOCKED:"Access to this post is restricted",ERROR_PAGE_TITLE_ARTICLE_TARGET_USER_BLOCKED:"Access to this post is restricted",ERROR_PAGE_MESSAGE_ARTICLE_USER_BLOCKED:"You're trying to open a post, written by {userName}, who is now banned",ERROR_PAGE_MESSAGE_ARTICLE_TARGET_USER_BLOCKED:"You're trying to open a post, written by {userName}, who is now banned",ERROR_PAGE_MESSAGE_NO_INTERNET_LINK:"Oops, seems the connection is lost",ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_author:"This article has been moved to drafts by the author. Perhaps he will publish it again later.",ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_company_admin:"This article has been moved to drafts by the editor. Perhaps it will be published again later.",ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_moderator:"This article has been moved to drafts by the moderator. Perhaps it will be published again later.",ERROR_IMAGE_WAS_NOT_LOADED:"Failed to load image",ERROR_MISSING_BRANDING_IMAGE:"A cover is supposed to be here, but something went wrong",ERROR_PAGE_MESSAGE_USER_PROFILE_INACTIVE:"You're trying to open the profile page of {userName}, who has been deactivated/deleted",ERROR_PAGE_POST_IS_LOCKED:"You can’t edit this publication right now. Feel free to '<a class=\"tm-page__link\" href=\"/feedback\">'contact us'</a>' if you have any questions.",ERROR_GETTING_REQUEST_TOKEN:"Unable to get access token, please try again later"},t.exports.ru={ERROR_PAGE_AUTH:"Войти",ERROR_PAGE_BACK_TO_MAIN:"Вернуться на главную",ERROR_PAGE_MESSAGE_INTERNAL:"Что-то пошло не так",ERROR_PAGE_MESSAGE_NOT_AUTHORIZED:"Для просмотра этой страницы необходимо авторизоваться",ERROR_PAGE_MESSAGE_NOT_FOUND:"Страница устарела, была удалена или не существовала вовсе",ERROR_PAGE_MESSAGE_NOT_IMPLEMENTED:"Воспользуйтесь полной версией сайта, пожалуйста",ERROR_PAGE_MESSAGE_UNAUTHORIZED:"Для просмотра страницы необходимо авторизоваться",ERROR_PAGE_MESSAGE_REDIRECT:"Запрашиваемый ресурс доступен по другому адресу",ERROR_PAGE_MESSAGE_TIMEOUT:"Проверьте состояние вашего подключения и попробуйте обновить страницу.",ERROR_PAGE_REFRESH:"Обновить",ERROR_PAGE_TITLE_INTERNAL:"Внутренняя ошибка",ERROR_PAGE_TITLE_NOT_AUTHORIZED:"Ошибка авторизации",ERROR_PAGE_TITLE_NOT_FOUND:"Страница не найдена",ERROR_PAGE_TITLE_REDIRECT:"Ресурс перемещён",ERROR_PAGE_TITLE_NOT_IMPLEMENTED:"Для этого раздела мобильная версия еще не готова",ERROR_PAGE_TITLE_UNAUTHORIZED:"Доступ закрыт",ERROR_PAGE_TITLE_TIMEOUT:"Соединение потеряно",ERROR_PAGE_TITLE_ARTICLE_IN_DRAFTS:"Доступ к публикации закрыт",ERROR_PAGE_MESSAGE_ARTICLE_IN_DRAFTS:"Вы пытаетесь открыть публикацию, написанную пользователем '<a class=\"tm-page__link\" href=\"{userProfileLink}\">'{userName}'</a>', однако, публикация скрыта в черновики (самим автором или НЛО)",ERROR_PAGE_TITLE_ARTICLE_USER_INACTIVE:"Доступ к публикации закрыт",ERROR_PAGE_TITLE_ARTICLE_TARGET_USER_INACTIVE:"Доступ к публикации закрыт",ERROR_PAGE_MESSAGE_ARTICLE_USER_INACTIVE:"Вы пытаетесь открыть публикацию, написанную пользователем {userName}, который в настоящее время заблокирован/деактивирован или удалён",ERROR_PAGE_MESSAGE_ARTICLE_TARGET_USER_INACTIVE:"Вы пытаетесь открыть публикацию, написанную пользователем {userName}, который в настоящее время заблокирован/деактивирован или удалён",ERROR_PAGE_TITLE_ARTICLE_USER_BLOCKED:"Доступ к публикации закрыт",ERROR_PAGE_TITLE_ARTICLE_TARGET_USER_BLOCKED:"Доступ к публикации закрыт",ERROR_PAGE_MESSAGE_ARTICLE_USER_BLOCKED:"Вы пытаетесь открыть публикацию, написанную пользователем {userName}, который в настоящее время заблокирован",ERROR_PAGE_MESSAGE_ARTICLE_TARGET_USER_BLOCKED:"Вы пытаетесь открыть публикацию, написанную пользователем {userName}, который в настоящее время заблокирован",ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_author:"Материал был снят с публикации автором. Возможно он опубликует его после доработки.",ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_company_admin:"Материал был снят с публикации редактором. Возможно его опубликуют после доработки.",ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_moderator:"Материал был снят с публикации модератором. Возможно его опубликуют после доработки.",ERROR_PAGE_MESSAGE_NO_INTERNET_LINK:"Ой, кажется, интернет пропал",ERROR_IMAGE_WAS_NOT_LOADED:"Изображение не загружено",ERROR_MISSING_BRANDING_IMAGE:"Тут должна быть обложка, но что-то пошло не так",ERROR_PAGE_MESSAGE_USER_PROFILE_INACTIVE:"Вы пытаетесь открыть профиль пользователя {userName}, который был заблокирован/деактивирован или удалён",ERROR_PAGE_POST_IS_LOCKED:"Вы не можете отредактировать эту публикацию в данный момент. При возникновении вопросов свяжитесь со '<a class=\"tm-page__link\" href=\"/feedback\">'службой поддержки'</a>'.",ERROR_GETTING_REQUEST_TOKEN:"Не удалось получить токен авторизации, попробуйте позже"}},46940:t=>{t.exports.en={SETTINGS_AGREEMENT_FINISH:"The end",SETTINGS_ACTION_SAVE:"Save preferences",SETTINGS_ARTICLES_ERROR:"You should select at least one language",SETTINGS_ARTICLES_TITLE:"Content",SETTINGS_FEED:"Feed",SETTINGS_FEED_CLASSIC:"Classic",SETTINGS_FEED_COMPACT:"Compact",SETTINGS_EMAIL_LABEL:"I want to receive emails on Habr updates (monthly)",SETTINGS_DIGEST_LABEL:"I want to receive digests with the best articles (weekly)",SETTINGS_FL_LANG_ENGLISH:"English",SETTINGS_FL_LANG_RUSSIAN:"Russian",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"site rules",SETTINGS_TITLE:"Page settings",SETTINGS_UI_TITLE:"Interface",SETTINGS_SUCCESS:"Settings were updated successfully",SETTINGS:"Settings",SETTINGS_PROFILE:"Profile settings",SETTINGS_PROFILE_TITLE:"Profile",SETTINGS_SPECS:"Specialization settings",SETTINGS_SPECS_TITLE:"Specialization",SETTINGS_SKILLS_PLACEHOLDER:"Enter skill",SETTINGS_SKILLS_TITLE:"Skills",SETTINGS_SKILLS_HINT:"Select up to ten of your skills and rank them in descending order of importance.",SETTINGS_SPECS_HINT:"Select your specialization.",SETTINGS_SPECS_QUALIFICATION_TITLE:"Qualification",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Not specified",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Specialization title",SETTINGS_SPECS_OCCUPATION:"Occupation",SETTINGS_SPECS_SUM:"Sum",SETTINGS_SPECS_SALARY:"Desired salary",SETTINGS_SPECS_SALARY_HINT:"Indicate here how much you would like to earn.",SETTINGS_PROFILE_UPGRADE_TITLE:"Upgrade",SETTINGS_PRIVACY_TITLE:"Privacy",SETTINGS_NOTIFICATIONS_TITLE:"Notifications",SETTINGS_APPS_INSTALLED_TITLE:"Installed applications",SETTINGS_APPS_TITLE:"Applications",SETTINGS_APPS_MY_TITLE:"My applications",SETTINGS_APPS_REMOVE:"Remove",SETTINGS_APPS_EDIT:"Edit",SETTINGS_APPS_EMPTY:"You have no applications yet",SETTINGS_APPS_ADD:"Add new application",SETTINGS_APP_EDIT_TITLE:"Edit application",SETTINGS_APP_ADD_TITLE:"Add new application",SETTINGS_APP_IMAGE:"Icon",SETTINGS_APP_TITLE:"Application name",SETTINGS_APP_TITLE_HINT:"Enter application name",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Specify the URL for the redirect after authorization",SETTINGS_APP_ABOUT_HINT:"Describe your application",SETTINGS_APP_ABOUT:"Short description",SETTINGS_APP_TYPE:"Application type",SETTINGS_APP_TYPE_WEB:"Web application",SETTINGS_APP_TYPE_MOBILE:"Mobile application",SETTINGS_APP_TYPE_BROWSER:"Browser application",SETTINGS_APP_SCOPE:"Access permissions",SETTINGS_APP_READ:"Read only",SETTINGS_APP_READ_BOOKMARK:"Read only + bookmarks",SETTINGS_APP_ALL_RIGHTS:"Full access",SETTINGS_APP_EXTENDED:"Extended rights",SETTINGS_APP_COMPANY_NAME:"Company name",SETTINGS_APP_COMPANY_NAME_HINT:"Enter the developer company name",SETTINGS_APP_COMPANY_URL:"Company’s website",SETTINGS_APP_COMPANY_URL_HINT:"Enter the devepoler company’s website",SETTINGS_APP_TYPE_CHOOSE:"Select type",SETTINGS_APP_SCOPE_CHOOSE:"Select access permissions",SETTINGS_APP_RESET_CLIENT_ID:"Reset Client ID & Client Secret",SETTINGS_APP_RESET_API_KEY:"Reset API Key",SETTINGS_APP_RESET_HINT:"After the reset, all your applications will stop working until you update the settings",SETTINGS_ACCOUNT_TITLE:"Account",SETTINGS_MISC_TITLE:"Other",SETTINGS_PROFILE_AVATAR:"Avatar",SETTINGS_PROFILE_AVATAR_HINT:"Format: jpg, gif, png. '<br/>' Maximal size: 1 MB. '<br/>' Resolution: up to 96x96px.",SETTINGS_PROFILE_REALNAME:"Actual name",SETTINGS_PROFILE_REALNAME_HINT:"Specify your first and last name so that other users can find out what your name is",SETTINGS_PROFILE_WORKPLACE:"Workplace",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Link with the company will be removed after saving the changes.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Contact link will be removed after saving the changes.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_SPECIALITY:"Describe yourself",SETTINGS_PROFILE_SPECIALITY_HINT:"Specify your specialization. For example: Database Administrator",SETTINGS_PROFILE_GENDER:"Gender",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Not specified",SETTINGS_PROFILE_GENDER_MALE:"Male",SETTINGS_PROFILE_GENDER_FEMALE:"Female",SETTINGS_PROFILE_BIRTH_DATE:"Birth date",SETTINGS_PROFILE_BIRTH_DAY:"Day",SETTINGS_PROFILE_BIRTH_MONTH:"Month",SETTINGS_PROFILE_BIRTH_YEAR:"Year",SETTINGS_PROFILE_LOCATION:"Location",SETTINGS_PROFILE_COUNTRY:"Country",SETTINGS_PROFILE_REGION:"Region",SETTINGS_PROFILE_CITY:"City",SETTINGS_PROFILE_CONTACTS:"Contacts and social media",SETTINGS_PROFILE_CONTACTS_HINT:"Specify the username or ID and we will create the link ourselves. If you want the link to be shown in the authors information panel, select it by clicking on the icon on the right.",SETTINGS_PROFILE_CONTACTS_ADD:"Add link",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Wallet number 11-20 digits",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"PayPal.Me identificator. 3 to 20 digits and/or English letters",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Wallet number. 12 digits",SETTINGS_PROFILE_PAYMENTS:"Payment details",SETTINGS_PROFILE_PAYMENTS_HINT:"If you want to receive rewards from others for your posts, specify the numbers of your wallets.",SETTINGS_PROFILE_ABOUT:"Tell us about yourself",SETTINGS_PROFILE_ABOUT_HINT:"No more than 6 500 characters",SETTINGS_PROFILE_SUBMIT:"Save changes",SETTINGS_PROFILE_SHOW_CONTACTS:"Who can see your websites and social networking accounts",SETTINGS_PROFILE_TO_EVERYONE:"everyone",SETTINGS_PROFILE_TO_FOLLOWING:"only those you are following",SETTINGS_PROFILE_INBOX_ACCESS:"Who can send you direct messages",SETTINGS_PROFILE_FROM_EVERYONE:"everyone",SETTINGS_PROFILE_FROM_FOLLOWERS:"only those you are following",SETTINGS_PROFILE_SHOW_ACTIVITY:"Who can track your activity on Habr",SETTINGS_PROFILE_TO_FOLLOWERS:"only those who following you",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Notifications about new comments",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"To my posts",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"To posts I left comments to",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"To posts I have bookmarked",SETTINGS_NOTIFICATIONS_TRACKER:"Tracker",SETTINGS_NOTIFICATIONS_EMAIL:"Email",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Send me emails",SETTINGS_NOTIFICATIONS_NEWS:"About Habr news",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"About new opportunities for me on Habr",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"About new messages in conversations",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"About new replies to my comments",SETTINGS_NOTIFICATIONS_NEW_MENTION:"When I’m mentioned in posts and comments",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"When new subscriber added",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Tracker settings",SETTINGS_NOTIFICATIONS_TRACKER_BADGE:"Show the number of unread notifications next to the tracker icon",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Show followers bookmarks in tracker",SETTINGS_NOTIFICATIONS_DIGEST:"How often do you want to receive a newsletter with the most interesting from the hubs you are subscribed to?",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Send never",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Send every day",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Send weekly",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Send monthly",SETTINGS_MISC_INTERACTIONS:"Interaction",SETTINGS_MISC_REFRESH_PANEL:"Show comments update panel",SETTINGS_MISC_HOTKEYS:"Use hotkeys ('<a href=\"/docs/help/hotkeys/\">'list'</a>')",SETTINGS_MISC_DISABLE_ADS:"Disable ads",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Yes, that would be great!",SETTINGS_READONLY_UPGRADE:"If you have an invitation code, enter it in a field below to get all the features of the full account.",SETTINGS_INVITE_CODE:"Invitation code",SETTINGS_INVITE_RECALLED:"The invitation was recalled",SETTINGS_INVITE_APPLIED:"Invitation was applied",SETTINGS_INVITE_ALREADY_USED:"The invitation has already been used",SETTINGS_INVITE_USER_ALREADY_FULL:"You are already full-fledged user of Habr, so you can't use invitations"},t.exports.ru={SETTINGS_AGREEMENT_FINISH:"Завершить настройку",SETTINGS_ACTION_SAVE:"Сохранить настройки",SETTINGS_ARTICLES_ERROR:"Должен быть выбран хотя бы один язык",SETTINGS_ARTICLES_TITLE:"Публикации",SETTINGS_FEED:"Вид ленты",SETTINGS_FEED_CLASSIC:"Классический",SETTINGS_FEED_COMPACT:"Компактный",SETTINGS_EMAIL_LABEL:"Хочу получать письма об изменениях на сайте (не чаще раза в месяц)",SETTINGS_DIGEST_LABEL:"Хочу получать дайджест с лучшими статьями (раз в неделю)",SETTINGS_FL_LANG_ENGLISH:"Английский",SETTINGS_FL_LANG_RUSSIAN:"Русский",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"правила сайта",SETTINGS_TITLE:"Настройки страницы",SETTINGS:"Настройки",SETTINGS_PROFILE:"Настройки профиля",SETTINGS_SPECS:"настройки специалиазции",SETTINGS_SPECS_TITLE:"Специализация",SETTINGS_SKILLS_TITLE:"Профессиональные навыки",SETTINGS_SKILLS_HINT:"Выберите до десяти своих профессиональных навыков и расставьте в порядке убывания их важности.",SETTINGS_SKILLS_PLACEHOLDER:"Введите навык",SETTINGS_SPECS_HINT:"Выберите вашу специализацию.",SETTINGS_SPECS_OCCUPATION:"Профессия",SETTINGS_SPECS_QUALIFICATION_TITLE:"Квалификация",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Не указана",SETTINGS_SPECS_SUM:"Сумма",SETTINGS_SPECS_SALARY:"Желаемая зарплата",SETTINGS_SPECS_SALARY_HINT:"Укажите здесь, сколько вы хотели бы зарабатывать.",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Название специализации",SETTINGS_UI_TITLE:"Интерфейс",SETTINGS_SUCCESS:"Настройки обновлены успешно",SETTINGS_PROFILE_TITLE:"Профиль",SETTINGS_PROFILE_UPGRADE_TITLE:"Апгрейд",SETTINGS_PRIVACY_TITLE:"Приватность",SETTINGS_NOTIFICATIONS_TITLE:"Уведомления",SETTINGS_APPS_INSTALLED_TITLE:"Установленные приложения",SETTINGS_APPS_TITLE:"Приложения",SETTINGS_APPS_MY_TITLE:"Мои приложения",SETTINGS_APPS_REMOVE:"Удалить",SETTINGS_APPS_EDIT:"Редактировать",SETTINGS_APPS_EMPTY:"У вас пока нет приложений",SETTINGS_APPS_ADD:"Добавить приложение",SETTINGS_APP_EDIT_TITLE:"Редактирование приложения",SETTINGS_APP_ADD_TITLE:"Создание приложения",SETTINGS_APP_RESET_CLIENT_ID:"Сбросить Client ID и Client Secret",SETTINGS_APP_RESET_API_KEY:"Сбросить API Key",SETTINGS_APP_RESET_HINT:"Сброс Client ID и Client Secret — это исключительный механизм, который не стоит запускать без необходимости",SETTINGS_APP_IMAGE:"Иконка",SETTINGS_APP_TITLE:"Название",SETTINGS_APP_TITLE_HINT:"Укажите название приложения",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Укажите url для редиректа после авторизации",SETTINGS_APP_ABOUT_HINT:"Опишите ваше приложение",SETTINGS_APP_ABOUT:"Краткое описание",SETTINGS_APP_TYPE:"Тип",SETTINGS_APP_TYPE_WEB:"Веб приложение",SETTINGS_APP_TYPE_MOBILE:"Мобильное приложение",SETTINGS_APP_TYPE_BROWSER:"Браузерное приложение",SETTINGS_APP_SCOPE:"Права",SETTINGS_APP_READ:"Только чтение",SETTINGS_APP_READ_BOOKMARK:"Только чтение + закладки",SETTINGS_APP_ALL_RIGHTS:"Все права",SETTINGS_APP_EXTENDED:"Расширенные права",SETTINGS_APP_COMPANY_NAME:"Название компании",SETTINGS_APP_COMPANY_NAME_HINT:"Укажите название компании разработчика",SETTINGS_APP_COMPANY_URL:"Сайт компании",SETTINGS_APP_COMPANY_URL_HINT:"Укажите сайт компании разработчика",SETTINGS_APP_TYPE_CHOOSE:"Выберите тип",SETTINGS_APP_SCOPE_CHOOSE:"Выберите права",SETTINGS_ACCOUNT_TITLE:"Аккаунт",SETTINGS_MISC_TITLE:"Другое",SETTINGS_PROFILE_AVATAR:"Аватар",SETTINGS_PROFILE_AVATAR_HINT:"Формат: jpg, gif, png. '<br/>' Максимальный размер файла: 1Mb. '<br/>' Разрешение: до 96x96px.",SETTINGS_PROFILE_REALNAME:"Настоящее имя",SETTINGS_PROFILE_REALNAME_HINT:"Укажите ваши имя и фамилию, чтобы другие пользователи смогли узнать, как вас зовут",SETTINGS_PROFILE_WORKPLACE:"Место работы",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Удалим место работы, после сохрания изменений.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Удалим контакт, после сохранения изменений.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_SPECIALITY:"Опишите себя",SETTINGS_PROFILE_SPECIALITY_HINT:"Укажите свою специализацию. Например: Администратор баз данных",SETTINGS_PROFILE_GENDER:"Пол",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Не указан",SETTINGS_PROFILE_GENDER_MALE:"Мужской",SETTINGS_PROFILE_GENDER_FEMALE:"Женский",SETTINGS_PROFILE_BIRTH_DATE:"Дата рождения",SETTINGS_PROFILE_BIRTH_DAY:"Число",SETTINGS_PROFILE_BIRTH_MONTH:"Месяц",SETTINGS_PROFILE_BIRTH_YEAR:"Год",SETTINGS_PROFILE_LOCATION:"Местоположение",SETTINGS_PROFILE_COUNTRY:"Страна",SETTINGS_PROFILE_REGION:"Регион",SETTINGS_PROFILE_CITY:"Город",SETTINGS_PROFILE_CONTACTS:"Контактная информация и веб-ресурсы",SETTINGS_PROFILE_CONTACTS_HINT:"Укажите имя пользователя или ID и мы сами сделаем ссылку. Чтобы ссылка появилась в информационной панели автора публикации, отметьте её, кликнув на иконку справа.",SETTINGS_PROFILE_CONTACTS_ADD:"Добавить ссылку",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Номер кошелька. От 11 до 20 цифр",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"Идентификатор PayPal.me От 3 до 20 цифр и/или латинских букв",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Номер WMID. 12 цифр",SETTINGS_PROFILE_PAYMENTS:"Платежные реквизиты",SETTINGS_PROFILE_PAYMENTS_HINT:"Если вы хотите получать от других вознаграждение за свои публикации, укажите номера ваших кошельков.",SETTINGS_PROFILE_ABOUT:"Расскажите о себе",SETTINGS_PROFILE_ABOUT_HINT:"Не более 6 500 символов",SETTINGS_PROFILE_SUBMIT:"Сохранить изменения",SETTINGS_PROFILE_SHOW_CONTACTS:"Показывать ваши сайты и аккаунты в соцсетях",SETTINGS_PROFILE_TO_EVERYONE:"всем",SETTINGS_PROFILE_TO_FOLLOWING:"только тем, на кого вы подписаны",SETTINGS_PROFILE_INBOX_ACCESS:"Принимать личные сообщения",SETTINGS_PROFILE_FROM_EVERYONE:"ото всех",SETTINGS_PROFILE_FROM_FOLLOWERS:"только от тех, на кого вы подписаны",SETTINGS_PROFILE_SHOW_ACTIVITY:"Показывать вашу активность на сайте",SETTINGS_PROFILE_TO_FOLLOWERS:"только тем, кто подписан на вас",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Уведомления о новых комментариях",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"К моим публикациям",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"К публикациям, где есть мой комментарий",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"К публикациям у меня в закладках",SETTINGS_NOTIFICATIONS_TRACKER:"Трекер",SETTINGS_NOTIFICATIONS_EMAIL:"Почта",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Отправлять мне письма",SETTINGS_NOTIFICATIONS_NEWS:"Об изменениях на сайте",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"О новых для меня возможностях на сайте",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"О новых сообщениях в Диалогах",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"Об ответах на мои комментарии",SETTINGS_NOTIFICATIONS_NEW_MENTION:"Если меня упомянули в публикации или комментарии",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"Если у меня новый подписчик",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Настройки трекера",SETTINGS_NOTIFICATIONS_TRACKER_BADGE:"Показывать число непрочитанных уведомлений рядом с иконкой трекера",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Показывать закладки, которые добавили пользователи, на которых я подписан",SETTINGS_NOTIFICATIONS_DIGEST:"Выберите частоту рассылки дайджеста о самом интересном по вашим хабам",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Не присылать",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Присылать каждый день",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Присылать раз в неделю",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Присылать раз в месяц",SETTINGS_MISC_INTERACTIONS:"Взаимодействие",SETTINGS_MISC_REFRESH_PANEL:"Отображать панель обновления комментариев",SETTINGS_MISC_HOTKEYS:"Использовать горячие клавиши ('<a href=\"/docs/help/hotkeys/\">'список'</a>')",SETTINGS_MISC_DISABLE_ADS:"Отключить рекламу на сайте",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Да, это было бы здорово!",SETTINGS_READONLY_UPGRADE:"Если у вас есть приглашение, вы можете написать его в форму ниже и получить все доступные для полноправных аккаунтов возможности.",SETTINGS_INVITE_CODE:"Код приглашения",SETTINGS_INVITE_RECALLED:"Приглашение было отозвано",SETTINGS_INVITE_APPLIED:"Приглашение применено",SETTINGS_INVITE_ALREADY_USED:"Приглашение уже было использовано",SETTINGS_INVITE_USER_ALREADY_FULL:"Вы уже являетесь полноправным пользователем Хабра и не можете использовать приглашения"}},77699:t=>{function e({hubs:t}){if(!t)return[];const e=t.filter((t=>"corporative"===t.type));return e.length>0&&e[0].alias}function s(t){const{isCorporative:s}=t,n=e(t);if(s&&"news"!==t.postType&&"megaproject"!==t.postType)return`company/${n}/blog`;switch(t.postType){case"sandbox":return"sandbox";case"megaproject":return"article";case"news":return s?`company/${n}/news/t`:"news/t";default:return"post"}}function n(t,e="https://habr.com"){const n=s(t),{lang:i,id:a}=t;return`${e}/${i}/${n}/${a}/`}t.exports={articleCanonical:n}},41258:t=>{function e(t){const e=[];let s=t.postType;"article"===t.postType?s="publish":"megaproject"===t.postType&&(s="megapost");let n="_ugc";t.isEditorial&&(n="_editorial"),t.isCorporative&&(n="_corp"),"megaproject"===t.postType&&(n=""),e.push(`${s}${n}_${t.lang}`);const i=t.flows?t.flows.map((t=>`f_${t.alias}`)):[],a=[],o=[];return t.hubs&&t.hubs.forEach((t=>{"corporative"===t.type?a.push(`c_${t.alias}`):o.push(`h_${t.id}`)})),[...e,...a,...o,...i].join(",")}t.exports=e},19682:t=>{const e=t=>t.split(",").reduce(((t,e)=>{const[s,n]=e.split("=");return{...t,[s]:"on"===n}}),{}),s=t=>"on"==={VUE_APP_RELEASE_VERSION:"2022-12-14-07-24",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"UA-726094-1",VUE_APP_ANALYTICS_GA_BETA_KEY:"UA-726094-33",VUE_APP_ANALYTICS_GA_HOSTNAME:"habr.com",VUE_APP_ANALYTICS_GA_OPTIMIZE_KEY:"GTM-559GVC8",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_ANALYTICS_YANDEX_METRIKA_KEY:"24049213",VUE_APP_API_HOST_EXTERNAL:"https://api.int.habr.com/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_USE_REQUEST_IDS:"on",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_NEW_COMPANY_ADMIN_FEATURE_ENABLED:"off",VUE_APP_MEGAPOSTS_ADMIN_FEATURE_ENABLED:"on",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_FEATURE_BETA:"off",VUE_APP_ENABLE_YANDEX_ADS:"off",VUE_APP_MAIN_TOPIC:"on",VUE_APP_CAREER_BLOCK_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_IPAD_ENABLE:"on",VUE_APP_PINNED_COOKIE_KEY:"habr-web-collapsed-pinned",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_COMMENTS_NEW_WYSIWYG:"on",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_SENTRY_DSN_API:"https://e0e387b25a1049dbb812bf8a197403f2@sentry.habralab.com/12",VUE_APP_VERSION:"2.103.0",BASE_URL:"https://assets.habr.com/habr-web/"}[`VUE_APP_FEATURE_${t}`];t.exports={parseFeaturesSettings:e,getFeatureStatusFromEnv:s}},76721:t=>{const e="habr_web_flow_filter_",s="news_";function n({flowName:t,isNews:n}){const i=[e];return n&&i.push(s),i.push(t),i.join("")}t.exports={buildCookieName:n}},84291:(t,e,s)=>{"use strict";s.d(e,{gI:()=>u,p6:()=>c,qv:()=>m});var n=s(72923),i=s.n(n),a=s(90619),o=s.n(a);function r(t){return!t.author||t.author.is_banned}function l(t){return{...t,isUfo:!0}}function c(t){const e=new Date(t),s=t=>o()(t.toString(),2,"0"),n=s(e.getDate()),i=s(e.getMonth()+1),a=s(e.getFullYear()),r=s(e.getHours()),l=s(e.getMinutes());return{date:`${n}.${i}.${a}`,time:`${r}:${l}`}}function m(t){return r(t)?l(t):t}function u(t){const e=i().map(t,{id:i().maybe.nonEmptyString,isSuspended:i().maybe.boolean,isAuthor:i().boolean,isPostAuthor:i().boolean,isNew:i().boolean,score:i().maybe.number,message:i().nonEmptyString,timePublished:i().nonEmptyString});return i().all(e)}},50283:(t,e,s)=>{"use strict";s.d(e,{Sj:()=>u,Zp:()=>l,d:()=>r,ei:()=>c,kW:()=>a,rv:()=>m});var n=s(16480);s(60608);const i=t=>({id:t.id,alias:t.alias,avatarUrl:t.avatarUrl,fullname:t.fullname,speciality:t.speciality}),a=t=>({id:t.id,conversationId:t.conversationId,isAuthor:t.isAuthor,userInfo:i(t.author),isNew:t.isNew,textHtml:t.textHtml,timeCreated:(0,n.sG)(t.timeCreated)}),o=t=>({id:t.id,lastMessage:t.lastMessage&&t.lastMessage.text,lastMessageTime:(0,n.sG)(t.lastMessage&&t.lastMessage.timeCreated),respondentInfo:i(t.respondent),unreadCount:parseInt(t.unreadCount,10)||0}),r=t=>({unreadCount:parseInt(t.unreadCount,10)||0}),l=t=>(t.conversationIds||[]).map((e=>i(t.conversationRefs[e].respondent))),c=t=>({conversations:(t.conversationIds||[]).map((e=>o(t.conversationRefs[e]))),pagesCount:parseInt(t.pagesCount,10)||0}),m=t=>({messages:(t.messageIds||[]).map((e=>a(t.messageRefs[e]))),respondent:i(t.conversation.respondent),unreadCount:parseInt(t.conversation.unreadCount,10)||0,isLoadMore:t.hasMore}),u=t=>({source:t,editorVersion:1,isMarkdown:!0})},46100:(t,e,s)=>{"use strict";function n(t,e=""){return t.reduce(((t,s)=>({...t,[s]:{errors:[],ref:null,value:e}})),{})}function i(t){return{get(){return this.inputs[t].value},set(e){this.setInputValue({name:t,value:e})}}}s.d(e,{X:()=>i,j:()=>n})},28306:(t,e,s)=>{"use strict";s.d(e,{CJ:()=>r,GD:()=>d,Rl:()=>m,Ye:()=>o,h$:()=>l,tQ:()=>c,wY:()=>a});var n=s(7748),i=s(77699);function a(t){return[{property:"og:title",content:t,vmid:"og:title"},{name:"twitter:title",content:t,vmid:"twitter:title"},{name:"aiturec:title",content:t,vmid:"aiturec:title"}]}function o(t){const e=(0,n._)(t);return[{name:"description",content:e,vmid:"description"},{itemprop:"description",content:e,vmid:"description:itemprop"},{property:"og:description",content:e,vmid:"og:description"},{name:"twitter:description",content:e,vmid:"twitter:description"},{property:"aiturec:description",content:e,vmid:"aiturec:description"}]}const r=t=>t&&{property:"vk:image",content:`${t}?format=vk`,vmid:"vk:image"};function l(t){return t?[{itemprop:"image",content:t,vmid:"image:itemprop"},{property:"og:image",content:t,vmid:"og:image"},{property:"og:image:width",content:"1200",vmid:"og:image:width"},{property:"og:image:height",content:"630",vmid:"og:image:height"},{property:"aiturec:image",content:t,vmid:"aiturec:image"},{name:"twitter:image",content:t,vmid:"twitter:image"},r(t)]:null}function c({id:t,date:e}){const s=new Date(e).toISOString();return[{property:"aiturec:item_id",content:t,vmid:"aiturec:item_id"},{property:"aiturec:datetime",content:s,vmid:"aiturec:datetime"}]}function m(t=[]){return t.filter((t=>-1===t.indexOf("stylesheets.mobile.css"))).map((t=>({href:t,rel:"stylesheet"})))}const u={en:"en_US",ru:"ru_RU"},d=t=>{const{titleHtml:e,id:s,lang:n,timePublished:m,metadata:d}=t,{metaDescription:p,shareImageUrl:_,shareImageWidth:h,shareImageHeight:g,vkShareImageUrl:T}=d;return[...a(e),...o(p),...l(_),r(T),...c({id:s,date:m}),{content:(0,i.articleCanonical)(t),property:"og:url",vmid:"og:url"},{property:"og:type",content:"article",vmid:"og:type"},{property:"og:locale",content:u[n],vmid:"og:locale"},{property:"og:image:width",content:h,vmid:"og:image:width"},{property:"og:image:height",content:g,vmid:"og:image:height"},{name:"keywords",content:t.tags.map((t=>t.titleHtml)).join(", ")}].filter(Boolean)}},60608:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});class n extends Error{constructor(t,e,s){super(e),this.code=t,this.name="ResponseError",this.data=s}static getRouteNameByErrorCode(t){return n.is4xxError(t)?"ERROR_NOT_FOUND":n.is5xxError(t)?"ERROR_INTERNAL":"ERROR_UNKNOWN"}static getRoutePathByErrorCode(t){return n.is4xxError(t)?"/error/404/":n.is5xxError(t)?"/error/500/":"/error/unknown/"}static is4xxError(t){return t>=400&&t<=499}static is403Error(t){return 403===t}static is401Error(t){return 401===t}static is5xxError(t){return t>=500&&t<=599}static is403WithUserType(t){return this.is403Error(t.code)&&t.data&&t.data.userType}static is403WithReason(t){return this.is403Error(t.code)&&t.data&&t.data.reason}static factory(t,e,s){return new n(t,e,s)}static isResponseError(t){return"ResponseError"===t.name}}},30434:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var n=s(80129),i=s.n(n),a=s(24646);class o{constructor(t){this.campaign=t.campaign,this.content=t.content,this.medium=t.medium,this.source=t.source}clone(){return new o(this)}setCampaign(t){return this.campaign=t,this}setContent(t){return this.content=t,this}setMedium(t){return this.medium=t,this}setSource(t){return this.source=t,this}toString(){return i().stringify({utm_campaign:this.campaign,utm_content:this.content,utm_medium:this.medium,utm_source:this.source},{arrayFormat:"indices"})}static isUtm(t){return(0,a.HD)(t.campaign)||(0,a.HD)(t.content)||(0,a.HD)(t.medium)||(0,a.HD)(t.source)}static toUtm(t){return{utm_campaign:t.campaign,utm_content:t.content,utm_medium:t.medium,utm_source:t.source}}static parse(t){return new o(t)}}},57255:(t,e,s)=>{"use strict";var n=s(20144),i=s(41151),a=(s(66337),s(40802)),o=s(93096),r=s.n(o),l=s(52322),c=s(67356),m=s(72433),u=s(10671),d=s.n(u),p=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e(t.currentLayout,{tag:"component"}),t._v(" "),e("PortalTarget",{attrs:{multiple:"",name:"overlays"}})],1)},_=[],h=s(20629),g=s(28306),T=function(){var t=this,e=t._self._c;return e("TMLayoutMetaWrapper",{staticClass:"tm-layout__wrapper",class:t.className},[e("router-view",{attrs:{name:"ads"}}),t._v(" "),e("TMAnalytics"),t._v(" "),t.isMobile&&t.isFeatureShown&&!t.isTablet?e("TMFeature"):t._e(),t._v(" "),t.isBlankPage?t._e():e("TMHeader",{attrs:{"is-feature-shown":t.isFeatureShown,"is-sticky":t.isHeaderSticky&&(t.isMobile||t.isPwa)},on:{showNavMenu:function(e){t.navMenuVisible=!0}}}),t._v(" "),e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{"shift+/":t.toggleHotKeysPopup},expression:"{ 'shift+/': toggleHotKeysPopup }",modifiers:{stop:!0}}],staticClass:"tm-layout",class:{"tm-layout__wrapper_fix-header":t.isPwa}},[e("TMPageProgressBar",{attrs:{"is-finished":t.isDataLoaded,"is-processing":t.isDataLoading}}),t._v(" "),t.isPwa||t.isMobile&&!t.isTablet?t._e():e("div",{staticClass:"tm-base-layout__header",class:{"tm-base-layout__header_is-sticky":t.isDesktop},attrs:{"data-menu-sticky":t.isDesktop}},[e("TMPageWidth",[e("div",{staticClass:"tm-base-layout__header-wrapper"},[!t.isTablet&&!t.isDesktop||t.isBlankPage?t._e():e("TMMainMenu"),t._v(" "),t.isDesktop?e("TMHeaderUserMenu",{staticClass:"tm-base-layout__user-menu"}):t._e()],1)])],1),t._v(" "),e("TMScrollTop"),t._v(" "),e("TMPageWidth",{attrs:{"no-padding":t.isTablet}},[t.showRefreshNotice?e("TMNotification",[e("p",[t._v("\n          "+t._s(t.msg("REFRESH_TITLE"))+"\n        ")]),t._v(" "),e("TMButtonBase",{staticClass:"tm-notification-refresh__action",attrs:{"style-size":"small","style-type":"transparent"},on:{click:t.reloadThePage}},[t._v("\n          "+t._s(t.msg("REFRESH_ACTION"))+"\n        ")])],1):t._e(),t._v(" "),t.showCacheNotice?e("TMNotification",{attrs:{layout:"minimal"}},[e("span",[t._v("\n          "+t._s(t.msg("CACHED_DATA_TITLE"))+"\n          "),e("br"),t._v("\n          "+t._s(t.msg("CACHED_DATA"))+"\n          "),e("TMDatetime",{attrs:{date:new Date(t.cacheTime),"show-full-date-time":!0}})],1)]):t._e(),t._v(" "),t.showNewVersionNotice?e("TMNotification",{attrs:{static:""}},[e("div",{staticClass:"tm-base-layout__notification-title"},[t._v("\n          "+t._s(t.msg("BETA_TEST_TITLE"))+"\n        ")]),t._v(" "),e("p",{staticClass:"tm-base-layout__notification-text",domProps:{innerHTML:t._s(t.msg("BETA_TEST_TEXT"))}}),t._v(" "),e("TMButtonBase",{staticClass:"tm-base-layout__notification-button",attrs:{"style-size":"small","style-type":"solid"},on:{click:function(e){return t.setBetaTestCookie("true")}}},[t._v("\n          "+t._s(t.msg("BETA_TEST_YES"))+"\n        ")]),t._v(" "),e("TMButtonBase",{staticClass:"tm-base-layout__notification-button",attrs:{"style-size":"small","style-type":"transparent"},on:{click:function(e){return t.setBetaTestCookie("false")}}},[t._v("\n          "+t._s(t.msg("BETA_TEST_NO"))+"\n        ")])],1):t._e(),t._v(" "),0!==t.notices.length&&t.showUserNotices?e("div",t._l(t.notices,(function(t,s){return e("TMUserNotice",{key:s,attrs:{notice:t}})})),1):t._e()],1),t._v(" "),e("main",{staticClass:"tm-layout__container"},[t.error&&!t.ppgError?e("TMPage",[e("TMPageError",{attrs:{error:t.error}})],1):e("keep-alive",[e("router-view",{on:{payments:function(e){t.shouldOpenPayments=!0}}})],1)],1),t._v(" "),e("TMScrollLockTransition",{attrs:{name:"fade-sidebar"}},[t.navMenuVisible&&(t.isMobile||t.isPwa)?e("TMSidebar",{attrs:{position:"left"},on:{close:function(e){t.navMenuVisible=!1}}},[e("TMBurgerMenu",{on:{close:function(e){t.navMenuVisible=!1}}})],1):t._e()],1)],1),t._v(" "),t.isDesktop&&!t.isFooterHidden?e("TMFooterMenu"):t._e(),t._v(" "),t.isFooterHidden?t._e():e("TMFooter",{on:{lang:function(e){t.shouldOpenLangSettings=!0}}}),t._v(" "),t.shouldOpenPayments?e("TMPopupPayments",{on:{close:function(e){t.shouldOpenPayments=!1}}}):t._e(),t._v(" "),t.showHotKeysPopup?e("TMPopup",{attrs:{title:t.msg("HOT_KEYS")},on:{close:t.toggleHotKeysPopup}},[e("TMHotKeys")],1):t._e()],1)},v=[],f=s(30089),S=function(){var t=this,e=t._self._c;return e("div")},E=[],C=s(8065),I=s(20439);function b(t){const e=(0,l.ej)("habr_web_ga_uid")||null;return e||t?{...e?{uid:e}:{},...t?{name:t}:{}}:null}const A={name:"TMAnalytics",computed:{...(0,h.Se)("adblock",["adblockStatus"]),...(0,h.Se)("companies",["getCompanyInfo"]),...(0,h.Se)("articlesList",["getArticleById"]),...(0,h.Se)("me",["userGaType"]),...(0,h.rn)("ssr",["isDataLoaded"]),companyInfo(){const t=this.$route.params.name;return this.getCompanyInfo(t)}},watch:{$route(t,e){t.path&&e.path&&t.path!==e.path&&setTimeout(this.logPageView)}},mounted(){this.initAnalytics(),this.logPageView()},methods:{initAnalytics(){const t=b();(0,C._k)("UA-726094-1",t),(0,C.uK)((t=>{t("require","GTM-559GVC8"),(0,C.t4)("transport","beacon");const{userGaType:e}=this;(0,C.t4)("dimension1",e),(0,C.t4)("dimension4",this.adblockStatus),(0,C.t4)("dimension6",this.langOptions.fl),(0,C.t4)("hostname",window.location.host),(0,C.t4)("dimension7","web_override");const s="",n=(0,l.ej)(s),i="true"===n;i&&(0,C.t4)("dimension7",s)}))},logPageView(){const{fullPath:t}=this.$route;(0,C.t4)("page",this.$route.fullPath),this.$route.matched.filter((t=>t.meta.customGA)).length||(0,I.Z)(t)}}},y=A;var L=s(1001),P=(0,L.Z)(y,S,E,!1,null,null,null);const O=P.exports;var R=s(74502),N=function(){var t=this,e=t._self._c;return(t.hasLoaded?t.feature:t.isProbablyVisible)?e("div",{staticClass:"tm-feature",class:t.bem("tm-feature",{variant:t.variant})},[t.feature?e("a",{staticClass:"tm-feature__link",attrs:{href:t.feature.link.url,rel:"noopener",target:"_blank"},on:{click:t.logFeaturerEvent}},[e("img",{staticClass:"tm-feature__icon",attrs:{alt:"",height:"20",src:t.feature.image.url,width:"20"}}),t._v("\n    "+t._s(t.feature.title)+"\n  ")]):t._e()]):t._e()},k=[],M=s(65873),w=s(92698);const x={name:"TMFeature",props:{variant:{type:String,default:null}},computed:{...(0,h.rn)("global",["isPwa"]),...(0,h.Se)("i18n",["langOptions"]),...(0,h.rn)("feature",["isProbablyVisible"]),...(0,h.Se)("promoData",["feature"]),...(0,h.rn)("promoData",["hasLoaded"])},watch:{feature:{immediate:!0,handler(t){t&&this.trackView()}}},methods:{bem:M.P,logFeaturerEvent(){(0,C.Kz)("habr_top_panel","lightning",this.feature.gal)},trackView(){const t=this.feature.events&&this.feature.events.view;t&&(0,w.s)([t])}}},D=x;var B=(0,L.Z)(D,N,k,!1,null,null,null);const $=B.exports;var F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-footer"},[e("TMPageWidth",[e("div",{staticClass:"tm-footer__container"},[t.isMobile?e("div",{staticClass:"tm-footer__title"},[e("router-link",{staticClass:"tm-svg-icon__wrapper tm-footer__title-link",attrs:{to:t.homeUrl}},[e("TMSvgImg",{staticClass:"tm-svg-icon",attrs:{id:t.logoIcon}})],1)],1):t._e(),t._v(" "),e("TMSocialIcons",{staticClass:"tm-footer__social"}),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[e("TMScrollLockTransition",{attrs:{name:"transition-fade"}},[t.pageSettingsVisible?e("TMPopupBase",{on:{close:function(e){t.pageSettingsVisible=!1}}},[e("TMPageSettingsForm",{staticClass:"tm-popup-page-settings__form",on:{closePopup:function(e){t.pageSettingsVisible=!1}}})],1):t._e()],1)],1),t._v(" "),e("button",{staticClass:"tm-footer__link",on:{click:function(e){t.pageSettingsVisible=!0}}},[t.isMobile?e("TMSvgImg",{staticClass:"tm-footer__icon",attrs:{id:"lang"}}):t._e(),t._v("\n        "+t._s(t.msg("FOOTER_LANG"))+"\n      ")],1),t._v(" "),e("router-link",{staticClass:"tm-footer__link",attrs:{to:{name:"FEEDBACK"}}},[t._v("\n        "+t._s(t.msg("NAV_FEEDBACK"))+"\n      ")]),t._v(" "),t.isPwa?t._e():e("a",{staticClass:"tm-footer__link",attrs:{href:"/berserk-mode-nope"},on:{click:t.logGa}},[t._v("\n        "+t._s(t.msg("BETA_TEST_SWITCH_BACK"))+"\n      ")]),t._v(" "),e("TMFooterCopyright")],1)])],1)},G=[],U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-footer-copyright"},[e("span",{staticClass:"tm-copyright"},[e("span",{staticClass:"tm-copyright__years"},[t._v("© 2006–"+t._s(t.currentYear)+", ")]),t._v(" "),e("span",{staticClass:"tm-copyright__name"},[e("a",{staticClass:"tm-copyright__link",attrs:{href:t.getLink,rel:"noopener",target:"_blank"}},[t._v("Habr")])])])])},V=[];const H={name:"TMFooterCopyright",computed:{...(0,h.Se)("i18n",["langOptions"]),currentYear(){return(new Date).getFullYear()},getLink(){return"ru"===this.langOptions.hl?"https://company.habr.com/":"https://company.habr.com/en/"}}},Z=H;var W=(0,L.Z)(Z,U,V,!1,null,null,null);const Y=W.exports;var q=s(71737),j=s(47614),K=s(27481),z=s(75817),Q=function(){var t=this,e=t._self._c;return e("div",t._l(t.socialIcons,(function(s){return e("TMSvgIcon",{key:s.key,staticClass:"tm-social-icons__icon",attrs:{id:`${t.spriteUrl}#social-logo-${s.key}`,href:s.url,rel:"nofollow noopener noreferrer",tag:"a",target:"_blank"}})})),1)},X=[],J=s(62205);const tt={en:[{key:"facebook",url:"https://www.facebook.com/habr.eng"},{key:"twitter",url:"https://twitter.com/habr_eng"},{key:"telegram",url:"https://t.me/habr_eng"}],ru:[{key:"facebook",url:"https://www.facebook.com/habrahabr.ru"},{key:"twitter",url:"https://twitter.com/habr_com"},{key:"vkontakte",url:"https://vk.com/habr"},{key:"telegram",url:"https://telegram.me/habr_com"},{key:"youtube",url:"https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w"},{key:"zen",url:"https://zen.yandex.ru/habr"}]},et={name:"TMSocialIcons",components:{TMSvgIcon:J.Z},computed:{...(0,h.rn)("i18n",["fl"]),socialIcons(){return this.fl&&this.fl.indexOf("ru")>-1?tt.ru:tt.en},spriteUrl(){return"/img/social-icons-sprite.svg"}}},st=et;var nt=(0,L.Z)(st,Q,X,!1,null,null,null);const it=nt.exports;var at=s(2813);const ot={name:"TMFooter",components:{TMFooterCopyright:Y,TMSocialIcons:it,TMSvgIcon:J.Z,TMSvgImg:at.Z,TMPageWidth:j.Z,TMScrollLockTransition:z.Z,TMPageSettingsForm:q["default"],TMPopupBase:K["default"]},data(){return{pageSettingsVisible:!1}},computed:{...(0,h.rn)("i18n",["hl"]),...(0,h.rn)("global",["isPwa"]),...(0,h.Se)("global",["isMobile"]),...(0,h.Se)("me",["userAlias"]),isUserBetaTester(){const t="",e=(0,l.ej)(t);return"true"===e},homeUrl(){return`/${this.hl}/`},logoIcon(){return`/img/habr-logo-${this.hl}.svg#logo`}},methods:{logGa(){(0,C.Kz)("footer","return_to_desktop",this.userAlias||null)}}},rt=ot;var lt=(0,L.Z)(rt,F,G,!1,null,null,null);const ct=lt.exports;var mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-footer-menu"},[e("TMPageWidth",[e("div",{staticClass:"tm-footer-menu__container"},t._l(t.groupMenuItems,(function(s,n){return e("div",{key:`group-${n}`,staticClass:"tm-footer-menu__block"},[e("p",{staticClass:"tm-footer-menu__block-title"},[t._v("\n          "+t._s(s.name)+"\n        ")]),t._v(" "),e("div",{staticClass:"tm-footer-menu__block-content"},[e("ul",{staticClass:"tm-footer-menu__list"},t._l(s.items,(function(s,n){return e("li",{key:`link-${n}`,staticClass:"tm-footer-menu__list-item"},["_blank"===s.target||"_self"===s.target?e("a",{attrs:{href:s.link,rel:s.rel,target:s.target}},[t._v("\n                "+t._s(s.name)+"\n              ")]):e("router-link",{staticClass:"footer-menu__item-link",attrs:{to:s.link}},[t._v("\n                "+t._s(s.name)+"\n              ")])],1)})),0)])])})),0)])],1)},ut=[];const dt="https://account.habr.com",pt="https://company.habr.com",_t={name:"TMFooterMenu",components:{TMPageWidth:j.Z},computed:{...(0,h.Se)("me",["userAlias","isLoggedIn"]),...(0,h.Se)("i18n",["msg","langOptions"]),loginUrl(){const t="/kek/v1/auth/habrahabr/";return`${t}?back=${this.$route.path}&hl=${this.langOptions.hl}`},signUpUrl(){const t="/kek/v1/auth/habrahabr-register/";return`${t}?back=${this.$route.path}&hl=${this.langOptions.hl}`},loggedInAccountItems(){return[{name:this.msg("NAV_PROFILE"),link:{name:"ARTICLES_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}},{name:this.msg("TRACKER_TITLE"),link:{name:"TRACKER",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_CONVERSATIONS"),link:{name:"CONVERSATIONS",params:{hl:this.langOptions.hl}}},{name:this.msg("SETTINGS"),link:{name:"USER_SETTINGS_PROFILE",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_PPA"),link:{name:"PPA_ROOT",params:{hl:this.langOptions.hl}}}]},loggedOutAccountItems(){return[{name:this.msg("LOG_IN"),link:this.loginUrl,target:"_self",rel:"nofollow"},{name:this.msg("SIGN_UP"),link:this.signUpUrl,target:"_self",rel:"nofollow"}]},groupMenuItems(){const t=this.isLoggedIn?this.loggedInAccountItems:this.loggedOutAccountItems;return[{name:this.msg("NAV_ACCOUNT"),items:t},{name:this.msg("NAV_SECTIONS"),items:[{name:this.msg("NAV_BOOKMARKS_ARTICLES"),link:{name:"INDEX",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_NEWS"),link:{name:"NEWS",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_HUBS"),link:{name:"HUBS",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_COMPANIES"),link:{name:"COMPANIES",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_AUTHORS"),link:{name:"USERS",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_SANDBOX"),link:{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",params:{hl:this.langOptions.hl}}}]},{name:this.msg("NAV_INFO"),items:[{name:this.msg("NAV_HELP"),link:{name:"DOCS",params:{alias:"help"}}},{name:this.msg("NAV_FOR_AUTHORS"),link:{name:"DOCS_ARTICLE",params:{alias:"authors",articleAlias:"codex"}}},{name:this.msg("NAV_FOR_COMPANIES"),link:{name:"DOCS_ARTICLE",params:{alias:"companies",articleAlias:"corpblogs"}}},{name:this.msg("NAV_DOCUMENTS"),link:{name:"DOCS_ARTICLE",params:{alias:"docs",articleAlias:"transparency"}}},{name:this.msg("NAV_AGREEMENT"),link:`${dt}/info/agreement`,target:"_blank"},{name:this.msg("NAV_CONFIDENTIAL"),link:`${dt}/info/confidential/`,target:"_blank"}]},{name:this.msg("NAV_SERVICE"),items:[{name:this.msg("NAV_CORPORATE_BLOGS"),link:`${pt}/${this.langOptions.hl}/corporate-blogs/`,target:"_blank"},{name:this.msg("NAV_MEDIA_ADVERTISING"),link:`${pt}/${this.langOptions.hl}/advertising/`,target:"_blank"},{name:this.msg("NAV_SPECIAL_PROJECTS"),link:`${pt}/${this.langOptions.hl}/native-special/`,target:"_blank"},{name:this.msg("NAV_EDUCATION_PROGRAMS"),link:`${pt}/${this.langOptions.hl}/education-programs/`,target:"_blank"},{name:this.msg("NAV_STARTUPS"),link:`${pt}/${this.langOptions.hl}/hello-startup/`,target:"_blank"},{name:this.msg("NAV_MEGAPROJECTS"),link:{name:"MEGAPROJECTS"}}]}]}}},ht=_t;var gt=(0,L.Z)(ht,mt,ut,!1,null,null,null);const Tt=gt.exports;var vt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[e("header",{staticClass:"tm-header",class:t.className,attrs:{"data-header-sticky":t.isPwa&&!t.isSticky}},[e("TMPageWidth",{attrs:{"full-width":t.isPwa}},[e("div",{staticClass:"tm-header__container"},[t.isPwa||t.isMobile&&!t.isTablet?e("div",{staticClass:"tm-header__burger-nav"},[t.showBackButton&&t.isPwa?e("button",{staticClass:"tm-header__button tm-header__button_back",attrs:{type:"button"},on:{click:t.goBack}},[e("TMSvgImg",{staticClass:"icon_arrow-back",attrs:{id:"arrow-back"}})],1):e("button",{staticClass:"tm-header__button tm-header__button_burger",attrs:{type:"button"},on:{click:function(e){return t.$emit("showNavMenu")}}},[e("TMSvgImg",{staticClass:"tm-header__icon tm-header__icon-burger",attrs:{id:"header-burger"}})],1)]):t._e(),t._v(" "),e("span",{staticClass:"tm-header__logo-wrap"},[e("a",{staticClass:"tm-header__logo",class:`tm-header__logo_${t.langOptions.hl}`,attrs:{href:t.homeUrl}},[e("TMSvgImg",{staticClass:"tm-header__icon",attrs:{id:t.logoIcon}})],1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isUserBetaTester,expression:"isUserBetaTester"}],staticClass:"tm-header__beta-sign"},[t._v("β")])]),t._v(" "),t.isPwa||t.isDesktop||t.isTablet?[t.isPwa||t.isHlEnglish?t._e():e("TMDropdown",{staticClass:"tm-header__projects",class:{"tm-projects_extra-margin":t.isUserBetaTester},attrs:{align:"left","body-offset":-67},scopedSlots:t._u([{key:"head",fn:function({toggle:t}){return[e("button",{staticClass:"tm-header__dropdown-toggle",on:{click:t}},[e("TMSvgImg",{staticClass:"tm-header__icon tm-header__icon_dropdown",attrs:{id:"arrow-down"}})],1)]}},{key:"body",fn:function(){return[e("TMOurProjects",{attrs:{"show-description":!0}})]},proxy:!0}],null,!1,1364691637)}),t._v(" "),t.isPwa?t._e():e("router-link",{staticClass:"tm-header__become-author-btn",class:{"tm-header__become-author-btn_extra-margin":t.isUserBetaTester},attrs:{to:{name:"MOST_IMPORTANT_SANBOX_INFO"}}},[t._v("\n            "+t._s(t.msg("NAV_SANDBOX_BECOME_AUTHOR"))+"\n          ")]),t._v(" "),t.isFeatureShown?e("TMFeature",{staticClass:"tm-header__feature",attrs:{variant:"inline"}}):t._e(),t._v(" "),t.isHlEnglish||!t.isDesktop||t.isPwa?t._e():e("TMTopLink")]:t._e(),t._v(" "),t.isPwa||t.isTablet||t.isMobile?e("TMHeaderUserMenu",{staticClass:"tm-header_user-menu"}):t._e()],2)])],1)])},ft=[],St=s(85083),Et=s(77745),Ct=s(7508),It=function(){var t=this,e=t._self._c;return t.topLinkPost&&t.topLinkPost.link.url?e("a",{staticClass:"tm-top-link",style:`color: ${t.topLinkPost.color||"#94E379"}`,attrs:{href:t.topLinkPost.link.url,target:"_blank"},on:{click:t.logTopLinkEvent}},[t._v("\n  "+t._s(t.topLinkPost.title)+"\n")]):t._e()},bt=[];const At={name:"TMTopLink",data(){return{topLink:null}},computed:{...(0,h.Se)("i18n",["msg","langOptions"]),...(0,h.Se)("promoData",["topLinkPost"])},watch:{topLinkPost:{immediate:!0,handler(t){t&&this.trackView()}}},methods:{logTopLinkEvent(){(0,C.Kz)("habr_top_panel","megaprojects",this.topLinkPost.link.url)},trackView(){const t=this.topLinkPost.events&&this.topLinkPost.events.view;t&&(0,w.s)([t])}}},yt=At;var Lt=(0,L.Z)(yt,It,bt,!1,null,null,null);const Pt=Lt.exports;var Ot=s(44515);const Rt={name:"TMHeader",components:{TMDropdown:St.Z,TMFeature:$,TMSvgImg:at.Z,TMOurProjects:Ct.Z,TMHeaderUserMenu:Et.Z,TMTopLink:Pt,TMPageWidth:j.Z},props:{isSticky:Boolean,isFeatureShown:Boolean},data(){return{showHeader:!0,lastScrollPosition:0}},computed:{...(0,h.rn)("global",["isPwa"]),...(0,h.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,h.Se)("me",["isLoggedIn"]),...(0,h.Se)("i18n",["langOptions"]),homeUrl(){return this.isPwa?"/pwa/":`/${this.langOptions.hl}/`},logoIcon(){const{hl:t}=this.langOptions;return`/img/habr-logo-${t}.svg#logo`},isUserBetaTester(){const t="",e=(0,l.ej)(t);return"true"===e},isRootPage(){return this.$route.matched.find((t=>t.meta.rootPage))},showBackButton(){return!this.isRootPage},isMobilePwa(){return this.isPwa&&this.isMobile},toConversations(){return{name:"CONVERSATIONS",params:{hl:this.langOptions.hl}}},isHlEnglish(){return"en"===this.langOptions.hl},className(){return{"tm-header_sticky":this.isSticky&&!this.isPwa,"tm-header_hidden":this.isSticky&&!this.showHeader,"tm-header_fixed":!this.isSticky&&this.isPwa}}},watch:{isSticky:{handler(t){this.$isServer||(t?(this.lastScrollPosition=window.pageYOffset,window.addEventListener("scroll",this.onScroll,{passive:!0})):window.removeEventListener("scroll",this.onScroll))},immediate:!0}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)},methods:{onScroll(){const t=window.pageYOffset||document.documentElement.scrollTop,e=Math.abs(t-this.lastScrollPosition);t<0||e<120||(this.showHeader=t<this.lastScrollPosition,this.lastScrollPosition=t)},goBack(){if(window.history&&window.history.length>1)this.$router.go(-1);else{const t=(0,Ot.bc)(this.langOptions);this.$router.push(t)}},onUserMenuLang(){this.$emit("lang")}}},Nt=Rt;var kt=(0,L.Z)(Nt,vt,ft,!1,null,null,null);const Mt=kt.exports;var wt=function(){var t=this,e=t._self._c;return e("div",[t._t("default")],2)},xt=[];const Dt={name:"TMLayoutMetaWrapper",computed:{...(0,h.Se)("me",["rssKey"]),...(0,h.rn)("i18n",["hl","fl"]),...(0,h.rn)("desktopState",["isChecked"]),scripts(){return this.$isServer||this.isChecked?[]:[{onload:"window['e0044d29c024'] = true",src:"https://habr.com/auth/checklogin/",vmid:"checklogin"}]},pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,this.$route.params):""},rssFullRoute(){const{params:t,query:e,meta:{rssLink:s}}=this.$route,n={...t,...e,fl:this.fl,hl:this.hl,...this.rssKey?{rssKey:this.rssKey}:{}},i=new URL(`https://habr.com/${this.hl}${s(n)}`);return i.searchParams.append("fl",this.fl),i.href}},metaInfo(){const t=[];return this.$route.meta.rssLink&&t.push({href:this.rssFullRoute,type:"application/rss+xml",title:this.pageTitlePart,rel:"alternate",name:"rss"}),{htmlAttrs:{lang:this.hl},link:t,script:this.scripts,__dangerouslyDisableSanitizersByTagID:{checkad:["onload"],checklogin:["onload"]}}}},Bt=Dt;var $t=(0,L.Z)(Bt,wt,xt,!1,null,null,null);const Ft=$t.exports;var Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-main-menu"},[t.flows.length?e("div",{staticClass:"tm-main-menu__section"},[e("nav",{staticClass:"tm-main-menu__section-content"},[t.isLoggedIn?e("router-link",{class:t.bem("tm-main-menu__item",{"has-new":t.hasNewPost}),attrs:{"active-class":"tm-main-menu__item_active",event:"",to:t.routes.feed},nativeOn:{click:function(e){return(e=>t.pushRouteTo(t.routes.feed,e)).apply(null,arguments)}}},[t._v("\n        "+t._s(t.msg("NAV_MY_FEED"))+"\n      ")]):t._e(),t._v(" "),e("router-link",{staticClass:"tm-main-menu__item",class:{"tm-main-menu__item_active":t.allFlowsLinkActive},attrs:{"active-class":"tm-main-menu__item_active",event:"",to:t.routes.articles},nativeOn:{click:function(e){return(e=>t.pushRouteTo(t.routes.articles,e)).apply(null,arguments)}}},[t._v("\n        "+t._s(t.msg("NAV_FLOWS_ALL"))+"\n      ")]),t._v(" "),t._l(t.flows,(function(s){return[t.i18nFlows[s.alias]?e("router-link",{key:s.id,staticClass:"tm-main-menu__item",attrs:{"active-class":"tm-main-menu__item_active",event:"",to:s.route},nativeOn:{click:function(e){return(e=>t.pushRouteTo(s.route,e)).apply(null,arguments)}}},[t._v("\n          "+t._s(t.msg(t.i18nFlows[s.alias]))+"\n        ")]):t._e()]}))],2)]):t._e()])},Ut=[];const Vt=(t,e)=>Object.keys(t).every((s=>t[s]===e[s])),Ht={name:"TMMainMenu",data(){return{swipeListener:null,i18nFlows:{admin:"NAV_FLOW_ADMIN",design:"NAV_FLOW_DESIGN",develop:"NAV_FLOW_DEVELOP",popsci:"NAV_FLOW_POPSCI",management:"NAV_FLOW_MANAGEMENT",marketing:"NAV_FLOW_MARKETING",misc:"NAV_FLOW_MISC",geektimes:"NAV_FLOW_GEEKTIMES"}}},computed:{...(0,h.rn)("flows",["flows","updates"]),...(0,h.Se)("flows",["hasNewPostsBySubscription"]),...(0,h.Se)("i18n",["msg","langOptions"]),...(0,h.Se)("me",["isLoggedIn"]),...(0,h.Se)("global",["isDesktop"]),isFlEnglish(){return"en"===this.langOptions.fl},isHLEnglish(){return"en"===this.langOptions.hl},routes(){const t={hl:this.langOptions.hl};return{articles:{name:this.isLoggedIn?"ALL_FLOWS":"ARTICLES_LIST_ALL",params:t},feedback:{name:"FEEDBACK",params:t},feed:{name:"ARTICLES_LIST_FEED",params:t},help:{name:"DOCS",params:{alias:"help",...t}},megaprojects:{name:"MEGAPROJECTS",params:t}}},allFlowsLinkActive(){return this.$route.matched.some((t=>"INDEX"===t.name))},hasNewPost(){const t=this.$route.name.includes("ARTICLES_LIST_FEED")&&(!this.$route.params.pageNum||1===this.$route.params.pageNum);return!t&&this.hasNewPostsBySubscription}},methods:{bem:M.P,...(0,h.nv)("pullRefresh",["toggleRefresh"]),pushRouteTo(t,e){if(e.metaKey||e.ctrlKey||e.shiftKey)return;e.preventDefault();const s={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL"},n=s[t.name],i=this.$router.resolve(t).route,a=n||i.name,o=this.$route.name===a&&Vt(i.params,this.$route.params);o?(window.scrollTo({top:0}),this.toggleRefresh(!0)):this.$router.push(t).catch((()=>{}))}}},Zt=Ht;var Wt=(0,L.Z)(Zt,Gt,Ut,!1,null,null,null);const Yt=Wt.exports;var qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-notification",class:`${t.inlineClass} ${t.staticClass} ${t.layoutClass}`},[t._t("default")],2)},jt=[];const Kt={name:"TMNotification",props:{inline:Boolean,static:Boolean,layout:{default:"full",type:String}},computed:{inlineClass(){return this.inline?"tm-notification_inline":""},staticClass(){return this.static?"tm-notification_static":""},layoutClass(){return`tm-notification_${this.layout}`}}},zt=Kt;var Qt=(0,L.Z)(zt,qt,jt,!1,null,null,null);const Xt=Qt.exports;var Jt=s(39617),te=function(){var t=this,e=t._self._c;return e("TMErrorMessage",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n    "+t._s(t.errorTitle)+"\n  ")]},proxy:!0},{key:"message",fn:function(){return[e("p",{domProps:{innerHTML:t._s(t.errorMessage)}}),t._v(" "),!t.isPwa&&t.errorAction?e("TMButtonBase",{staticClass:"tm-error__refresh",attrs:{"style-size":"large","style-type":"transparent",type:"button"},on:{click:t.errorAction.action}},[t._v("\n      "+t._s(t.errorAction.text)+"\n    ")]):t._e(),t._v(" "),t.errorActionAlternative?e("a",{staticClass:"tm-error__link",attrs:{href:"#"},on:{click:t.errorActionAlternative.action}},[t._v("\n      "+t._s(t.errorActionAlternative.text)+"\n    ")]):t._e()]},proxy:!0}])})},ee=[],se=s(99930),ne=s.t(se,2),ie=s(16218),ae=s(60608);const oe={name:"TMPageError",components:{TMButtonBase:f.Z,TMErrorMessage:ie.Z},props:{error:{type:[Object,Error],required:!0}},computed:{...(0,h.rn)("global",["isPwa"]),...(0,h.rn)("me",["user"]),...(0,h.Se)("me",["isLoggedIn"]),draftParams(){return{userProfileLink:this.getUserProfileLink(this.error.data.author.login),userName:this.error.data.author.login}},userLogoutHash(){return this.user&&this.user.crc32},errorMessage(){if("TimeoutError"===this.error.name)return this.getTranslation("ERROR_PAGE_MESSAGE_TIMEOUT");if(ae.Z.is403WithUserType(this.error))return this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_${this.error.data.userType}`,{reason:this.error.data.reason});if(ae.Z.is403WithReason(this.error))return this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_${this.error.data.reason}`,this.draftParams);if(ae.Z.is403Error(this.error.code)){if(this.error.additional){if(Array.isArray(this.error.additional)&&1===this.error.additional.length&&"string"===typeof this.error.additional[0])return"COMPANY_ACCESS_LIMIT"===this.error.additional[0]?this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED"):this.getTranslation(`ERROR_PAGE_${this.error.additional[0]}`);const t=["USER_INACTIVE","TARGET_USER_INACTIVE"];if(t.includes(this.error.additional.reasonKey)){const t=-1!==this.$route.name.indexOf("USER_")?"ERROR_PAGE_MESSAGE_USER_PROFILE_INACTIVE":"ERROR_PAGE_MESSAGE_ARTICLE_USER_INACTIVE",e=this.error.additional.author.alias,s=this.$router.resolve({name:"USER_PROFILE",params:{hl:this.langOptions.hl,login:e}});return this.getTranslation(t,{userProfileLink:s.href,userName:e})}}return this.getTranslation("ERROR_PAGE_TITLE_ARTICLE_IN_DRAFTS")}return ae.Z.is401Error(this.error.code)?this.getTranslation("ERROR_PAGE_MESSAGE_NOT_AUTHORIZED"):ae.Z.is4xxError(this.error.code)?this.getTranslation("ERROR_PAGE_MESSAGE_NOT_FOUND"):this.error.message?this.error.message:""},errorTitle(){return"TimeoutError"===this.error.name?this.getTranslation("ERROR_PAGE_TITLE_TIMEOUT"):ae.Z.is403WithReason(this.error)&&!ae.Z.is403WithUserType(this.error)?this.getTranslation(`ERROR_PAGE_TITLE_ARTICLE_${this.error.data.reason}`):ae.Z.is403Error(this.error.code)?this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED"):ae.Z.is401Error(this.error.code)?this.getTranslation("ERROR_PAGE_TITLE_NOT_AUTHORIZED"):ae.Z.is4xxError(this.error.code)?this.getTranslation("ERROR_PAGE_TITLE_NOT_FOUND"):this.getTranslation("ERROR_PAGE_TITLE_INTERNAL")},errorAction(){return"TimeoutError"===this.error.name?{text:this.getTranslation("ERROR_PAGE_REFRESH"),action:this.reloadThePage}:ae.Z.is403Error(this.error.code)||ae.Z.is403WithReason(this.error)||ae.Z.is4xxError(this.error.code)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:this.backToMainPage}:ae.Z.is401Error(this.error.code)?{text:this.getTranslation("ERROR_PAGE_AUTH"),action:()=>{const{hl:t}=this.langOptions,e=this.$route.path;window.location.href=`/kek/v1/auth/habrahabr/?back=${e}&hl=${t}`}}:null},errorActionAlternative(){return this.errorAction&&this.errorAction.text===this.getTranslation("ERROR_PAGE_BACK_TO_MAIN")?null:ae.Z.is401Error(this.error.code)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:()=>{const{hl:t}=this.langOptions;window.location.href=`/kek/v1/auth/logout2/${this.userLogoutHash}/?back=/${t}/all`}}:null}},beforeMount(){const{code:t,additional:e=[]}=this.error||{},s=Array.isArray(e)?e:[e.reasonKey];401===t&&-1!==s.indexOf("TOKEN_PROBLEM")&&(this.setUser(null),this.init(!0),this.reset()),403===t&&-1!==s.indexOf("SUBSCRIPTIONS_ARE_EMPTY")&&this.isLoggedIn&&this.$router.push({name:"MY_FEED_SETTINGS"})},mounted(){ae.Z.is401Error(this.error.code)&&a.$e((t=>{t.setTag("error_type",this.error.code),t.setUser(this.user),t.setLevel("warning"),a.uT("NOT_AUTHORIZED_401",{extra:this.error,contexts:this.error})}))},methods:{...(0,h.OI)("me",["setUser"]),...(0,h.nv)("me",["init"]),...(0,h.nv)("ssr",["reset"]),getTranslation(t,e){if(e)return this.msg(t,e);const{hl:s}=this.langOptions;return s?ne[s][t]:se.en[t]},getUserProfileLink(t){return`/${this.langOptions.hl}/users/${t}/`},backToMainPage(){this.isPwa?window.location="/pwa/":window.location="/"}}},re=oe;var le=(0,L.Z)(re,te,ee,!1,null,null,null);const ce=le.exports;var me=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-page-progress-bar",class:t.className})},ue=[];const de={name:"TMPageProgressBar",props:{isFinished:Boolean,isProcessing:Boolean},data(){return{haveJustFinished:!1}},computed:{className(){return{"tm-page-progress-bar_finished":this.haveJustFinished,"tm-page-progress-bar_processing":this.isProcessing}}},watch:{isFinished(t,e){t&&!e&&(this.haveJustFinished=!0,setTimeout((()=>{this.haveJustFinished=!1}),300))}}},pe=de;var _e=(0,L.Z)(pe,me,ue,!1,null,null,null);const he=_e.exports;var ge=s(47840),Te=function(){var t=this,e=t._self._c;return t.isDesktop&&(t.scrolledEnough||t.shouldRestoreScroll)?e("button",{staticClass:"tm-scroll-top",on:{click:t.performScroll}},[e("TMSvgIcon",{staticClass:"tm-scroll-top__arrow",class:{"tm-scroll-top__arrow_reverted":t.shouldRestoreScroll},attrs:{id:"small-arrow",tag:"span",title:t.shouldRestoreScroll?t.msg("NAV_DOWN"):t.msg("NAV_UP")}})],1):t._e()},ve=[];const fe=100,Se={name:"TMScrollTop",components:{TMSvgIcon:J.Z},data(){return{storedScrollPosition:0,lastScrollPosition:0,shouldRestoreScroll:!1,scrolledEnough:!1}},computed:{...(0,h.Se)("global",["isDesktop"])},mounted(){requestAnimationFrame((()=>{this.handleScroll(),window.addEventListener("scroll",this.handleScroll,{passive:!0})}))},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{performScroll(){let t=0;this.shouldRestoreScroll?(t=this.storedScrollPosition,this.storedScrollPosition=0):this.storedScrollPosition=document.scrollingElement.scrollTop,this.shouldRestoreScroll=!this.shouldRestoreScroll,window.scrollTo({top:t,left:0,behavior:"smooth"})},handleScroll(){const{scrollTop:t}=document.scrollingElement;this.scrolledEnough=t>fe,this.lastScrollPosition<t&&this.shouldRestoreScroll&&(this.shouldRestoreScroll=!1),this.lastScrollPosition=t}}},Ee=Se;var Ce=(0,L.Z)(Ee,Te,ve,!1,null,null,null);const Ie=Ce.exports;var be=s(79131);const Ae=()=>Promise.resolve().then(s.bind(s,40969)),ye=()=>s.e(7782).then(s.bind(s,47782)),Le=()=>s.e(8034).then(s.bind(s,78034)),Pe=()=>s.e(3054).then(s.bind(s,23054));function Oe(t){const e=/https?:\/\/((?:[\w\d-]+\.)+[\w\d]{2,})/i;return e.exec(t)}const Re={components:{TMPageError:ce,TMPage:Jt.Z,TMBurgerMenu:ye,TMPageWidth:j.Z,TMHeaderUserMenu:Et.Z,TMScrollLockTransition:z.Z,TMPopup:ge.Z,TMUserNotice:Pe,TMButtonBase:f.Z,TMDatetime:R.Z,TMFeature:$,TMFooter:ct,TMFooterMenu:Tt,TMAnalytics:O,TMHeader:Mt,TMHotKeys:Le,TMLayoutMetaWrapper:Ft,TMMainMenu:Yt,TMNotification:Xt,TMPageProgressBar:he,TMPopupPayments:Ae,TMScrollTop:Ie,TMSidebar:be.Z},data(){return{isFeatureBeta:!1,shouldOpenLangSettings:!1,shouldOpenPayments:!1,showRefreshNotice:!1,cacheTime:null,showCacheNotice:!1,showNewVersionNotice:!1,isHeaderSticky:!1,showHotKeysPopup:!1,navMenuVisible:!1}},computed:{...(0,h.rn)("navMenu",{isMainMenuOpened:"isOpened",mainMenuDelta:"delta"}),...(0,h.rn)("ssr",["isDataLoaded","isDataLoading"]),...(0,h.Se)("ssr",["error"]),...(0,h.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,h.Se)("me",["isLoggedIn","notices"]),...(0,h.rn)("global",["isPwa"]),ppgError(){return Array.isArray(this.error.additional)&&-1!==this.error.additional.indexOf("PPG_REQUIRED")},className(){return{"tm-layout__wrapper_white":this.isDotnetPage&&!this.isMobile}},isDotnetPage(){return"dotnet"===this.$route.params.topic},isFeatureShown(){return"en"!==this.langOptions.fl&&!this.isPwa},isBlankPage(){return"blank"===this.$route.meta.pageType},isConversationPage(){return"conversation"===this.$route.meta.pageType},isFooterHidden(){return this.isBlankPage||this.isConversationPage},isDisplayStandalone(){return window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone},showUserNotices(){return!this.$route.meta.hideUserNotices}},watch:{$route:{handler(t){this.isHeaderSticky="sticky"===t.meta.header,this.shouldOpenLangSettings=!1,this.shouldOpenPayments=!1},immediate:!0}},mounted(){this.$nextTick((()=>{this.checkNewVersionNotice()})),this.isDisplayStandalone&&this.initPwaMode(),this.initViewport(),window.addEventListener("appinstalled",(()=>{(0,C.Kz)("pwa","add"),this.initPwaMode()})),document.addEventListener("showRefreshNotice",(()=>{this.showRefreshNotice=!0}),{once:!0}),document.addEventListener("showCacheNotice",(t=>{this.cacheTime=parseInt(t.detail,10),this.showCacheNotice=!0,document.addEventListener("click",this.blockOpeningExternalLink)})),document.addEventListener("hideCacheNotice",(()=>{this.cacheTime=null,this.showCacheNotice=!1,document.removeEventListener("click",this.blockOpeningExternalLink)})),window.addEventListener("offline",(()=>{this.cacheTime=new Date,this.showCacheNotice=!0})),window.addEventListener("online",(()=>{this.showCacheNotice=!1})),window.addEventListener("beforeinstallprompt",(t=>(t.preventDefault(),!1)))},methods:{...(0,h.nv)("me",["init"]),...(0,h.nv)("viewport",{initViewport:"init"}),...(0,h.nv)("global",["initPwaMode"]),...(0,h.nv)("desktopState",["checkDesktopState"]),checkNewVersionNotice(){const t=!1;if(!t)return void(this.showNewVersionNotice=!1);const e=navigator.doNotTrack||navigator.cookieEnabled,s="",n=s&&Boolean(s.length),i=(0,l.ej)(s)||localStorage.getItem(s)||"";this.showNewVersionNotice=e&&n&&-1===["true","false"].indexOf(i)},onPaymentsForm(){this.shouldOpenPayments=!0},reloadThePage(){this.isPwa?window.location="/pwa/":window.location.reload(!0)},setBetaTestCookie(t){const e="";(0,l.d8)(e,t,{expires:90}),localStorage.setItem(e,t),this.reloadThePage()},blockOpeningExternalLink(t){const{target:e}=t;if("A"===e.tagName||"A"===e.parentNode.tagName){const{href:s}=e.closest("a"),n=Oe(s),i=Oe(document.location.href);n!==i&&(t.preventDefault(),this.$toast.warning(this.msg("ERROR_PAGE_MESSAGE_NO_INTERNET_LINK")))}},toggleHotKeysPopup(){this.showHotKeysPopup=!this.showHotKeysPopup}}},Ne=Re;var ke=(0,L.Z)(Ne,T,v,!1,null,null,null);const Me=ke.exports;var we=function(){var t=this,e=t._self._c;return e("main",{staticClass:"tm-layout"},[e("router-view")],1)},xe=[],De={},Be=(0,L.Z)(De,we,xe,!1,null,null,null);const $e=Be.exports;function Fe(){document.addEventListener("click",(({target:t})=>{t.classList.contains("habrahidden")&&t.setAttribute("data-show",!0)}))}var Ge=s(32057),Ue=s(23217),Ve=s(99274);const He=t=>"ru"===t?"en":"ru",Ze={components:{TMBaseLayout:Me,TMEmptyLayout:$e},asyncData({store:t}){return Promise.all([t.dispatch("flows/loadUpdates"),t.dispatch("flows/loadFlows")])},data(){return{isCroppedByOverlay:!1,isLoadingI18n:!1,hasHydrated:!1}},computed:{...(0,h.Se)("me",["isLoggedIn","userAlias"]),...(0,h.Se)("i18n",["langOptions","currentLocale","pageTitle"]),...(0,h.Se)("global",["isHabrCom"]),currentLayout(){return`TM-${this.$route.meta.layout||"base"}-layout`},defaultPreviewImage(){return"ru"===this.langOptions.hl?"/img/habr_ru.png":"/img/habr_en.png"},staticPageMeta(){return[...(0,g.h$)(this.defaultPreviewImage),{property:"fb:app_id",content:"444736788986613"},{property:"fb:pages",content:"472597926099084"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"ru"===this.langOptions.hl?"@habr_com":"@habr_eng"},{property:"og:locale",content:this.currentLocale,vmid:"og:locale"},{property:"og:type",content:"website",vmid:"og:type"},{property:"og:site_name",content:"ru"===this.langOptions.hl?"Хабр":"Habr",vmid:"og:site_name"}]},pageMetaTitle(){const{title:t}=this.$route.meta||{};return t?this.msg(t,this.$route.params):void 0},pageMeta(){const{description:t,noindex:e}=this.$route.meta,s=[...this.staticPageMeta],{href:n}=this.$router.resolve({name:this.$route.name,params:this.$route.params});return e&&s.push({name:"robots",content:"noindex",vmid:"robots"}),t&&(s.push({name:"description",content:this.msg(t,this.$route.params),vmid:"description"}),s.push({property:"og:description",content:this.msg(t,this.$route.params),vmid:"og:description"})),s.push({property:"og:title",content:this.pageTitle(this.pageMetaTitle),vmid:"og:title"},{property:"og:url",content:(0,Ge.Z)(n),vmid:"og:url"}),s},pageMetaLinks(){const{renderAlternateMetaTag:t}=this.$route.meta,e=[{rel:"image_src",href:this.defaultPreviewImage,vmid:"image:href"}];let{href:s}=this.$router.resolve({name:this.$route.name,params:this.$route.params});if(this.$route.meta.canonicalRoute)s=this.$router.resolve({name:this.$route.meta.canonicalRoute,params:this.$route.params}).href;else if(this.$route.name&&this.$route.name.match(/_PAGES$/)){const{matched:t,params:e}=this.$route,n=t[t.length-2];s=this.$router.resolve({...n,params:e}).href}e.push({href:(0,Ge.Z)(s),rel:"canonical",vmid:"canonical"});const n=[];if(t){const t=this.$router.resolve({...this.$route,params:{...this.$route.params,hl:He(this.$route.params.hl)}});n.push({href:`https://habr.com${this.$route.path}`,hreflang:this.$route.params.hl,rel:"alternate",vmid:"hreflang"}),n.push({href:`https://habr.com${t.href}`,hreflang:He(this.$route.params.hl),rel:"alternate",vmid:"hreflang"})}return[...e,...n]}},watch:{$route(t,e){t.path!==e.path&&(this.getUnreadConversations(),this.loadPromoData())}},mounted(){this.hasHydrated=!0;const t=(0,l.ej)("hl"),e=(0,l.ej)("fl"),{fl:s,hl:n}=this.langOptions;n!==t&&(0,l.d8)("hl",n,{expires:365}),s!==e&&(0,l.d8)("fl",s,{expires:365}),window.addEventListener("message",(t=>{this.validEmbedOrigin(t)&&(t.data&&t.data.type&&"embed-size"===t.data.type&&this.resizeIframe(t.data),t.data&&t.data.type&&"embed-scroll"===t.data.type&&this.scrollToIframe(t.data),t.data&&t.data.type&&"request-user"===t.data.type&&this.sendUser(t))})),this.$route.hash!==`#${Ue.dY}`&&(window.history.scrollRestoration="auto"),this.getUnreadConversations(),this.loadPromoData(),Fe()},metaInfo(){return{title:this.pageMetaTitle,titleTemplate:t=>this.pageTitle(t),link:this.pageMetaLinks,meta:this.pageMeta}},methods:{...(0,h.nv)("conversations",["setUnreadCount"]),...(0,h.nv)("promoData",["loadPromoData"]),getUnreadConversations(){this.isLoggedIn&&(0,Ve.d2)().then((t=>{this.setUnreadCount(t)})).catch((t=>{throw t}))},resizeIframe(t){const e=t.id,s=document.querySelectorAll(`[id="${e}"]`);for(let n=0;n<s.length;n+=1)s[n].height=t.height},scrollToIframe(t){const e=t.id,s=document.querySelector(`[id="${e}"]`);if(s){const t=s.getBoundingClientRect().top+window.pageYOffset-56;window.scrollTo({top:t,behavior:"smooth"})}},sendUser(t){t.source.postMessage({type:"user",alias:this.userAlias},t.origin)},validEmbedOrigin(t){return"https://embedd.srv.habr.com"===t.origin}}},We=Ze;var Ye=(0,L.Z)(We,p,_,!1,null,null,null);const qe=Ye.exports;var je=s(96017),Ke=s(13517),ze=s(69811),Qe=s(54226);function Xe(t){return(0,ze.Q)((0,Qe.k)("fbi/"),t)}var Je=s(76721);function ts(t,e){const s=e.getters["i18n/langOptions"],{hl:n}=s;if(t.params.hl!==n)return t.name&&"ERROR_NOT_FOUND"!==t.name?{params:{...t.params,hl:n},name:t.name,query:t.query}:{path:`/${n}${t.fullPath}`,query:t.query};const i="/"===t.path[t.path.length-1];return i?null:{path:`${t.path}/`,query:t.query}}function es(t,e){t.beforeEach(((t,s,n)=>{const i={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL",NEWS_LIST_BY_FLOW:"NEWS_LIST_BY_FLOW_ALL",NEWS:"NEWS_LIST_ALL"},{name:a,params:o,hash:r}=t,c=o.flowName||"all",m=a&&a.startsWith("NEWS"),u=Boolean(e.state.me.user),d=i[a];if(!d)return n();if(!u)return n({name:d,params:o,hash:r});const p=(0,Je.buildCookieName)({flowName:c,isNews:m}),_=(0,l.ej)(p),h=`/${o.hl}${_}${r||""}`;return n(_?{path:h}:{name:d,params:o,hash:r})}))}function ss(t,e){t.beforeEach(((t,s,n)=>(e.dispatch("flows/loadUpdates"),n())))}function ns(t,e){t.beforeEach(((t,s,n)=>{const i=t.matched.reduce(((t,e)=>Array.isArray(e.meta.groups)?[...t,...e.meta.groups]:t),[]),a=`/${t.params.hl}/404/`;if(i.length){if(!e.state.me.user)return n({path:a});if(!i.every((t=>e.state.me.user.groups.includes(t))))return n({path:a})}if(t.matched.some((t=>t.meta.requiresAuth))&&(e.state.me.user||e.dispatch("desktopState/checkDesktopState").then((()=>{if(e.state.desktopState.isLoginDemanded){const{hl:s}=e.state.i18n;(0,Ke.f0)(`/kek/v1/auth/habrahabr/?back=${t.path}&hl=${s}`)}else e.commit("ssr/setError",{code:401})}))),"/"!==s.path){const s=ts(t,e);return s?n(s):n()}return n()})),es(t,e),ss(t,e),t.afterEach(((t,s)=>{const n="undefined"!==typeof window;e.dispatch("location/updateUrl",{route:t});const{error:i}=e.state.ssr,a=i&&Array.isArray(i.additional)&&-1!==i.additional.indexOf("PPG_REQUIRED");if(i&&!a&&(e.dispatch("ssr/reset"),e.dispatch("ssr/markDataLoading")),e.state.me&&e.state.me.user&&n){const{path:t}=e.state.location.urlStruct;Xe({url:t}).catch((t=>je.Z.notifyException(t)))}Object.assign(t.meta,{prevFullPath:s.fullPath})}))}var is=s(78345);const as=()=>s.e(2636).then(s.bind(s,41571)),os=(t,e,s)=>{const n={geektimes:"geektimes",mozg:"megamozg"};return(0,ze.Hm)((0,Qe.k)(`migrated/${n[t]}/${e}/${s}`),null).then((({data:t})=>{const s=["company","hub","post","sandbox"];return"habrahabr"===t.target&&-1!==s.indexOf(e)?Promise.resolve({pageType:e,targetId:t.target_alias||t.target_id}):Promise.resolve(null)}))},rs=(t,e,s,n,i)=>{const{hl:a}=t.params,o=t.fullPath.split("/")[2];return os(o,s,n).then((s=>{if(s){const n=t.params.pathMatch||"",i=t.params.rss?"/rss":"";return e({path:`/${a}${i}/${s.pageType}/${s.targetId}/${n}`})}return e()})).catch((t=>(i.dispatch("ssr/showError",{error:t}),e(t))))},ls=t=>[{path:"company/:alias/*",component:as,beforeEnter:(e,s,n)=>rs(e,n,"company",e.params.alias,t),props:{error:"redirect"}},{path:"company/:alias/blog/:id/",component:as,beforeEnter:(e,s,n)=>rs(e,n,"post",e.params.id,t),props:{error:"redirect"}},{path:"hub/:alias/*",component:as,beforeEnter:(e,s,n)=>rs(e,n,"hub",e.params.alias,t),props:{error:"redirect"}},{path:"post/:id/",component:as,beforeEnter:(e,s,n)=>rs(e,n,"post",e.params.id,t),props:{error:"redirect"}},{path:"p/:id/",component:as,beforeEnter:(e,s,n)=>rs(e,n,"post",e.params.id,t),props:{error:"redirect"}},{path:"sandbox/:id/",component:as,beforeEnter:(e,s,n)=>rs(e,n,"sandbox",e.params.id,t),props:{error:"redirect"}}],cs=t=>[{path:"geektimes/:rss(rss)?",component:as,children:ls(t),props:{error:"redirect"}},{path:"mozg/:rss(rss)?",component:as,children:ls(t),props:{error:"redirect"}}];var ms=function(){var t=this,e=t._self._c;return e("div",[e("TMPlaceholder",{attrs:{modificator:"preview",times:7,type:"article"}})],1)},us=[],ds=s(76437);const ps={components:{TMPlaceholder:ds.Z},computed:{...(0,h.Se)("i18n",["langOptions"])},beforeMount(){this.initPwaMode()},mounted(){const t=(0,Ot.bc)(this.langOptions);this.$router.replace(t)},methods:{...(0,h.nv)("global",["initPwaMode"])}},_s=ps;var hs=(0,L.Z)(_s,ms,us,!1,null,null,null);const gs=hs.exports,Ts=[{name:"PWA",path:"/pwa/",pathToRegexpOptions:{strict:!0},component:gs}],vs=()=>s.e(2443).then(s.bind(s,37728)),fs=[{name:"ABOUT",path:"about/",components:{default:vs},meta:{pageType:"blank",layout:"empty"}}];var Ss=function(){var t=this,e=t._self._c;return e("TMPage",{scopedSlots:t._u([{key:"default",fn:function(){return[e("TMUserArticlePresenter",{attrs:{article:t.article,"is-loading":t.$fetchState.isLoading},scopedSlots:t._u([{key:"footer",fn:function(){return[e("TMUserArticleBlocks",{attrs:{id:t.id,article:t.article,"is-loading":t.$fetchState.isLoading},scopedSlots:t._u([{key:"afterAuthorBlocks",fn:function(){return[t.userShowAdv?e("TMAdfoxBanner",{staticClass:"tm-page-article__banner",attrs:{"adfox-id":"164725660339535756","div-id":"articleBottomBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"},variant:"leaderboard"}}):t._e()]},proxy:!0},{key:"beforeDailyArticles",fn:function(){return[e("TMPromoBlock",{attrs:{"ga-type":"post",layout:"article"}}),t._v(" "),t.article&&t.article.id?e("TMRandomProjectBlock",{attrs:{"block-id":"project-block-article",hubs:t.getArticleHubsTitles(t.id),location:"post",tags:t.getArticleTagsTitles(t.id)}}):t._e()]},proxy:!0},t.isMobile&&!t.isFlEnglish&&t.article&&t.article.hubs?{key:"afterDailyArticles",fn:function(){return[e("TMVacanciesBlock",{attrs:{hubs:t.article.hubs.map((({alias:t})=>t)),spacing:"top"}})]},proxy:!0}:null,{key:"dailyTopPromoLink",fn:function(){return[t.dailyTopPromoLink?e("TMPromoPostLink",{attrs:{appearance:t.isSandboxArticle?"top-daily":"top-daily-card","promo-post":t.dailyTopPromoLink}}):t._e()]},proxy:!0}],null,!0)})]},proxy:!0}])})]},proxy:!0},{key:"sidebar",fn:function(){return[e("TMArticleSidebar",{attrs:{article:t.article}})]},proxy:!0}])})},Es=[],Cs=s(19774),Is=s(76121),bs=s(14085),As=s(10011),ys=function(){var t=this,e=t._self._c;return e("TMArticleBlocks",{attrs:{article:t.article,"is-loading":t.isLoading},scopedSlots:t._u([{key:"beforeComments",fn:function(){return[t.userInfo?e("TMBlock",{attrs:{"body-variant":"balanced"}},[e("TMArticleAuthor",{attrs:{user:t.userInfo},on:{"change:isSubscribed":t.onToggleSubscribeStatusArticle,payments:function(e){t.shouldOpenPayments=!0}},scopedSlots:t._u([{key:"beforeCard",fn:function(){return[t._t("beforeUserCard")]},proxy:!0}],null,!0)}),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.shouldOpenPayments?e("TMPopupPayments",{on:{close:function(e){t.shouldOpenPayments=!1}}}):t._e()],1)],1):t._e(),t._v(" "),t._t("afterAuthorBlocks")]},proxy:!0},{key:"afterComments",fn:function(){return[t._t("beforeSimilarArticles"),t._v(" "),t.isSandboxArticle&&t.similarList.length?e("TMArticleListBlock",{attrs:{"bookmark-module":"similarList","data-list":t.similarList,"ga-options":t.$options.similarGaOptions,title:t.msg("TITLE_SIMILAR")}}):e("TMSimilarAndDailyArticles",{attrs:{"article-id":t.id},scopedSlots:t._u([{key:"dailyTopPromoLink",fn:function(){return[t._t("dailyTopPromoLink")]},proxy:!0}],null,!0)}),t._v(" "),t._t("beforeDailyArticles"),t._v(" "),t.isSandboxArticle&&t.dailyArticles.length?e("TMArticleListBlock",{attrs:{"data-list":t.dailyArticles,"ga-options":t.$options.dailyTopGaOptions,spacing:"top",title:t.msg("TITLE_TOP_DAILY")},scopedSlots:t._u([{key:"lastItem",fn:function(){return[t._t("dailyTopPromoLink")]},proxy:!0}],null,!0)}):t._e(),t._v(" "),t.isMobile&&t.isShowStories?e("TMStories",{attrs:{"ga-category":"stories_mobile"}}):t._e(),t._v(" "),t._t("afterDailyArticles")]},proxy:!0}],null,!0)})},Ls=[],Ps=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-author"},[t._t("beforeCard"),t._v(" "),e("TMUserCard",{staticClass:"tm-article-author__user-card",attrs:{"avatar-size":40,"invite-button-visible":!1,"is-donate-button-visible":"",user:t.user,variant:"article"},on:{"change:isSubscribed":function(e){return t.$emit("change:isSubscribed",e)},karmachange:t.onKarmaChange,payments:function(e){return t.$emit("payments")}}}),t._v(" "),t.user.authorContacts&&t.user.authorContacts.length?e("div",{staticClass:"tm-article-author__user-contacts"},t._l(t.user.authorContacts,(function(s){return e("a",{key:s.url,staticClass:"tm-article-author__contact",attrs:{href:s.url,rel:"noopener",target:"_blank"}},[t._v("\n      "+t._s(s.title)+"\n    ")])})),0):t._e()],2)},Os=[],Rs=s(78513),Ns=s(23159);const ks={name:"TMArticleAuthor",components:{TMUserCard:Rs.Z},props:{user:Ns.Z},methods:{onKarmaChange(t){const e="up"===t.direction?"vote_plus":"vote_minus";(0,C.Kz)("author_info_post",e,this.user.alias)}}},Ms=ks;var ws=(0,L.Z)(Ms,Ps,Os,!1,null,null,null);const xs=ws.exports;var Ds=s(66309),Bs=s(70810),$s=s(76262),Fs=s(40969),Gs=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{"body-variant":"condensed-slim","header-variant":"borderless",title:t.msg("ARTICLE_OTHER_ARTICLES_TITLE"),"title-variant":"large"}},[e("TMTabs",{attrs:{local:"","local-active":t.currentTab,"no-spacers":"",slim:"",tabs:t.tabs},on:{"update:localActive":function(e){t.currentTab=e},"update:local-active":function(e){t.currentTab=e}}}),t._v(" "),e("div",{staticClass:"similar-and-daily__tab-view"},["daily"===t.currentTab?e("TMDailyArticlesBlock",{attrs:{"ga-options":t.$options.dailyTopGaOptions,spacing:"none"},scopedSlots:t._u([{key:"lastItem",fn:function(){return[t._t("dailyTopPromoLink")]},proxy:!0}],null,!0)}):t._e(),t._v(" "),"similar"===t.currentTab?e("TMSimilarArticlesBlock",{attrs:{"article-id":t.articleId,"ga-options":t.$options.similarGaOptions,spacing:"none"}}):t._e()],1)],1)},Us=[],Vs=function(){var t=this,e=t._self._c;return t.dailyArticles.length||t.$slots.lastItem?e("div",{staticClass:"daily-articles-list"},[e("TMArticleCardList",{attrs:{articles:t.dailyArticles.slice(0,5),"ga-options":t.gaOptions},scopedSlots:t._u([{key:"lastItem",fn:function(){return[t._t("lastItem")]},proxy:!0}],null,!0)})],1):e("TMPlaceholder",{attrs:{times:t.placeholderCount,type:"articleCards"}})},Hs=[],Zs=function(){var t=this,e=t._self._c;return t.articles?e("ul",{staticClass:"tm-article-card-list"},[t._l(t.articles,(function(s){return e("li",{key:s.id,staticClass:"tm-article-card-list__item"},[e("TMArticleSnippet",{attrs:{article:s,lang:s.lang,"no-border":"","use-link":"","with-hubs":!1,"with-labels":"","with-lead":!1}}),t._v(" "),e("TMDataIcons",{attrs:{article:s,"bookmark-module":t.bookmarkModule,"ga-options":t.gaOptions,"icons-list":["votes","comments","views","favorite"]}})],1)})),t._v(" "),t.$slots.lastItem?e("li",{staticClass:"tm-article-card-list__item"},[t._t("lastItem")],2):t._e()],2):t._e()},Ws=[],Ys=s(897),qs=s(33557);const js={name:"TMArticleCardList",components:{TMDataIcons:qs.Z,TMArticleSnippet:Ys.Z},props:{articles:{type:Array,required:!0},gaOptions:{type:Object,default:()=>null,required:!1},bookmarkModule:{type:String,default:"articlesList"}}},Ks=js;var zs=(0,L.Z)(Ks,Zs,Ws,!1,null,null,null);const Qs=zs.exports,Xs={name:"TMDailyArticlesBlock",components:{TMArticleCardList:Qs,TMPlaceholder:ds.Z},props:{gaOptions:{type:Object,default:()=>null,required:!1},placeholderCount:{type:Number,default:5}},computed:{...(0,h.Se)("articlesList",{dailyArticles:"getDailyArticles"})},mounted(){this.loadDailyArticles({force:!0})},methods:{...(0,h.nv)("articlesList",["loadDailyArticles"])}},Js=Xs;var tn=(0,L.Z)(Js,Vs,Hs,!1,null,null,null);const en=tn.exports;var sn=function(){var t=this,e=t._self._c;return t.similarList.length?e("TMArticleCardList",{attrs:{articles:t.similarList,"bookmark-module":"similarList","ga-options":t.gaOptions}}):e("TMPlaceholder",{attrs:{times:t.placeholderCount,type:"articleCards"}})},nn=[];const an={name:"TMSimilarArticlesBlock",components:{TMArticleCardList:Qs,TMPlaceholder:ds.Z},props:{articleId:{type:String,required:!0},gaOptions:{type:Object,default:()=>null,required:!1},placeholderCount:{type:Number,default:5}},computed:{...(0,h.Se)("similarList",["similarList"])},watch:{articleId(t){this.loadSimilarList({articleId:t})}},mounted(){this.loadSimilarList({articleId:this.articleId}),this.$activeWatch((()=>this.articleId),(t=>{this.loadSimilarList({articleId:t})}))},methods:{...(0,h.nv)("similarList",["loadSimilarList"])}},on=an;var rn=(0,L.Z)(on,sn,nn,!1,null,null,null);const ln=rn.exports;var cn=s(67278),mn=s(42052);const un={name:"TMSimilarAndDailyArticles",components:{TMBlock:$s.Z,TMSimilarArticlesBlock:ln,TMDailyArticlesBlock:en,TMTabs:cn.Z},props:{articleId:{type:String,required:!0}},data(){return{currentTab:"daily"}},similarGaOptions:mn.kA,dailyTopGaOptions:mn.z6,computed:{tabs(){return[{route:{name:"daily"},title:this.msg("ARTICLE_OTHER_ARTICLES_TOP")},{route:{name:"similar"},title:this.msg("ARTICLE_OTHER_ARTICLES_SIMILAR")}]}},watch:{articleId(){this.$forceUpdate()}}},dn=un;var pn=(0,L.Z)(dn,Gs,Us,!1,null,null,null);const _n=pn.exports;var hn=s(93764),gn=s(28374);const Tn={name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily"},query:{}},vn={name:"TMUserArticleBlocks",components:{TMSimilarAndDailyArticles:_n,TMPopupPayments:Fs["default"],TMArticleListBlock:Bs.Z,TMArticleAuthor:xs,TMBlock:$s.Z,TMArticleBlocks:Ds.Z,TMStories:hn.Z},similarGaOptions:mn.kA,dailyTopGaOptions:mn.z6,props:{article:{type:Object,default:null},id:{type:String,required:!0},isLoading:{type:Boolean,required:!0},isShowStories:{type:Boolean,default:!0}},data(){return{shouldOpenPayments:!1,similarAndDailyActiveTabs:"daily"}},computed:{...(0,h.Se)("users",["getUserByAlias"]),...(0,h.Se)("similarList",["similarList"]),...(0,h.rn)("articlesList",["articlesIds","articlesList"]),...(0,h.Se)("global",["isMobile"]),userInfo(){return this.article?this.getUserByAlias(this.article.author.alias)||this.article.author:null},dailyArticles(){const t=this.articlesIds[(0,gn.Z)(Tn)];return t?t.map((t=>this.articlesList[t])):[]},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType}},mounted(){this.$activeWatch((()=>this.article),(t=>{t&&(this.setUserInfo({userAlias:t.author.alias,userData:t.author}),this.isSandboxArticle&&(this.loadArticlesList({route:Tn}),this.loadSimilarList({articleId:t.id})))}),{immediate:!0})},methods:{...(0,h.nv)("users",["loadUserInfo"]),...(0,h.nv)("similarList",["loadSimilarList"]),...(0,h.nv)("articlesList",["loadArticlesList"]),...(0,h.OI)("users",["setUserInfo"]),onToggleSubscribeStatusArticle(t){const e=t?"subscribe":"unsubscribe";(0,C.Kz)("author_info_bottom",e,this.userInfo.alias),t&&(0,C.Kz)(e,"user",this.userAlias)}}},fn=vn;var Sn=(0,L.Z)(fn,ys,Ls,!1,null,null,null);const En=Sn.exports;var Cn=function(){var t=this,e=t._self._c;return e("TMArticlePresenter",{attrs:{article:t.article,"is-loading":t.isLoading},scopedSlots:t._u([{key:"beforeBody",fn:function(){return[t._t("beforeBody")]},proxy:!0},{key:"afterStickyIcons",fn:function(){return[t.shouldDisplayRecommendationsButton||t.canSendComplaint?e("div",{staticClass:"tm-user-article-presenter__admin-icons"},[t.shouldDisplayRecommendationsButton?e("button",{staticClass:"tm-user-article-presenter__admin-button",attrs:{title:t.msg("ARTICLE_RECOMMENDATION_TITLE")},on:{click:t.getRecommendationsList}},[e("TMSvgImg",{staticClass:"tm-user-article-presenter__icon",attrs:{id:"flag",title:t.msg("ARTICLE_RECOMMENDATION_TITLE")}})],1):t._e(),t._v(" "),t.canSendComplaint?e("button",{staticClass:"tm-user-article-presenter__admin-button",attrs:{title:t.msg("ARTICLE_COMPLAINT_TITLE")},on:{click:function(e){t.isComplaintFormShown=!0}}},[e("TMWarningIcon",{staticClass:"tm-user-article-presenter__icon"})],1):t._e()]):t._e()]},proxy:!0},{key:"beforeFooter",fn:function(){return[e("Portal",{attrs:{to:"overlays"}},[t.isRecommendationsFormShown?e("TMPopup",{attrs:{title:t.msg("ARTICLE_RECOMMENDATIONS_FORM_TITLE")},on:{close:function(e){t.isRecommendationsFormShown=!1}}},[e("TMRecommendationsForm",{attrs:{"is-processing":t.isRecommendationsFormDisabled,recommendations:t.articleRecommendationsList},on:{submit:t.sendRecommendations}})],1):t._e(),t._v(" "),t.isComplaintFormShown?e("TMPopup",{attrs:{title:t.msg("ARTICLE_COMPLAINT_TITLE")},on:{close:function(e){t.isComplaintFormShown=!1}}},[e("TMComplaintForm",{attrs:{autofocus:"","is-processing":t.isComplaintFormDisabled,"submit-action":t.complaintAction}})],1):t._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[t._t("footer")]},proxy:!0}],null,!0)})},In=[],bn=s(47593),An=s(49211),yn=function(){var t=this,e=t._self._c;return e("form",{staticClass:"tm-recommendations-form"},[e("fieldset",{staticClass:"tm-recommendations-form__fieldset"},t._l(t.recommendationsArr,(function(s){return e("TMLabeledCheckbox",{key:s.id,staticClass:"tm-recommendations-form__field",attrs:{name:`${s.id}`,value:s.id},model:{value:t.checkedRecommendations[s.id],callback:function(e){t.$set(t.checkedRecommendations,s.id,e)},expression:"checkedRecommendations[item.id]"}},[t._v("\n      "+t._s(s.title)+"\n    ")])})),1),t._v(" "),e("TMButtonBase",{staticClass:"tm-recommendations-form__button",attrs:{disabled:t.isProcessing,"style-size":"medium"},on:{click:t.emitSubmit}},[t._v("\n    "+t._s(t.msg("SUBMIT_FORM_ACTION"))+"\n  ")])],1)},Ln=[],Pn=s(75070);const On={name:"RecommendationsForm",components:{TMButtonBase:f.Z,TMLabeledCheckbox:Pn.Z},props:{recommendations:{type:Object,required:!0},isProcessing:{type:Boolean}},data(){return{checkedRecommendations:[]}},computed:{recommendationsArr(){return Object.values(this.recommendations)}},methods:{emitSubmit(){const t=[];this.checkedRecommendations.forEach(((e,s)=>{e&&t.push(this.recommendationsArr[s-1].id)})),this.$emit("submit",t)}}},Rn=On;var Nn=(0,L.Z)(Rn,yn,Ln,!1,null,null,null);const kn=Nn.exports;var Mn=s(95936),wn=s(2384);const xn=()=>s.e(93).then(s.bind(s,20093)),Dn={name:"TMUserArticlePresenter",components:{TMSvgImg:at.Z,TMComplaintForm:An.Z,TMArticlePresenter:bn.Z,TMRecommendationsForm:kn,TMWarningIcon:xn,TMPopup:ge.Z},props:{article:{type:Object,default:null},isLoading:{type:Boolean,required:!0}},data(){return{isComplaintFormShown:!1,isComplaintFormDisabled:!1,isRecommendationsFormShown:!1,isRecommendationsFormDisabled:!1,articleRecommendationsList:[]}},computed:{...(0,h.Se)("me",["isSuperAdmin","userAlias"]),...(0,h.rn)("me",["user"]),isMineArticle(){const t=this.article.author.alias.toLowerCase();return this.isLoggedIn&&t===this.userAlias.toLowerCase()},shouldDisplayRecommendationsButton(){return!this.isMineArticle&&this.isSuperAdmin},canSendComplaint(){return this.user&&this.user.settings.permissionSettings.canAddComplaints}},mounted(){this.$activeWatch((()=>this.article),(t=>{t&&this.verifyArticleRoute()}),{immediate:!0})},methods:{closeComplaintForm(){this.isComplaintFormShown=!1,this.isComplaintFormDisabled=!1},closeRecommendationsForm(){this.isRecommendationsFormShown=!1,this.isRecommendationsFormDisabled=!1},complaintAction(t){return(0,wn.fo)(this.article.id,{message:t}).then((()=>{this.closeComplaintForm(),this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((t=>{throw this.$toast.error(t.message),t}))},getRecommendationsList(){(0,wn.$K)().then((({postRecommendationRefs:t})=>{this.isRecommendationsFormShown=!0,this.articleRecommendationsList=t})).catch((t=>this.$toast.error(t.message)))},sendRecommendations(t){(0,wn.sI)(this.article.id,{ids:t}).then((t=>{this.isRecommendationsFormShown=!1,this.$router.push({name:"CONVERSATION_MESSAGES",params:{login:this.article.author.alias,hl:this.langOptions.hl,template:t}})})).catch((t=>this.$toast.error(t.message)))},verifyArticleRoute(){const t=(0,Mn.Q)(this.article,this.article.id,this.langOptions.hl),e=`${t}`;this.$route.path!==e&&this.$router.replace({path:e,hash:this.$route.hash})}}},Bn=Dn;var $n=(0,L.Z)(Bn,Cn,In,!1,null,null,null);const Fn=$n.exports;var Gn=s(16183),Un=function(){var t=this,e=t._self._c;return t.isDesktop&&t.article&&t.article.id?e("TMLayoutSidebar",{attrs:{"show-adv":""}},[e("TMMostReadingBlock",{attrs:{"ga-type":"post",layout:"sidebar",spacing:"bottom"}}),t._v(" "),e("TMStories",{attrs:{"ga-category":"stories_sidebar","is-sidebar":!0}}),t._v(" "),!t.isFlEnglish&&t.article.hubs?e("TMVacanciesBlock",{attrs:{hubs:t.article.hubs.map((({alias:t})=>t))}}):t._e()],1):t._e()},Vn=[],Hn=s(37377),Zn=s(97502);const Wn={name:"TMArticleSidebar",components:{TMMostReadingBlock:Zn.Z,TMLayoutSidebar:Hn.Z,TMVacanciesBlock:Gn.Z,TMStories:hn.Z},props:{article:{type:Object,default:null}},computed:{...(0,h.Se)("global",["isDesktop"]),isFlEnglish(){return"en"===this.langOptions.fl}}},Yn=Wn;var qn=(0,L.Z)(Yn,Un,Vn,!1,null,null,null);const jn=qn.exports,Kn={name:"TMArticlePage",components:{TMPromoPostLink:As.Z,TMArticleSidebar:jn,TMRandomProjectBlock:Is.Z,TMPromoBlock:bs.Z,TMAdfoxBanner:Cs.Z,TMPage:Jt.Z,TMUserArticlePresenter:Fn,TMUserArticleBlocks:En,TMVacanciesBlock:Gn.Z},props:{id:{type:String,required:!0}},asyncData({store:t}){return t.dispatch("articlesList/loadArticle",{articleId:this.id})},computed:{...(0,h.Se)("global",["isMobile"]),...(0,h.Se)("me",["userShowAdv"]),...(0,h.Se)("articlesList",["getArticleById","getArticleHubsTitles","getArticleTagsTitles"]),...(0,h.Se)("promoData",["dailyTopPromoLink"]),isFlEnglish(){return"en"===this.langOptions.fl},article(){return this.getArticleById(this.id)},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType}}},zn=Kn;var Qn=(0,L.Z)(zn,Ss,Es,!1,null,null,null);const Xn=Qn.exports;var Jn=function(){var t=this,e=t._self._c;return e("TMPage",{scopedSlots:t._u([{key:"header",fn:function(){return[t.companyInfo?e("TMCompanyBranding",{staticClass:"tm-company-article__branding",attrs:{"company-info":t.companyInfo}}):t._e()]},proxy:!0},{key:"default",fn:function(){return[e("TMUserArticlePresenter",{attrs:{article:t.article,"is-loading":t.$fetchState.isLoading},scopedSlots:t._u([{key:"beforeBody",fn:function(){return[t.isDesktop?e("TMCompanyProfileCard",{staticClass:"tm-company-article__profile-card",attrs:{company:t.companyInfo}}):t._e()]},proxy:!0},{key:"footer",fn:function(){return[e("TMUserArticleBlocks",{attrs:{id:t.id,article:t.article,"is-loading":t.$fetchState.isLoading,"is-show-stories":t.isStartup},scopedSlots:t._u([{key:"beforeUserCard",fn:function(){return[t.companyInfo?e("TMCompanyInfo",{attrs:{"company-info":t.companyInfo}}):t._e()]},proxy:!0},{key:"beforeDailyArticles",fn:function(){return[t.isStartup?[e("TMPromoBlock",{attrs:{"ga-type":"post",layout:"article"}}),t._v(" "),t.article&&t.article.id?e("TMRandomProjectBlock",{attrs:{"block-id":"project-block-company-article",hubs:t.getArticleHubsTitles(t.id),location:"post",tags:t.getArticleTagsTitles(t.id)}}):t._e()]:[t.companyInfo?e("TMProjectBlockVacancies",{attrs:{"career-alias":t.careerAlias,"company-alias":t.companyAlias,"company-title":t.companyTitle,location:"post"}}):t._e()]]},proxy:!0},{key:"dailyTopPromoLink",fn:function(){return[t.dailyTopPromoLink&&t.isStartup?e("TMPromoPostLink",{attrs:{appearance:t.isSandboxArticle?"top-daily":"top-daily-card","promo-post":t.dailyTopPromoLink}}):t._e()]},proxy:!0}])})]},proxy:!0}])})]},proxy:!0},{key:"sidebar",fn:function(){return[e("TMArticleCorporativeSidebar",{attrs:{"company-info":t.companyInfo,"company-name":t.companyAlias}})]},proxy:!0}])})},ti=[],ei=s(73018),si=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-author__company"},[e("div",{staticClass:"tm-article-author__company-card"},[e("TMCompanySnippet",{attrs:{company:t.companyInfo}}),t._v(" "),e("div",{staticClass:"tm-article-author__buttons"},[t.isSuperAdmin?e("div",{staticClass:"tm-article-author__button"},[e("TMAdministrationLinks",{attrs:{links:t.companyLinksItems}})],1):t._e(),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-article-author__button"},[e("div",{staticClass:"tm-article-author__follow-block"},[e("TMButtonFollow",{attrs:{subscribed:t.isCompanySubscribed,"use-follow-label":!0},on:{onToggle:function(e){return t.toggleSubscribeStatus(t.companyInfo.alias)}}})],1)]):t._e()])],1),t._v(" "),t.companyInfo.contacts&&t.companyInfo.contacts.length?e("div",{staticClass:"tm-article-author__company-contacts"},t._l(t.companyInfo.contacts,(function(s){return e("a",{key:s.url,staticClass:"tm-article-author__contact",attrs:{href:s.url,rel:"noopener",target:"_blank"}},[t._v("\n      "+t._s(s.title)+"\n    ")])})),0):t._e(),t._v(" "),e("div",{staticClass:"tm-article-author__separator"})])},ni=[],ii=s(77855),ai=s(92152);const oi=()=>s.e(2328).then(s.bind(s,38726)),ri={name:"TMCompanyInfo",components:{TMButtonFollow:ii.Z,TMAdministrationLinks:oi,TMCompanySnippet:ai.Z},props:{companyInfo:{type:Object,required:!0}},computed:{...(0,h.Se)("me",["isLoggedIn","isSuperAdmin"]),companyLinksItems(){const{alias:t}=this.companyInfo,e={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},s=`https://habr.com/kek/admin/company/${t}/`;return[{title:e[this.langOptions.hl].EDIT_PROFILE,link:s}]},isCompanySubscribed(){return this.companyInfo.relatedData&&this.companyInfo.relatedData.isSubscribed}},methods:{...(0,h.nv)("companies",["toggleSubscribeStatus"])}},li=ri;var ci=(0,L.Z)(li,si,ni,!1,null,null,null);const mi=ci.exports;var ui=s(3567),di=s(61828),pi=function(){var t=this,e=t._self._c;return t.isDesktop?e("TMLayoutSidebar",{attrs:{"show-adv":t.isStartup}},[t.companyInfo&&t.showAdministrationBlock?e("TMCompanyAdministrationBlock",{attrs:{"company-info":t.companyInfo}}):t._e(),t._v(" "),t.companyInfo?e("TMCompanyBasicInfoBlock",{attrs:{"company-info":t.companyInfo}}):t._e(),t._v(" "),t.companyName&&t.companyInfo&&!t.isCompanyExpired?e("TMCompanyWidgets",{attrs:{"company-alias":t.companyName}}):t._e(),t._v(" "),t.companyName&&t.companyBlogList&&t.companyBlogList.length?e("TMArticleListBlock",{attrs:{"data-list":t.companyBlogList,layout:"sidebar",title:t.msg("TITLE_HABR_BLOG")}}):t._e(),t._v(" "),t.isStartup?e("TMStories",{attrs:{"ga-category":"stories_sidebar","is-sidebar":!0}}):t._e()],1):t._e()},_i=[],hi=s(72153),gi=s(13136),Ti=s(454),vi=s(34938);const fi={name:"TMArticleCorporativeSidebar",components:{TMArticleListBlock:Bs.Z,TMCompanyAdministrationBlock:hi.Z,TMCompanyBasicInfoBlock:gi.Z,TMCompanyWidgets:Ti.Z,TMLayoutSidebar:Hn.Z,TMStories:hn.Z},props:{companyName:{type:String,default:null},companyInfo:{type:Object,default:null}},computed:{...(0,h.Se)("global",["isDesktop"]),...(0,h.Se)("articlesList",["getArticleById","getArticlesList","getCompanyAlias"]),...(0,h.Se)("me",["isSuperAdmin"]),isCompanyExpired(){return(0,vi.fd)(this.companyInfo)},companyBlogList(){const t=(0,gn.Z)((0,vi.kM)(this.companyName));return this.getArticlesList(t)},showAdministrationBlock(){const t=this.companyInfo?this.companyInfo.aDeskSettings:null;return t&&t.access||this.isSuperAdmin},isStartup(){var t,e;return null===(t=this.companyInfo)||void 0===t||null===(e=t.settings)||void 0===e?void 0:e.isStartup}},mounted(){this.$watch((()=>[this.companyName,this.isDesktop]),(([t,e])=>{e&&t&&this.loadArticlesList({route:(0,vi.kM)(t)})}),{immediate:!0})},methods:{...(0,h.nv)("articlesList",["loadArticlesList"])}},Si=fi;var Ei=(0,L.Z)(Si,pi,_i,!1,null,null,null);const Ci=Ei.exports;var Ii=s(34073),bi=s(36771),Ai=s(7748);const yi={name:"TMCompanyArticlePage",components:{TMPromoPostLink:As.Z,TMRandomProjectBlock:Is.Z,TMPromoBlock:bs.Z,TMArticleCorporativeSidebar:Ci,TMUserArticlePresenter:Fn,TMProjectBlockVacancies:di.Z,TMUserArticleBlocks:En,TMCompanyProfileCard:ui.Z,TMCompanyBranding:ei.Z,TMPage:Jt.Z,TMCompanyInfo:mi},props:{id:{type:String,required:!0}},asyncData(){return this.loadArticle({articleId:this.id}).then((()=>this.loadCompanyInfo({alias:this.companyAlias}).catch((t=>{const e=(0,bi.SJ)(t);if("NOT_FOUND"!==e)throw t}))))},computed:{...(0,h.Se)("global",["isDesktop"]),...(0,h.Se)("companies",["getCompanyInfo","getCompanyStartupStatus"]),...(0,h.Se)("articlesList",["getArticleById","getArticleHubsTitles","getArticleTagsTitles"]),...(0,h.Se)("promoData",["dailyTopPromoLink"]),article(){return this.getArticleById(this.id)},companyInfo(){return this.companyAlias?this.getCompanyInfo(this.companyAlias):null},companyAlias(){if(!this.article)return null;const t=this.article.hubs.find((t=>"corporative"===t.type));return t?t.alias.toLowerCase():null},companyTitle(){return this.companyInfo.titleHtml},careerAlias(){return this.companyInfo.careerAlias},isStartup(){return this.getCompanyStartupStatus(this.companyAlias)},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType}},metaInfo(){const{article:t}=this;if(!t||!t.metadata||!this.companyInfo)return{};const e=`${t.titleHtml} / ${this.msg("ARTICLE_COMPANY_BLOG",{companyName:this.companyInfo.titleHtml})}`;return{title:(0,Ai._)(e)}},mounted(){this.$watch((()=>this.companyInfo),(t=>{t&&(0,Ii.X)(t,this.$route.fullPath)}),{immediate:!0})},methods:{...(0,h.nv)("companies",["loadCompanyInfo"]),...(0,h.nv)("articlesList",["loadArticle"])}},Li=yi;var Pi=(0,L.Z)(Li,Jn,ti,!1,null,null,null);const Oi=Pi.exports;var Ri=s(83049);const Ni=()=>s.e(7478).then(s.bind(s,59210)),ki=()=>s.e(7478).then(s.bind(s,49795)),Mi=()=>s.e(269).then(s.bind(s,45329)),wi=(t,e,s)=>({name:t,pathToRegexpOptions:{strict:!0},components:{default:e},props:{default:!0},meta:{pageType:"post",customGA:!0,rssLink:t=>s?`/rss/news/t/${t.id}/`:`/rss/post/${t.id}/`},beforeEnter:Ri.dE}),xi=!0,Di=[{...wi("ARTICLE",Xn),path:"post/:id(\\d+)/",alias:"/:hl/p/:id(\\d+)/"},{...wi("NEWS_ARTICLE",Xn,xi),path:"news/t/:id(\\d+)?/"},{...wi("ARTICLE_OF_COMPANY",Oi),path:"company/:companyName/blog/:id(\\d+)/",alias:"/:hl/blogs/:companyName/:id/"},{...wi("NEWS_OF_COMPANY",Oi,xi),path:"company/:companyName/news/t/:id(\\d+)/"},{...wi("ARTICLE_MEGAPOST",Ni),path:"article/:id(\\d+)/"},{...wi("ARTICLE_MEGAPOST_PREVIEW",ki),path:"article/preview/:hash/"},{name:"ARTICLE_SANDBOX",path:"sandbox/:id(\\d+)/",pathToRegexpOptions:{strict:!0},components:{default:Mi},meta:{pageType:"sandbox",rssLink:t=>`/rss/post/${t.id}/`}}],Bi=()=>s.e(5631).then(s.bind(s,73540)),$i=()=>s.e(5631).then(s.bind(s,33361)),Fi=()=>s.e(5631).then(s.bind(s,1011)),Gi=(t,e=null,s)=>({pathToRegexpOptions:{strict:!0},components:{default:Bi},props:{default:!0},children:[{name:t,path:"",components:{sidebar:e},props:{sidebar:!0},meta:{pageType:"post_comments",customGA:!0,rssLink:t=>s?`/rss/news/t/${t.id}/`:`/rss/post/${t.id}/`}}],meta:{pageType:"post_comments",customGA:!0,rssLink:t=>s?`/rss/news/t/${t.id}/`:`/rss/post/${t.id}/`}}),Ui=!0,Vi=[{...Gi("ARTICLE_COMMENTS",Fi),path:"post/:id(\\d+)/comments/",alias:"/:hl/p/:id(\\d+)/comments/"},{...Gi("NEWS_ARTICLE_COMMENTS",Fi,Ui),path:"news/t/:id(\\d+)/comments/"},{...Gi("ARTICLE_COMMENTS_OF_COMPANY",$i),path:"company/:companyName/blog/:id(\\d+)/comments/",alias:"/:hl/blogs/:companyName/:id(\\d+)/comments/"},{...Gi("NEWS_OF_COMPANY_COMMENTS",$i,Ui),path:"company/:companyName/news/t/:id(\\d+)/comments/"},{...Gi("ARTICLE_COMMENTS_OF_MEGAPOST"),path:"article/:id(\\d+)/comments/"}],Hi=()=>s.e(7628).then(s.bind(s,99340)),Zi=()=>s.e(7628).then(s.bind(s,4113)),Wi=()=>s.e(7628).then(s.bind(s,31528)),Yi=[{path:"beta/",components:{default:Hi},children:[{name:"BETA_TEST",path:"",meta:{title:"BETA_TESTING_TITLE",requiresAuth:!0,rootPage:!0},components:{default:Zi}},{name:"BETA_TEST_ARCHIVED_ANNOUNCEMENT",path:"archieve/:id",meta:{title:"BETA_TESTING_TITLE"},components:{default:Wi}},{path:"welcome/",redirect:t=>({...t,name:"BETA_TEST"})}]}],qi=()=>Promise.all([s.e(6667),s.e(2972)]).then(s.bind(s,69722)),ji=()=>Promise.all([s.e(6667),s.e(2972)]).then(s.bind(s,59405)),Ki=()=>Promise.all([s.e(6667),s.e(2972)]).then(s.bind(s,80977)),zi=()=>Promise.all([s.e(6667),s.e(2972)]).then(s.bind(s,30411)),Qi=()=>Promise.all([s.e(6667),s.e(2972)]).then(s.bind(s,49042)),Xi=()=>Promise.all([s.e(6667),s.e(2972)]).then(s.bind(s,84084)),Ji=[{name:"COMPANY_PROFILE_ROOT",path:"company/:name/",pathToRegexpOptions:{strict:!0},meta:{pageType:"company",customGA:!0},components:{default:qi},redirect:t=>({...t,name:"ARTICLES_LIST_BY_COMPANY"}),children:[{name:"COMPANY_PROFILE",path:"profile/",pathToRegexpOptions:{strict:!0},components:{default:zi},meta:{renderAlternateMetaTag:!0}},{name:"COMPANY_BRANDING_PREVIEW",path:"branding/:brandingId/preview/",pathToRegexpOptions:{strict:!0},components:{default:ji},meta:{showArticleFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_BRANDING_PREVIEW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!0,navTitle:"NAV_NEW"}}]},{name:"ARTICLES_LIST_BY_COMPANY",path:"blog/",pathToRegexpOptions:{strict:!0},components:{default:ji},meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:t=>`/rss/company/${t.name}/blog/`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:t=>`/rss/company/${t.name}/blog/`}}]},{name:"ARTICLES_LIST_TOP_BY_COMPANY",path:"blog/top/",pathToRegexpOptions:{strict:!0},components:{default:ji},meta:{showArticleFilter:!0,navTitle:"NAV_BEST",renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!0,navTitle:"NAV_BEST"}}]},{name:"NEWS_LIST_BY_COMPANY",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:ji},meta:{rssLink:t=>`/rss/company/${t.name}/blog/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{rssLink:t=>`/rss/company/${t.name}/blog/`}}]},{name:"COMPANY_VACANCIES",path:"vacancies/",pathToRegexpOptions:{strict:!0},components:{default:Qi},children:[{name:"COMPANY_VACANCIES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_VACANCIES",noindex:!0}}]},{name:"COMPANY_WORKERS",path:"workers/",redirect:{name:"COMPANY_WORKERS_ALL"}},{name:"COMPANY_WORKERS_ALL",path:"workers/all/rating/",pathToRegexpOptions:{strict:!0},components:{default:Xi},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_ALL"},children:[{name:"COMPANY_WORKERS_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_ALL"}}]},{name:"COMPANY_WORKERS_NEW",path:"workers/new/rating/",pathToRegexpOptions:{strict:!0},components:{default:Xi},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_WORKERS_NEW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_NEW"}}]},{name:"COMPANY_FANS",path:"fans/",redirect:{name:"COMPANY_FANS_ALL"}},{name:"COMPANY_FANS_ALL",path:"fans/all/rating/",pathToRegexpOptions:{strict:!0},components:{default:Ki},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_ALL"},children:[{name:"COMPANY_FANS_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_ALL"}}]},{name:"COMPANY_FANS_NEW",path:"fans/new/rating/",pathToRegexpOptions:{strict:!0},components:{default:Ki},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_FANS_NEW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_NEW"}}]}]}];function ta(){const t=["widgets/","vkontakte-groups/","facebook-like-box/","applications/","twitter-stream/","news/","links/"],e=t.reduce(((t,e)=>({...t,[e]:"settings/widgets/"})),{});return{...e,"statistics-summary/":"statistics/summary/","authors-statistics/":"statistics/authors/","hubs-statistics/":"statistics/hubs/","post-list/":"posts/articles/","post-list/page:pageNum(\\d+)/":"posts/articles/page:pageNum/","news-list/":"posts/news/","news-list/page:pageNum(\\d+)/":"posts/news/page:pageNum/","administrators-list/":"company/users/","administrators-list/page:pageNum(\\d+)/":"company/users/page:pageNum/","administrators-list/add/":"company/users/add/","employees-list/":"company/employees/","employees-list/page:pageNum(\\d+)/":"company/employees/page:pageNum/","employees-list/requests/":"company/employees/requests/","employees-list/requests/page:pageNum(\\d+)/":"company/employees/requests/page:pageNum/","employees-list/add/":"company/employees/add/","invites/":"company/invitations/","vacancies/":"company/vacancies/listing/","vacancies/page:pageNum(\\d+)/":"company/vacancies/listing/page:pageNum/","log/":"company/logs/","log/page:pageNum(\\d+)/":"company/logs/page:pageNum/","current-subscription/":"billing/current/","prolongation/":"billing/renewal/","activation-code/":"billing/activation/","requisites/":"billing/requisites/","requisites/add/":"billing/requisites/add","finance/":"billing/finance/","description/":"settings/card/","widgets/":"settings/widgets/","branding/":"settings/branding/","localization/":"settings/localization/","analytics/":"settings/analytics/","documents/faq/":"faq/"}}function ea(){const t=ta();return Object.keys(t).reduce(((e,s)=>{const n={path:s,redirect:t[s]};return e.concat(n)}),[])}const sa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,40335)),na=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,60462)),ia=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,88563)),aa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,19839)),oa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,50548)),ra=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,58913)),la=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,83464)),ca=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,40305)),ma=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,59803)),ua=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,96128)),da=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,81282)),pa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,31369)),_a=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,67145)),ha=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,61245)),ga=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,98030)),Ta=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,19720)),va=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,47457)),fa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,64368)),Sa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,4674)),Ea=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,27417)),Ca=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,32751)),Ia=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,78306)),ba=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,24234)),Aa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,75994)),ya=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,54041)),La=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,77890)),Pa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,39304)),Oa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,91880)),Ra=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,49424)),Na=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,78200)),ka=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,18953)),Ma=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,46928)),wa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,94755)),xa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,49428)),Da=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,29442)),Ba=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,46185)),$a=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,89857)),Fa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,45628)),Ga=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,3228)),Ua=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,48998)),Va=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,79857)),Ha=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,24455)),Za=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,90518)),Wa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,69522)),Ya=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,45026)),qa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,22906)),ja=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,89886)),Ka=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,14083)),za=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,76297)),Qa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,86248)),Xa=()=>Promise.all([s.e(7779),s.e(4670)]).then(s.bind(s,58182)),Ja=[{name:"COMPANY_ADMIN",path:"company/:name/admin/",pathToRegexpOptions:{strict:!0},components:{default:sa},redirect:{name:"COMPANY_ADMIN_STATISTICS"},meta:{rootPage:!0},children:[...ea(),{name:"COMPANY_ADMIN_STATISTICS",path:"statistics/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:na},redirect:{name:"COMPANY_ADMIN_STATISTICS_SUMMARY"},children:[{name:"COMPANY_ADMIN_STATISTICS_SUMMARY",path:"summary/",pathToRegexpOptions:{strict:!0},components:{default:ua},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_STATISTICS_AUTHORS",path:"authors/",pathToRegexpOptions:{strict:!0},components:{default:da},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_AUTHORS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_AUTHORS"}}]},{name:"COMPANY_ADMIN_STATISTICS_HUBS",path:"hubs/",pathToRegexpOptions:{strict:!0},components:{default:ma},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_HUBS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_HUBS"}}]}]},{name:"COMPANY_ADMIN_POSTS",path:"posts/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:aa},redirect:{name:"COMPANY_ADMIN_POSTS_ARTICLES"},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES",path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:oa},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_ARTICLES"}}]},{name:"COMPANY_ADMIN_POSTS_NEWS",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:ra},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_NEWS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_NEWS"}}]}]},{name:"COMPANY_ADMIN_COMPANY",path:"company/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:ia},redirect:{name:"COMPANY_ADMIN_COMPANY_USERS"},children:[{name:"COMPANY_ADMIN_COMPANY_USERS",path:"users/",components:{default:Va},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_USERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}}]},{path:"employees/",components:{default:Da},pathToRegexpOptions:{strict:!0},redirect:{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES",path:"",components:{default:Ba},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]},{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS",path:"requests/",components:{default:Fa},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]}]},{path:"invitations/",components:{default:Za},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS",path:"",components:{default:Ya},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]},{name:"COMPANY_ADMIN_SENT_INVITATIONS",path:"sent/",components:{default:Wa},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"},children:[{name:"COMPANY_ADMIN_SENT_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]}]},{name:"COMPANY_ADMIN_COMPANY_NEW_EMPLOYEE",path:"employees/add/",components:{default:$a},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}},{name:"COMPANY_ADMIN_COMPANY_NEW_INVITATION",path:"invitations/add/",components:{default:qa},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_COMPANY_NEW_USER",path:"users/add/",components:{default:Ha},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}},{name:"COMPANY_ADMIN_COMPANY_LOGS",path:"logs/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},component:_a,children:[{name:"COMPANY_ADMIN_COMPANY_LOGS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_LOGS"}}]},{name:"COMPANY_ADMIN_COMPANY_VACANCIES",path:"vacancies/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},redirect:{name:"COMPANY_ADMIN_COMPANY_VACANCIES_SETTINGS"},component:pa,children:[{name:"COMPANY_ADMIN_COMPANY_VACANCIES_SETTINGS",path:"settings/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_VACANCIES"},component:Sa},{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING",path:"listing/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_VACANCIES"},component:Ea,children:[{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_VACANCIES"}}]}]}]},{name:"COMPANY_ADMIN_BILLING",path:"billing/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:la},redirect:{name:"COMPANY_ADMIN_BILLING_CURRENT"},children:[{name:"COMPANY_ADMIN_BILLING_CURRENT",path:"current/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},component:Ga},{name:"COMPANY_ADMIN_BILLING_RENEWAL",path:"renewal/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ua}},{name:"COMPANY_ADMIN_BILLING_ACTIVATION",path:"activation/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:ha}},{name:"COMPANY_ADMIN_BILLING_REQUISITES",path:"requisites/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:ja},children:[{name:"COMPANY_ADMIN_BILLING_REQUISITES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"}}]},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_EDIT",path:"requisites/edit/:id/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Ka}},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_ADD",path:"requisites/add/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Ka}},{name:"COMPANY_ADMIN_BILLING_FINANCE",path:"finance/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:ga},children:[{name:"COMPANY_ADMIN_BILLING_FINANCE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_FINANCE"}}]}]},{name:"COMPANY_ADMIN_SETTINGS",path:"settings/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:ca},redirect:{name:"COMPANY_ADMIN_SETTINGS_CARD"},children:[{name:"COMPANY_ADMIN_SETTINGS_CARD",path:"card/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:va}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_VK",path:"widgets/vk/:widgetId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:La}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_BANNER",path:"widgets/banner/:widgetId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:wa}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_FACEBOOK",path:"widgets/facebook/:widgetId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Pa}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_TWITTER",path:"widgets/twitter/:widgetId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:xa}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_LINKS",path:"widgets/links/:widgetId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Oa}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS",path:"widgets/rss/:widgetId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Ra}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST",path:"widgets/rss/:widgetId/list/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Na},children:[{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATIONS",path:"widgets/applications/:widgetId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:ka}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATION",path:"widgets/application/:widgetId/:applicationId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Ma}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_GALLERY",path:"landing/gallery/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:ba}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_BANNER",path:"landing/banner/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:Aa}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_TECHNOLOGIES",path:"landing/technologies/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:ya}},{name:"COMPANY_ADMIN_SETTINGS_LANDING",path:"landing/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ia}},{name:"COMPANY_ADMIN_SETTINGS_WIDGETS",path:"widgets/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ca}},{name:"COMPANY_ADMIN_SETTINGS_BRANDING",path:"branding/",components:{default:za},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_NEW_BRANDING",path:"branding/new/",components:{default:Qa},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_EDIT_BRANDING",path:"branding/edit/:id/",components:{default:Qa},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_SETTINGS_LOCALIZATION",path:"localization/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:fa}},{name:"COMPANY_ADMIN_SETTINGS_ANALYTICS",path:"analytics/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ta}}]},{name:"COMPANY_ADMIN_FAQ",path:"faq/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Xa},children:[{name:"COMPANY_ADMIN_FAQ_PAGE",path:":alias/",meta:{requiresAuth:!0}}]}]}],to=()=>s.e(7576).then(s.bind(s,14460)),eo=[{name:"CONVERSATION_MESSAGES",path:"conversations/:login/",pathToRegexpOptions:{strict:!0},components:{default:to},meta:{pageType:"conversation",requiresAuth:!0,hideUserNotices:!0,rootPage:!0}}],so=()=>s.e(7576).then(s.bind(s,64791)),no=[{name:"CONVERSATIONS",path:"conversations/",pathToRegexpOptions:{strict:!0},components:{default:so},meta:{pageType:"conversations",title:"CONVERSATIONS_TITLE",requiresAuth:!0,rootPage:!0},children:[{name:"CONVERSATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"CONVERSATIONS_TITLE"}}]}],io=()=>s.e(1163).then(s.bind(s,68509)),ao=[{name:"DOCS",path:"docs/:alias?/",pathToRegexpOptions:{strict:!0},components:{default:io},meta:{rootPage:!0},children:[{name:"DOCS_ARTICLE",path:":articleAlias?/",pathToRegexpOptions:{strict:!0}}]}],oo=()=>s.e(2636).then(s.bind(s,41571)),ro=[{name:"ERROR_INTERNAL",path:"error/500/",pathToRegexpOptions:{strict:!0},component:oo,meta:{HTTPStatus:500,rootPage:!0},props:{error:"internal"}},{name:"ERROR_UNKNOWN",path:"error/unknown/",pathToRegexpOptions:{strict:!0},component:oo,meta:{HTTPStatus:500,rootPage:!0},props:{error:"unknown"}},{name:"ERROR_UNAUTHORIZED",path:"error/403/",pathToRegexpOptions:{strict:!0},component:oo,meta:{HTTPStatus:403,rootPage:!0},props:{error:"unauthorized"}},{path:"*",name:"ERROR_NOT_FOUND",component:oo,meta:{HTTPStatus:404,rootPage:!0},props:{error:"notFound"}}],lo=()=>s.e(318).then(s.bind(s,64913)),co=[{name:"ARTICLES_LIST_FEED",path:"feed/",pathToRegexpOptions:{strict:!0},components:{default:lo},meta:{title:"TITLE_FEED",pageType:"feed",rootPage:!0,showPinnedPost:!0,rssLink:t=>`/rss/feed/posts/all/${t.rssKey}/`},children:[{name:"ARTICLES_LIST_FEED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_FEED",rssLink:t=>`/rss/feed/posts/all/${t.rssKey}/`}}]}],mo=()=>s.e(6841).then(s.bind(s,78837)),uo=[{name:"MY_FEED_SETTINGS",path:"feed/settings/",pathToRegexpOptions:{strict:!0},components:{default:mo},meta:{title:"TITLE_FEED_SETTINGS",requiresAuth:!0,rootPage:!0}}],po=()=>s.e(8656).then(s.bind(s,44857)),_o=[{name:"FEEDBACK",path:"feedback/",pathToRegexpOptions:{strict:!0},components:{default:po},meta:{rootPage:!0}}];var ho=function(){var t=this,e=t._self._c;return e("TMPage",{scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"tm-page__top"},[e("TMSectionName",{attrs:{name:t.flowName}}),t._v(" "),e("TMTabs",{staticClass:"tm-tabs_page-header",attrs:{exact:"",tabs:t.tabs}}),t._v(" "),e("div",{staticClass:"tm-flow__subheader"},[t.isArticleFilterShown?e("TMNavigationFilters",{attrs:{options:t.filterOptions},on:{applyFilter:t.saveFilter}},[e("TMRssButton")],1):t._e()],1),t._v(" "),t.showNavigationSearch?e("TMNavigationSearch"):t._e()],1),t._v(" "),e("router-view")]},proxy:!0},{key:"sidebar",fn:function(){return[e("router-view",{attrs:{name:"sidebar"}})]},proxy:!0}])})},go=[],To=s(17133),vo=s(51832),fo=s(66736),So=s(44274);const Eo={components:{TMNavigationFilters:To.Z,TMNavigationSearch:vo.Z,TMRssButton:fo.Z,TMPage:Jt.Z,TMSectionName:So.Z,TMTabs:cn.Z},computed:{...(0,h.Se)("i18n",["langOptions","pageTitle"]),...(0,h.Se)("global",["isDesktop"]),showNavigationSearch(){return this.$route.meta.hasSearch},i18nFlows(){return{admin:this.msg("NAV_FLOW_ADMIN"),design:this.msg("NAV_FLOW_DESIGN"),develop:this.msg("NAV_FLOW_DEVELOP"),geektimes:this.msg("NAV_FLOW_GEEKTIMES"),popsci:this.msg("NAV_FLOW_POPSCI"),management:this.msg("NAV_FLOW_MANAGEMENT"),marketing:this.msg("NAV_FLOW_MARKETING"),misc:this.msg("NAV_FLOW_MISC")}},flowName(){return this.i18nFlows[this.$route.params.flowName]},filterOptions(){return this.isNewsRoute?this.newsFilterOptions:this.articlesFilterOptions},articlesFilterOptions(){return[{label:this.msg("NAV_NEW"),value:"ARTICLES_LIST_BY_FLOW_ALL",rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"ARTICLES_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"0"}},{label:"≥10",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"10"}},{label:"≥25",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"25"}},{label:"≥50",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"50"}},{label:"≥100",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),value:"ARTICLES_LIST_BY_FLOW_TOP",rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},newsFilterOptions(){return[{label:this.msg("NAV_NEW"),value:"NEWS_LIST_BY_FLOW_ALL",rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"NEWS_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"0"}},{label:"≥10",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"10"}},{label:"≥25",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"25"}},{label:"≥50",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"50"}},{label:"≥100",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),value:"NEWS_LIST_BY_FLOW_TOP",rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},tabs(){return[{title:this.msg("NAV_ARTICLES"),route:{name:"FLOW_PAGE",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,Ue.nz)(this.articlesFilterOptions)},{title:this.msg("NAV_NEWS"),route:{name:"NEWS_LIST_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,Ue.nz)(this.newsFilterOptions)},{title:this.msg("NAV_HUBS"),route:{name:"HUBS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}},{title:this.msg("NAV_AUTHORS"),route:{name:"AUTHORS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}},{title:this.msg("NAV_COMPANIES"),route:{name:"COMPANIES_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}}]},isArticleFilterShown(){return!0===this.$route.meta.showFilter},pageMetaDescription(){return this.$route.meta.description?[{vmid:"description",name:"description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})},{vmid:"og:description",property:"og:description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})}]:[]},pageMeta(){return[{property:"og:title",content:this.pageTitle(this.pageTitlePart),vmid:"og:title"}]},pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,{...this.$route.params,flowName:this.flowName}):""},isNewsRoute(){return this.$route.matched.some((t=>t.name&&t.name.startsWith("NEWS_LIST_BY_FLOW_")))}},methods:{bem:M.P,saveFilter(t){(0,Ot.wU)({route:this.$router.resolve(t),flowName:this.$route.params.flowName,isNews:this.isNewsRoute})}},metaInfo(){return{title:this.pageTitlePart,meta:[...this.pageMetaDescription,...this.pageMeta]}}},Co=Eo;var Io=(0,L.Z)(Co,ho,go,!1,null,null,null);const bo=Io.exports;var Ao=s(32429),yo=s(52078);const Lo=()=>Promise.all([s.e(6667),s.e(3347),s.e(4634)]).then(s.bind(s,41906)),Po=()=>Promise.all([s.e(6667),s.e(3347),s.e(4634)]).then(s.bind(s,17349)),Oo=()=>Promise.all([s.e(6667),s.e(3347),s.e(4634)]).then(s.bind(s,68415)),Ro=()=>Promise.all([s.e(6667),s.e(3347),s.e(4634)]).then(s.bind(s,36926)),No=()=>Promise.all([s.e(6667),s.e(3347),s.e(4634)]).then(s.bind(s,9253)),ko=()=>Promise.all([s.e(6667),s.e(3347),s.e(4634)]).then(s.bind(s,69520)),Mo=[{path:"flows/geektimes/*",redirect:t=>({path:`/:hl/flows/popsci/${t.params.pathMatch}`})},{name:"ALL_FLOWS",path:"flows/all/",pathToRegexpOptions:{strict:!0},component:bo,meta:{rootPage:!0}},{name:"FLOW_PAGE",path:"flows/:flowName/",pathToRegexpOptions:{strict:!0},component:bo,meta:{pageType:"feed",rootPage:!0},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:Ao["default"],sidebar:Lo},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:t=>`/rss/flows/${t.flowName}/all/`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:t=>`/rss/flows/${t.flowName}/all/`}},{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",path:"top:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:t=>`/rss/flows/${t.flowName}/top${t.score}/`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:t=>`/rss/flows/${t.flowName}/top${t.score}/`}}]}]},{name:"ARTICLES_LIST_BY_FLOW_TOP",path:"top/",components:{default:Ao["default"],sidebar:Lo},redirect:t=>({name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{...t.params,period:"daily"}}),children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:t=>`/rss/flows/${t.flowName}/top/${t.period}/`},children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:t=>`/rss/flows/${t.flowName}/top/${t.period}/`}}]}]},{name:"NEWS_LIST_BY_FLOW",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:yo["default"],sidebar:Lo},children:[{name:"NEWS_LIST_BY_FLOW_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:yo["default"],sidebar:Lo},meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",showCompanyRatingBlock:!0,navTitle:"NAV_TITLE_LATEST"},children:[{name:"NEWS_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",rssLink:t=>`/rss/flows/${t.flowName}/news/`}},{name:"NEWS_LIST_BY_FLOW_SCORE",path:"top:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_META_DESCRIPTION"},children:[{name:"NEWS_LIST_BY_FLOW_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_META_DESCRIPTION"}}]}]},{name:"NEWS_LIST_BY_FLOW_TOP",path:"top/",components:{default:yo["default"],sidebar:Lo},redirect:{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD"},children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD"}}]}]}]},{name:"HUBS_BY_FLOW",path:"hubs/",pathToRegexpOptions:{strict:!0},components:{default:No,sidebar:Oo},meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0},children:[{name:"HUBS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0}}]},{name:"AUTHORS_BY_FLOW",path:"authors/",pathToRegexpOptions:{strict:!0},components:{default:ko,sidebar:Po},meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0},children:[{name:"AUTHORS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0}}]},{name:"COMPANIES_BY_FLOW",path:"companies/",pathToRegexpOptions:{strict:!0},components:{default:Ro,sidebar:Po},meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0},children:[{name:"COMPANIES_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0}}]}]}],wo=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,15815)),xo=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,22553)),Do=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,13039)),Bo=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,41711)),$o=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,32429)),Fo=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,36926)),Go=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,9253)),Uo=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,52078)),Vo=()=>Promise.all([s.e(3347),s.e(1231)]).then(s.bind(s,69520)),Ho=[{name:"INDEX",path:"",pathToRegexpOptions:{strict:!0},components:{default:wo},meta:{pageType:"feed",rootPage:!0},redirect:{name:"ARTICLES_LIST_ALL"},children:[{name:"INDEX_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},redirect:{name:"ARTICLES_LIST_ALL_PAGES"},components:{sidebar:xo}},{name:"ARTICLES_LIST_ALL",path:"all/",pathToRegexpOptions:{strict:!0},components:{default:$o,sidebar:xo},meta:{showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_SCORE",rssLink:()=>"/rss/all/all/",renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_ALL_SCORE",path:"top:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE",rssLink:t=>`/rss/all/top${t.score}/`},children:[{name:"ARTICLES_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE",rssLink:t=>`/rss/all/top${t.score}/`}}]},{name:"ARTICLES_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_SCORE",rssLink:()=>"/rss/all/all/"}}]},{name:"ARTICLES_LIST_TOP",path:"top/",components:{default:$o,sidebar:xo},redirect:{name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily"}},children:[{name:"ARTICLES_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:t=>`/rss/best/${t.period}/`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:t=>`/rss/best/${t.period}/`}}]}]},{name:"NEWS",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:Uo,sidebar:xo},children:[{name:"NEWS_LIST_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:Uo,sidebar:xo},meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",rssLink:()=>"/rss/news/",renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",showCompanyRatingBlock:!0}},{name:"NEWS_LIST_ALL_SCORE",path:"top:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_META_DESCRIPTION",renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_META_DESCRIPTION"}}]}]},{name:"NEWS_LIST_TOP",path:"top/",components:{default:$o,sidebar:xo},redirect:{name:"NEWS_LIST_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD"}}]}]}]},{name:"HUBS",path:"hubs/",pathToRegexpOptions:{strict:!0},components:{default:Go,sidebar:xo},meta:{hasSearch:!0,title:"NAV_HUBS"},children:[{name:"HUBS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0,title:"NAV_HUBS"}}]},{name:"USERS",path:"users/",pathToRegexpOptions:{strict:!0},components:{default:Vo,sidebar:Do},meta:{title:"SEARCH_TAB_USERS_LONG",hasSearch:!0,noindex:!0},children:[{name:"USERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0,title:"SEARCH_TAB_USERS_LONG",noindex:!0}}]},{name:"COMPANIES",path:"companies/",pathToRegexpOptions:{strict:!0},components:{default:Fo,sidebar:Bo},meta:{title:"NAV_COMPANIES",hasSearch:!0},children:[{name:"COMPANIES_CATEGORIES",path:"category/:categoryAlias/",pathToRegexpOptions:{strict:!0},components:{default:Fo,sidebar:Bo},children:[{name:"COMPANIES_CATEGORIES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}]},{name:"COMPANIES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0,title:"NAV_COMPANIES"}}]}]}],Zo=()=>Promise.all([s.e(6667),s.e(6379)]).then(s.bind(s,79369)),Wo=()=>Promise.all([s.e(6667),s.e(6379)]).then(s.bind(s,4076)),Yo=()=>Promise.all([s.e(6667),s.e(6379)]).then(s.bind(s,11524)),qo=()=>Promise.all([s.e(6667),s.e(6379)]).then(s.bind(s,32429)),jo=()=>Promise.all([s.e(6667),s.e(6379)]).then(s.bind(s,36926)),Ko=()=>Promise.all([s.e(6667),s.e(6379)]).then(s.bind(s,69520)),zo=[{path:"hub/:hubName/",name:"HUB_PAGE",pathToRegexpOptions:{strict:!0},component:Zo,redirect:{name:"ARTICLES_LIST_BY_HUB_ALL"},meta:{pageType:"feed"},children:[{name:"ARTICLES_LIST_BY_HUB_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:qo,sidebar:Wo},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/hub/${t.hubName}/all/`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/hub/${t.hubName}/all/`}},{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE",path:"top:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hub/${t.hubName}/top${t.score}/`},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hub/${t.hubName}/top${t.score}/`}}]}]},{name:"ARTICLES_LIST_BY_HUB_TOP",path:"top/",components:{default:qo,sidebar:Wo},redirect:{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",params:{period:"daily"}},children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hub/${t.hubName}/top/${t.period}/`},children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hub/${t.hubName}/top/${t.period}/`}}]}]},{name:"AUTHORS_BY_HUB",path:"authors/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0},components:{default:Ko,sidebar:Yo},children:[{name:"AUTHORS_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]},{name:"COMPANIES_BY_HUB",path:"companies/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0},components:{default:jo,sidebar:Yo},children:[{name:"COMPANIES_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]}]}],Qo=()=>s.e(5996).then(s.bind(s,97990)),Xo=[{name:"INFO",path:"info/:section(welcome|overview)/",pathToRegexpOptions:{strict:!0},components:{default:Qo},children:[{name:"INFO_TOPICS",path:":topic?/",pathToRegexpOptions:{strict:!0},meta:{hideUserNotices:!0}}]},{path:"info/*",pathToRegexpOptions:{strict:!0},beforeEnter:(t,e,s)=>{const{hl:n,pathMatch:i}=t.params;if(-1!==i.indexOf("welcome"))return s();if(-1!==i.indexOf("overview/dotnet"))return s();switch(i){case"company/":return s({path:`/${n}/docs/companies/corpblogs/`});case"authors/":return s({path:`/${n}/docs/authors/codex/`});case"rules/":return s({path:`/${n}/docs/docs/rules/`});case"legal/":return s({path:`/${n}/docs/docs/legal/`});case"topics/how-to/":return s({path:`/${n}/sandbox/start/`});case"topics/madskillz/":return s({path:`/${n}/docs/companies/design/`});case"topics/toolkit/":return s({path:`/${n}/docs/companies/preparations/`});case"help/":return s({path:`/${n}/docs/${t.params.pathMatch}`});case"help/sponsorship-info/":return s({path:`/${n}/docs/companies/sponsorship/`});case"help/others/":return s({path:`/${n}/docs/help/hotkeys/`});case"advert_rules/":case"advert-rules/":return s({path:`/${n}/docs/docs/advert-rules/`});default:}return i.startsWith("help/")?s({path:`/${n}/docs/${i}`}):s({path:`/${n}/docs/`})}}],Jo=()=>s.e(5106).then(s.bind(s,72731)),tr=()=>s.e(6453).then(s.bind(s,75998)),er=[{name:"MEGAPOST_ADMIN",path:"megapost/admin/",pathToRegexpOptions:{strict:!0},meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]},components:{default:tr},children:[{name:"MEGAPOST_ADMIN_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]}}]},{name:"PUBLICATION_MEGAPOST",path:"megapost/new/",pathToRegexpOptions:{strict:!0},component:Jo,meta:{isMegapostPage:!0,rootPage:!0}},{name:"PUBLICATION_MEGAPOST_EDIT",path:"megapost/edit/:postId/",pathToRegexpOptions:{strict:!0},component:Jo,meta:{isMegapostPage:!0}}],sr=()=>s.e(7324).then(s.bind(s,81290)),nr=[{name:"MEGAPROJECTS",path:"megaprojects/",pathToRegexpOptions:{strict:!0},components:{default:sr},meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION",rootPage:!0,pageType:"feed"},children:[{name:"MEGAPROJECTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION"}}]}],ir=()=>s.e(4306).then(s.bind(s,74237)),ar=()=>s.e(4306).then(s.bind(s,67063)),or=()=>s.e(4306).then(s.bind(s,67458)),rr=()=>s.e(4306).then(s.bind(s,56211)),lr=()=>s.e(4306).then(s.bind(s,13148)),cr=()=>s.e(4306).then(s.bind(s,21975)),mr=()=>s.e(4306).then(s.bind(s,95081)),ur=()=>s.e(4306).then(s.bind(s,1847)),dr=[{name:"PPA_ROOT",path:"ppa/",pathToRegexpOptions:{strict:!0},component:ir,redirect:{path:"ppa/faq/"},meta:{rootPage:!0},children:[{name:"PPA_BALANCE",path:"balance/",pathToRegexpOptions:{strict:!0},meta:{title:"PPA_SUBPAGE_BALANCE"},components:{default:mr,sidebar:rr},children:[{name:"PPA_BALANCE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"PPA_SUBPAGE_BALANCE"}}]},{name:"PPA_WITHDRAW",path:"withdraw/",pathToRegexpOptions:{strict:!0},components:{default:ur,sidebar:ar},meta:{title:"PPA_SUBPAGE_FUNDS_WITHDRAWAL"}},{name:"PPA_ABOUT",path:"about/",pathToRegexpOptions:{strict:!0},components:{default:lr,sidebar:or},meta:{title:"PPA_SUBPAGE_ABOUT"}},{name:"PPA_ARTICLE",path:":alias/",pathToRegexpOptions:{strict:!0},components:{default:cr,sidebar:or}}]}],pr=()=>s.e(7996).then(s.bind(s,43430)),_r=[{name:"PPG_COMMENTS",path:"ppg/comments/",pathToRegexpOptions:{strict:!0},component:pr,meta:{requiresAuth:!0}},{name:"PPG_SMILES",path:"ppg/smiles/",pathToRegexpOptions:{strict:!0},component:pr,meta:{requiresAuth:!0}}],hr=()=>s.e(5106).then(s.bind(s,72731)),gr=[{name:"PUBLICATION",path:"publication/new/",pathToRegexpOptions:{strict:!0},component:hr,meta:{rootPage:!0}},{name:"PUBLICATION_EDIT",path:"publication/edit/:postId/",pathToRegexpOptions:{strict:!0},component:hr}],Tr=()=>s.e(9451).then(s.bind(s,97448)),vr=()=>s.e(9451).then(s.bind(s,56516)),fr=()=>s.e(9451).then(s.bind(s,21292)),Sr=()=>s.e(9451).then(s.bind(s,16830)),Er=()=>s.e(9451).then(s.bind(s,75843)),Cr=()=>s.e(9451).then(s.bind(s,16981)),Ir=()=>s.e(9451).then(s.bind(s,78158)),br=()=>s.e(5106).then(s.bind(s,72731)),Ar=[{path:"sandbox/",pathToRegexpOptions:{strict:!0},components:{default:Tr},meta:{pageType:"sandbox",rootPage:!0},children:[{name:"MOST_IMPORTANT_SANBOX_INFO",path:"start/",pathToRegexpOptions:{strict:!0},components:{default:Ir,sidebar:Er},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MOST_IMPORTANT_TITLE"}},{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",path:"",pathToRegexpOptions:{strict:!0},components:{default:Cr,sidebar:vr},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"},children:[{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"}}]},{name:"NEW_AUTHORS_ARTICLES_LIST",path:"invited/",pathToRegexpOptions:{strict:!0},components:{default:Cr,sidebar:fr},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"},children:[{name:"NEW_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"}}]},{name:"MY_SANDBOX_ARTICLES_LIST",path:"my/",pathToRegexpOptions:{strict:!0},components:{default:Cr,sidebar:Sr},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MY_TITLE"},children:[{name:"MY_SANDBOX_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}]},{name:"AWAIT_MODERATION_ARTICLES_LIST",path:"disapproved/",pathToRegexpOptions:{strict:!0},components:{default:Cr,sidebar:Sr},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"},children:[{name:"AWAIT_MODERATION_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"}}]}]},{name:"PUBLICATION_SANDBOX",path:"sandbox/new/",pathToRegexpOptions:{strict:!0},component:br,meta:{isSandboxPage:!0}},{name:"PUBLICATION_EDIT_SANDBOX",path:"sandbox/edit/:postId/",pathToRegexpOptions:{strict:!0},component:br,meta:{isSandboxPage:!0}}],yr=()=>s.e(6464).then(s.bind(s,7612)),Lr=()=>s.e(6464).then(s.bind(s,70229)),Pr=()=>s.e(6464).then(s.bind(s,16646)),Or=()=>s.e(6464).then(s.bind(s,33995)),Rr=()=>s.e(6464).then(s.bind(s,13644)),Nr=()=>s.e(6464).then(s.bind(s,19633)),kr=[{path:"search/",pathToRegexpOptions:{strict:!0},props:t=>({currentPageName:t.query.target_type}),component:yr,meta:{pageType:"search",rootPage:!0},children:[{name:"SEARCH_QUERY_RESULTS",path:"",pathToRegexpOptions:{strict:!0},components:{posts:Lr,users:Pr,companies:Or,hubs:Rr,comments:Nr},meta:{rssLink:t=>`/rss/search/?q=${t.q}\n        &order_by=${t.order}\n        &target_type=${t.target_type}\n        &hl=${t.hl}\n        &fl=${t.fl}\n      `},children:[{name:"SEARCH_QUERY_RESULTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},rssLink:t=>`/rss/search/?q=${t.q}\n        &order_by=${t.order}\n        &target_type=${t.target_type}\n        &hl=${t.hl}\n        &fl=${t.fl}\n      `}]}]}],Mr=()=>s.e(5112).then(s.bind(s,15832)),wr=()=>s.e(388).then(s.bind(s,58831)),xr=()=>s.e(2047).then(s.bind(s,2377)),Dr=()=>s.e(3049).then(s.bind(s,23338)),Br=[{name:"USER_SETTINGS_ROOT",path:"auth/",pathToRegexpOptions:{strict:!0},components:{default:Mr},meta:{requiresAuth:!0,rootPage:!0},redirect:{name:"USER_SETTINGS_PROFILE"},children:[{name:"USER_SETTINGS_PROFILE",path:"settings/profile/",pathToRegexpOptions:{strict:!0},components:{default:Mr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_UPGRADE",path:"settings/upgrade/:invite/",pathToRegexpOptions:{strict:!0},components:{default:Dr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_PRIVACY",path:"settings/privacy/",pathToRegexpOptions:{strict:!0},components:{default:Mr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_NOTIFICATIONS",path:"settings/notifications/",pathToRegexpOptions:{strict:!0},components:{default:Mr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_SPECS",path:"settings/specialization/",pathToRegexpOptions:{strict:!0},components:{default:Mr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_MISC",path:"settings/others/",pathToRegexpOptions:{strict:!0},components:{default:Mr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_REGISTER",path:"apps/register/",pathToRegexpOptions:{strict:!0},components:{default:xr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_EDIT",path:"apps/details/:appId/",pathToRegexpOptions:{strict:!0},components:{default:xr},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS",path:"apps/",pathToRegexpOptions:{strict:!0},components:{default:wr},meta:{requiresAuth:!0},children:[{name:"USER_SETTINGS_APPS_MY",path:"my/",pathToRegexpOptions:{strict:!0},components:{default:wr},meta:{requiresAuth:!0}}]}]}],$r=()=>s.e(3839).then(s.bind(s,89629)),Fr=[{name:"STARTUP_FORM",path:"startup/form/:requestId/",pathToRegexpOptions:{strict:!0},components:{default:$r},meta:{requiresAuth:!1}}];function Gr(t,e){return(0,ze.Hm)((0,Qe.k)(`technotexts/${t}`,"v2"),e)}function Ur(){return(0,ze.Hm)((0,Qe.k)("technotexts","v2"))}function Vr(t,e){return(0,ze.Hm)((0,Qe.k)(`technotexts/${t}/winners`,"v2"),e)}const Hr=()=>s.e(3389).then(s.bind(s,54394)),Zr=()=>s.e(3389).then(s.bind(s,35942)),Wr=[{name:"ARTICLES_LIST_TECHNOTEXT",path:"technotext/",pathToRegexpOptions:{strict:!0},components:{default:Hr},beforeEnter:async(t,e,s)=>{if(!t.params.year)try{const{technotexts:t}=await Ur();return s(`technotext/${t[0]}`)}catch(n){throw n}return s()}},{name:"ARTICLES_LIST_TECHNOTEXT_WINNERS",path:"technotext/:year/winners/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT_WINNERS"},components:{default:Zr}},{name:"ARTICLES_LIST_TECHNOTEXT_ALL",path:"technotext/:year/",pathToRegexpOptions:{strict:!0},components:{default:Hr},meta:{title:"TITLE_TECHNOTEXT",pageType:"feed"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT"}},{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION",path:":nomination/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT_NOMINATION"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT_NOMINATION"}}]}]}],Yr=()=>Promise.all([s.e(8969),s.e(8778)]).then(s.bind(s,6572)),qr=[{name:"TRACKER",path:"tracker/",pathToRegexpOptions:{strict:!0},meta:{pageType:"tracker",rootPage:!0},components:{default:Yr},children:[{name:"TRACKER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}]}],jr=()=>s.e(7086).then(s.bind(s,12982)),Kr=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,80792)),zr=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,43713)),Qr=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,56977)),Xr=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,79361)),Jr=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,61992)),tl=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,98208)),el=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,15425)),sl=()=>s.e(6504).then(s.bind(s,1762)),nl=()=>s.e(8631).then(s.bind(s,41168)),il=()=>s.e(8631).then(s.bind(s,13965)),al=()=>s.e(8631).then(s.bind(s,75953)),ol=()=>s.e(8631).then(s.bind(s,28861)),rl=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,97618)),ll=()=>Promise.all([s.e(6667),s.e(734)]).then(s.bind(s,79838)),cl=()=>s.e(8631).then(s.bind(s,11901)),ml=()=>Promise.all([s.e(7779),s.e(8463)]).then(s.bind(s,78954)),ul=()=>Promise.all([s.e(7779),s.e(8463)]).then(s.bind(s,95756)),dl=()=>Promise.all([s.e(7779),s.e(8463)]).then(s.bind(s,85451)),pl=[{path:"users/:login/",name:"USER_PROFILE_ROOT",components:{default:Kr},meta:{pageType:"feed"},children:[{name:"USER_PROFILE",path:"",pathToRegexpOptions:{strict:!0},components:{default:el},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,renderAlternateMetaTag:!0}},{name:"USER_INVITES",path:"invites/",pathToRegexpOptions:{strict:!0},components:{default:sl},meta:{canonicalRoute:"USER_PROFILE",requiresAuth:!0,showFilter:!0}},{name:"USER_NOTES",path:"notes/",pathToRegexpOptions:{strict:!0},components:{default:cl},meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0},children:[{name:"USER_NOTES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0}}]},{name:"USER_KARMA_RESET",path:"reset/",pathToRegexpOptions:{strict:!0},components:{default:ol},meta:{canonicalRoute:"USER_PROFILE",title:"KARMA_RESET",requiresAuth:!0,showFilter:!0}},{name:"USER_VOTES_COMMENTS",path:"votes-comments/",pathToRegexpOptions:{strict:!0},components:{default:ul},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_COMMENTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_VOTES_COMMENTS",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_POSTS",path:"votes-posts/",pathToRegexpOptions:{strict:!0},components:{default:dl},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_POSTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_VOTES_POSTS",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_KARMA",path:"votes-karma/",pathToRegexpOptions:{strict:!0},components:{default:rl},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_KARMA_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_USERS",path:"votes-users/",pathToRegexpOptions:{strict:!0},components:{default:ll},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_USERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0}}]},{path:"posts/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"},components:{default:{render(t){return t("router-view")}}},children:[{path:"",name:"ARTICLES_LIST_BY_USER",pathToRegexpOptions:{strict:!0},components:{default:zr},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/posts/`},children:[{name:"ARTICLES_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/posts/`}}]},{name:"ARTICLES_DRAFTS_LIST_BY_USER",path:"drafts/",pathToRegexpOptions:{strict:!0},components:{default:nl},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0},children:[{name:"ARTICLES_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0}}]},{name:"ARTICLES_LIST_SANDBOX_BY_USER",path:"sandbox/",pathToRegexpOptions:{strict:!0},components:{default:il},meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showFilter:!0,isSandboxPage:!0},children:[{name:"ARTICLES_LIST_SANDBOX_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showFilter:!0,isSandboxPage:!0}}]},{name:"ARTICLES_PLANNED_LIST_BY_USER",path:"planned/",pathToRegexpOptions:{strict:!0},components:{default:al},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0},children:[{name:"ARTICLES_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0}}]},{name:"USER_STATISTICS",path:"statistics/",pathToRegexpOptions:{strict:!0},components:{default:ml},meta:{requiresAuth:!0,showFilter:!0},children:[{name:"USER_STATISTICS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,showFilter:!0}}]}]},{path:"topics/",pathToRegexpOptions:{strict:!0},children:[{path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},redirect:t=>({...t,name:"ARTICLES_LIST_BY_USER_PAGES"})}],redirect:t=>({...t,name:"ARTICLES_LIST_BY_USER"})},{name:"USER_BOOKMARKED",path:"favorites/",pathToRegexpOptions:{strict:!0},components:{default:Xr},meta:{canonicalRoute:"USER_PROFILE"},redirect:t=>({...t,name:"ARTICLES_LIST_BOOKMARKED"}),children:[{name:"ARTICLES_LIST_BOOKMARKED",path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:Qr},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0},children:[{name:"ARTICLES_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0}}]},{name:"COMMENTS_LIST_BOOKMARKED",path:"comments/",pathToRegexpOptions:{strict:!0},components:{default:jr},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"},children:[{name:"COMMENTS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"}}]}]},{name:"USER_COMMENTS",path:"comments/",pathToRegexpOptions:{strict:!0},components:{default:jr},meta:{canonicalRoute:"USER_PROFILE",commentType:"userComments"},children:[{name:"USER_COMMENTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",commentType:"userComments"}}]},{name:"USER_FOLLOWERS",path:"subscription/followers/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"},components:{default:tl},children:[{name:"USER_FOLLOWERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"}}]},{name:"USER_FOLLOWED",path:"subscription/follow/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"},components:{default:Jr},children:[{name:"USER_FOLLOWED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"}}]}]}],_l=()=>s.e(9722).then(s.bind(s,99142)),hl=()=>s.e(9722).then(s.bind(s,60795)),gl=[{name:"VOICE",path:"voice/new/",pathToRegexpOptions:{strict:!0},component:_l,meta:{rootPage:!0}},{name:"VOICE_EDIT",path:"voice/edit/:voiceId/",pathToRegexpOptions:{strict:!0},component:hl}],Tl=[...fs,...Di,...Vi,...Yi,...Ja,...Ji,...no,...eo,...ao,...uo,...co,..._o,...Mo,...Ho,...zo,...Xo,...er,...nr,...qr,...dr,..._r,...gr,...Ar,...kr,...Fr,...Wr,...Br,...pl,...ro,...gl];n["default"].use(is.ZP);const vl=["utm_source","utm_medium","utm_content","utm_campaign","utm_term"],fl=t=>({path:"/:hl(ru|en)/",children:[...cs(t),...Tl],components:{default:{computed:{routeKey(){const{query:t,hash:e}=this.$route;return Object.keys(t).some((t=>vl.indexOf(t)>=0))||e&&"#restore"!==e?this.$route.path:this.$route.fullPath}},render(t){return t("keep-alive",{props:{include:["TMArticlePage","TMArticleCommentsPage"],exclude:["TMAdBanner"],max:20}},[t("router-view",{on:this.$listeners,key:this.routeKey})])}}}});function Sl(t){return new is.ZP({mode:"history",routes:[...Ts,fl(t)],scrollBehavior(t,e,s){return!e&&t.hash?{selector:t.hash}:t.fullPath!==e.fullPath&&(s||{x:0,y:0})}})}var El=s(84291),Cl=s(61823);const Il={root:!0},bl={state(){return{lastViewedComment:0,postId:null,lastCommentTimestamp:"",moderated:[],moderatedIds:[],commentRoute:""}},getters:{getModeratedIds:t=>t.moderatedIds},mutations:{saveInfoAboutComments(t,{id:e,last:s}){Object.assign(t,{postId:e,lastViewedComment:s})},setLastCommentTimestamp(t,e){e&&(t.lastCommentTimestamp=e)},setModeratedIds(t,e){t.moderatedIds=e}},actions:{sendComment({commit:t,dispatch:e},{articleId:s,parentId:n,text:i}){return(0,Cl.Ir)(s,{isMarkdown:!0,parentId:n,text:i}).then((n=>{const i=(0,El.qv)(n.data);return e("comments/addComment",{articleId:s,comment:i},Il),i.isReadonly&&(t("comments/setCommentAccess",{isCanComment:!1,cantCommentReasonKey:"MODERATE_POST_COMMENT_PENDING"},Il),t("setModeratedIds",[i.id])),i.id})).then((e=>(t("articlesList/incrementComments",{articleId:s},Il),e))).catch((t=>{throw t}))},getComments({commit:t,rootGetters:e},{articleId:s,nocount:n}){return(0,Cl.pu)(s,e["i18n/langOptions"],n).then((e=>{const{lastCommentTimestamp:n,threads:i,comments:a,moderated:o,commentAccess:r}=e;t("setLastCommentTimestamp",n),t("comments/setComments",{articleId:s,refs:a,root:i},Il),Object.keys(o).forEach((e=>t("comments/addComment",{articleId:s,comment:o[e]},Il))),t("comments/setCommentAccess",r,Il),t("setModeratedIds",Object.keys(o)),t("articlesList/resetCommentsUnreadCount",s,Il)}))},getGuestComments({commit:t,rootGetters:e},s){return(0,Cl.ID)(s,e["i18n/langOptions"]).then((e=>{const{cacheKey:n,lastCommentTimestamp:i,threads:a,commentRefs:o}=e;t("setLastCommentTimestamp",i),t("comments/setComments",{articleId:s,refs:o,root:a,cacheKey:n},Il)}))},getGuestCachedComments({commit:t,rootGetters:e},{articleId:s,apiCacheKey:n}){return(0,Cl.j4)(s,{...e["i18n/langOptions"],cacheKey:n}).then((e=>{const{lastCommentTimestamp:i,threads:a,commentRefs:o}=e;t("setLastCommentTimestamp",i),t("comments/setComments",{articleId:s,refs:o,root:a,cacheKey:n},Il)}))},loadNewComments({commit:t,dispatch:e,state:s,rootState:n},{route:i}){const{id:a}=i.params;return(0,Cl.M1)(a,{timestamp:s.lastCommentTimestamp}).then((s=>{const a=i.params.id,{added:o,moderated:r,lastCommentTimestamp:l}=s;t("setLastCommentTimestamp",l),e("clearModeratedComments",{articleId:i.params.id}),t("setModeratedIds",Object.keys(r));const c={...o,...r};Object.keys(c).forEach((e=>t("comments/addComment",{articleId:a,comment:c[e]},Il)));const{refs:m}=n.comments.articleComments[a],u=Object.keys(m).filter((t=>!m[t].isReadonly)).length;t("articlesList/setArticleCommentsCount",{articleId:a,count:u},Il)}))},clearModeratedComments({commit:t,getters:e},{articleId:s}){const n=new Set(e.getModeratedIds);n.forEach((e=>t("comments/deleteComment",{articleId:s,commentId:e},Il))),t("setModeratedIds",[])},getPinnedComments({commit:t,rootGetters:e},s){return(0,Cl.BL)(s,e["i18n/langOptions"]).then((e=>{const{commentRefs:n,commentIds:i}=e;t("comments/setPinnedComments",{articleId:s,commentIds:i,refs:n},Il)}))}}};var Al=s(77945),yl=s(19516);const Ll=JSON.parse('{"name":"habr-web","version":"2.103.0","description":"Mobile version for habr.com","author":"Habr Frontend Team <frontend@tmtm.ru>","scripts":{"prestart":"yarn build","start":"NODE_ENV=production node ./bin/run-api.js --mode=local & NODE_ENV=production node --icu-data-dir=node_modules/full-icu ./bin/run-ssr.js --mode=local & NODE_ENV=production node ./bin/run-cron.js --mode=local","serve":"node --icu-data-dir=node_modules/full-icu ./bin/run-ssr.js & nodemon --watch server ./bin/run-api.js & node ./bin/run-cron.js","serve:docker":"node ./bin/run-api.js --mode=docker & node ./bin/run-ssr.js --mode=docker & node ./bin/run-cron.js --mode=docker","cron":"node ./bin/run-cron.js","serve:spa":"node ./bin/run-api.js & node ./bin/run-cron.js & vue-cli-service serve","build":"yarn build:ssr && yarn build:client && yarn build:comments-ssr && node compile-i18n.js","build:client":"vue-cli-service build --mode=$APP_ENV_MODE --no-clean","build:ssr":"VUE_APP_ENV=server vue-cli-service build --mode=$APP_ENV_MODE","build:comments-ssr":"VUE_APP_ENV=server-comments vue-cli-service build --mode=$APP_ENV_MODE --no-clean","lint":"eslint --fix --ext .js,.vue src","lint:ci":"eslint --ext .js,.vue src","lint:i18n":"python ./node_modules/TMKit/build/no-russian.py","lint:scss":"stylelint \\"**/*.vue\\" && stylelint \\"**/*.scss\\"","lint:scss:fix":"stylelint \\"**/*.vue\\" --fix && stylelint \\"**/*.scss\\" --fix","report":"vue-cli-service build --mode=production --report","test":"vue-cli-service test:unit","test:nocache":"vue-cli-service test:unit --no-cache","test:ci":"JEST_ENABLE_COBERTURA=1 vue-cli-service test:unit --no-cache --ci --coverageDirectory=\\"./coverage\\"  --reporters=default --reporters=jest-junit --watchAll=false","theme":"node ./node_modules/TMKit/build/theme-json.js"},"dependencies":{"@formatjs/intl-locale":"^2.4.38","@formatjs/intl-numberformat":"^7.2.4","@formatjs/intl-pluralrules":"^4.1.4","@habralab/device-detect":"1.0.6","@habralab/form-builder":"^1.7.3","@habralab/habr-wysiwyg":"2.5.21","@popperjs/core":"^2.10.1","@sentry/browser":"^5.30.0","@sentry/integrations":"^5.30.0","@sentry/node":"^5.30.0","TMKit":"git+https://gitlab+deploy-token-1:S44agCsox9MDGJa1CevA@git.habralab.com/tm/tmkit.git#v.0.0.37","accept-language-parser":"^1.5.0","apexcharts":"^3.28.3","axios":"^0.21.4","body-parser":"^1.19.0","body-scroll-lock":"^2.7.1","check-types":"^11.1.2","clear-module":"^4.1.2","connect-redis":"^3.4.2","connect-slashes":"^1.4.0","cookie-parser":"~1.4.5","core-js":"^3.18.1","cors":"^2.8.5","cron":"^1.8.2","csurf":"^1.11.0","dotenv-defaults":"^1.1.1","dotenv-expand":"^5.1.0","ejs":"^3.1.8","express":"^4.17.1","express-csp-header":"^5.1.0","express-session":"^1.17.2","fetch-readablestream":"^0.2.0","form-data":"^3.0.1","full-icu":"^1.3.4","helmet":"^3.23.3","highlight.js":"10.7.3","host-validation":"^2.0.1","http-auth":"^4.1.9","http-auth-connect":"^1.0.5","http-errors":"^1.8.0","idb-keyval":"^5.1.5","intersection-observer":"^0.12.0","intl-messageformat":"^9.9.2","ioredis":"^4.27.9","ip":"^1.1.5","left-pad":"^1.3.0","lodash.debounce":"^4.0.8","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.merge":"^4.6.2","lodash.throttle":"^4.1.1","lodash.unescape":"^4.0.1","morgan":"~1.10.0","multer":"^1.4.5-lts.1","normalize.css":"^8.0.1","oauth":"^0.9.15","passport":"^0.6.0","passport-oauth":"^1.0.0","photoswipe":"^4.1.3","portal-vue":"^2.1.7","qs":"^6.10.1","register-service-worker":"^1.7.2","request":"^2.88.2","spark-md5":"^3.0.2","swiper":"^6.8.4","url":"^0.11.0","v-hotkey":"^0.8.0","vue":"^2.7.10","vue-apexcharts":"^1.6.2","vue-click-outside":"^1.1.0","vue-lazy-hydration":"^2.0.0-beta.4","vue-meta":"^2.4.0","vue-recaptcha":"^1.3.0","vue-router":"^3.5.2","vue-server-renderer":"^2.7.10","vue-toastification":"^1.7.11","vuedraggable":"^2.24.3","vuex":"^3.6.2","web-streams-polyfill":"^3.1.1","xmldom":"^0.6.0","yargs":"^14.2.3"},"devDependencies":{"@babel/plugin-proposal-optional-chaining":"^7.18.9","@formatjs/cli":"^4.3.1","@sentry/webpack-plugin":"^1.17.1","@vue/cli-plugin-babel":"~5.0.6","@vue/cli-plugin-pwa":"~5.0.6","@vue/cli-plugin-unit-jest":"~5.0.6","@vue/cli-service":"~5.0.6","@vue/eslint-config-airbnb":"^4.0.1","@vue/test-utils":"^1.2.2","@vue/vue2-jest":"^27.0.0-alpha.3","autoprefixer":"^9.8.7","babel-eslint":"^10.1.0","cache-loader":"^4.1.0","chokidar":"^3.5.2","dotenv":"^8.6.0","eslint":"^7.32.0","eslint-plugin-simple-import-sort":"^7.0.0","eslint-plugin-vue":"^7.18.0","file-loader":"^6.2.0","husky":"^4.3.8","jest":"^28.1.3","jest-date-mock":"^1.0.8","jest-junit":"^12.3.0","jest-transform-stub":"^2.0.0","lint-staged":"^10.5.4","memory-fs":"^0.5.0","msw":"^0.35.0","nodemon":"^2.0.13","null-loader":"^4.0.1","postcss-html":"^1.5.0","postcss-normalize-charset":"^4.0.1","postcss-pxtorem":"^5.1.1","sass":"^1.52.3","sass-loader":"^10.2.0","stylelint":"^14.15.0","stylelint-config-standard-scss":"^6.1.0","stylelint-config-standard-vue":"^1.0.0","stylelint-scss":"^4.3.0","supertest":"^6.1.6","vue-svg-loader":"^0.17.0-beta.2","vue-template-compiler":"^2.7.10","webpack":"^5.73.0","webpack-dev-middleware":"^5.3.3","webpack-hot-middleware":"^2.25.1","webpack-merge":"^5.8.0","webpack-node-externals":"^3.0.0","webpackbar":"^5.0.2"},"engines":{"node":">= 16.15.0","npm":">= 6.14.17"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"license":"UNLICENSED","lint-staged":{"src/**/*.{js,vue}":"eslint --cache --fix","*.scss":"stylelint --fix && stylelint","*.vue":"stylelint --fix && stylelint"},"repository":{"type":"git","url":"https://git.habralab.com/habr/habr-web.git"}}'),{version:Pl}=Ll;function Ol(t){switch(t.name){case"USER_COMMENTS":case"USER_COMMENTS_PAGES":return{comments:!0,user:t.params.login};case"COMMENTS_LIST_BOOKMARKED":case"COMMENTS_LIST_BOOKMARKED_PAGES":return{bookmarks:!0,user:t.params.login};default:return{}}}const Rl=(t,e,n,i)=>{let a=`v${Pl}:a${t}:k${e}:${n}`;return i?a+=`:HASH${i}`:Al.v9&&"undefined"!==typeof s.h()&&(a+=`:HASH${s.h()}`),a},Nl={namespaced:!0,state(){return{articleComments:{},articlePinnedComments:{},searchCommentsResults:null,pagesCount:null,commentAccess:{},scrollParents:{}}},modules:{pageArticleComments:bl},getters:{getCommentsTreeByArticleId:(t,e)=>s=>t.articleComments[s]?t.articleComments[s].root.map((function t(n){const i=e.getCommentById(s,n);let a;return i.children&&(a=i.children.map(t)),{...i,children:a}})):null,getCommentById:t=>(e,s)=>t.articleComments[e].refs[s],searchCommentsList:t=>t.searchCommentsResults&&Array.isArray(t.searchCommentsResults.root)?t.searchCommentsResults.root.map((e=>t.searchCommentsResults.refs[e])):[],getScrollParents:t=>t.scrollParents,getCommentAccess:t=>t.commentAccess,getCommentsCacheKey:(t,e,s,n)=>(e,s)=>{const{cacheKey:i}=t.articleComments[e]||{};return i?Rl(e,i,n["i18n/langOptions"].hl,s):null},getPinnedCommentsById:t=>e=>t.articlePinnedComments[e]?t.articlePinnedComments[e].commentIds.map((s=>t.articlePinnedComments[e].refs[s])):[]},mutations:{setCommentsRoot(t,{articleId:e,root:s}){t.articleComments={...t.articleComments,[e]:{...t.articleComments[e],root:s}}},setComments(t,{articleId:e,refs:s,root:n,cacheKey:i}){t.articleComments={...t.articleComments,[e]:{refs:s,root:n,cacheKey:i}}},setPinnedComments(t,{articleId:e,refs:s,commentIds:n}){t.articlePinnedComments={...t.articlePinnedComments,[e]:{refs:s,commentIds:n}}},addComment(t,{articleId:e,comment:s}){const n=t.articleComments[e];if(n.refs={...n.refs,[s.id]:s},s.parentId&&"0"!==s.parentId){const t=n.refs[s.parentId];t.children=Array.from(new Set([...t.children,s.id]))}else n.root=Array.from(new Set([...n.root,s.id]));t.articleComments={...t.articleComments,[e]:n}},updateComment(t,{articleId:e,comment:s}){t.articleComments[e].refs={...t.articleComments[e].refs,[s.id]:s},t.articleComments={...t.articleComments},t.articlePinnedComments[e]&&t.articlePinnedComments[e].refs&&t.articlePinnedComments[e].refs[s.id]&&(t.articlePinnedComments[e].refs={...t.articlePinnedComments[e].refs,[s.id]:s})},mergeComments(t,{articleId:e,comments:s}){Object.keys(s).forEach((n=>{const i=t.articleComments[e].refs[n];t.articleComments[e].refs[n]={...i,...s[n]}})),t.articleComments={...t.articleComments}},deleteComment(t,{articleId:e,commentId:s}){const n=t.articleComments[e],i=n.refs[s];if(i.parentId&&"0"!==i.parentId){const t=n.refs[i.parentId],e=t.children.slice(0);e.splice(t.children.indexOf(s),1),t.children=e}else{const t=n.root.slice(0);t.splice(t.indexOf(s),1),n.root=t}t.articleComments={...t.articleComments}},suspendCommentTree(t,{articleId:e,commentId:s}){const n=s=>{const i=t.articleComments[e].refs[s];i.isSuspended=!0,i.children&&i.children.forEach(n)};n(s),t.articleComments={...t.articleComments}},setCommentRead(t,{articleId:e,commentId:s}){const n=t.articleComments[e].refs[s],i=t.articlePinnedComments[e]&&t.articlePinnedComments[e].refs[s];n.isNew=!1,t.articleComments={...t.articleComments},i&&(i.isNew=!1,t.articlePinnedComments={...t.articlePinnedComments})},setFavorite(t,{articleId:e,commentId:s,isFavorite:n}){t.articleComments[e].refs[s].isFavorite=n,t.articleComments={...t.articleComments},t.articlePinnedComments[e]&&t.articlePinnedComments[e].refs&&t.articlePinnedComments[e].refs[s]&&(t.articlePinnedComments[e].refs[s].isFavorite=n)},updateScore(t,e){const{articleId:s,commentId:n,score:i,vote:a,votesCount:o}=e,r=t.articleComments[s].refs[n];r.score=i,r.votesCount=o,r.vote={...r.vote,isCanVote:!1,value:a},t.articleComments={...t.articleComments},t.articlePinnedComments[s]&&t.articlePinnedComments[s].refs&&t.articlePinnedComments[s].refs[n]&&(t.articlePinnedComments[s].refs[n]=r)},clearCommentsList(t,e){const{[e]:s,...n}=t.articleComments;t.articleComments=n},setInputValue(t,{name:e,value:s}){t.inputs[e].value=s},setSearchCommentsResults(t,{refs:e,root:s}){t.searchCommentsResults={refs:e,root:s}},setSearchResultFavorite(t,{commentId:e,isFavorite:s}){t.searchCommentsResults.refs[e].isFavorite=s},setPagesCount(t,e){t.pagesCount=e},clearSearchResults(t){t.searchCommentsResults=null,t.pageCount=null},setCommentAccess(t,e){t.commentAccess={...t.commentAccess,...e}},setScrollParents(t,e){t.scrollParents={...t.scrollParents,[e.parentId]:e.id}},setCommentIsPinned(t,{articleId:e,commentId:s,isPinned:n}){t.articleComments[e].refs[s].isPinned=n,t.articleComments={...t.articleComments}}},actions:{addComment({commit:t},{articleId:e,comment:s}){t("addComment",{articleId:e,comment:s})},updateComment({state:t,commit:e},{articleId:s,comment:n}){const i=(0,El.qv)(n),a={...i,children:t.articleComments[s].refs[i.id].children};e("updateComment",{articleId:s,comment:a})},setScrollParents({commit:t},{comment:e}){t("setScrollParents",e)},suspendComment({commit:t},{commentId:e,articleId:s}){(0,Cl.fX)(s,e).then((()=>{t("suspendCommentTree",{articleId:s,commentId:e})}))},vote({commit:t},{articleId:e,commentId:s,direction:n}){const i="up"===n?1:-1;return(0,Cl.bj)({commentId:s,postId:e,data:{value:i}}).then((n=>{t("me/decrementCommentsCharge",null,{root:!0});const{score:a,votesCount:o}=n;return t("updateScore",{articleId:e,commentId:s,score:a,votesCount:o,vote:i}),n}))},setFavorite({commit:t},{articleId:e,commentId:s,isFavorite:n}){return n?(0,Cl._p)(s).then((()=>{t("setFavorite",{articleId:e,commentId:s,isFavorite:n})})):(0,Cl.zm)(s).then((()=>{t("setFavorite",{articleId:e,commentId:s,isFavorite:n})}))},setSearchResultFavorite({commit:t},{commentId:e,isFavorite:s}){return s?(0,Cl._p)(e).then((()=>{t("setSearchResultFavorite",{commentId:e,isFavorite:s})})):(0,Cl.zm)(e).then((()=>{t("setSearchResultFavorite",{commentId:e,isFavorite:s})}))},moderateComment({commit:t,getters:e},{postId:s,commentId:n,isApprove:i}){(0,Cl.TH)(s,n,i).then((({moderatedCommentId:i,data:{comment:a}={}})=>{const o=new Set(e.getModeratedIds);o.delete(n),t("setModeratedIds",Array.from(o)),t("deleteComment",{articleId:s,commentId:n}),i&&t("addComment",{articleId:s,comment:a})}))},loadUserComments({commit:t,rootGetters:e},{route:s}){const n=s.params.pageNum||1,i={...Ol(s),...e["i18n/langOptions"],page:n},a=i.bookmarks?yl.Ts:yl.aP;return a(i).then((({comments:e,threads:s,pages:n})=>{t("setPagesCount",n),t("setSearchCommentsResults",{refs:e,root:s})}))},searchComments({commit:t,rootGetters:e},{route:s}){const n={...s.query,...Ol(s),...e["i18n/langOptions"],page:s.params.pageNum||1};return(0,Cl.ZQ)(n).then((({commentIds:e,commentRefs:s,pagesCount:n})=>{t("setSearchCommentsResults",{refs:s,root:e}),t("setPagesCount",n)}))},pinComment({commit:t},{articleId:e,commentId:s,isPinned:n}){return(0,Cl.oP)({commentId:s,postId:e,data:{pinned:n}}).then((()=>t("setCommentIsPinned",{articleId:e,commentId:s,isPinned:n})))}}};function kl(t,e,s){return`${t}?ch=${e}&rn=${s}`}function Ml(t){return new Promise((e=>{const s=new Image;s.onload=()=>e(!1),s.onerror=()=>{e(!0)},s.src=t}))}function wl(t,e){return Promise.all([Ml(kl(t,1,e)),Ml(kl(t,2,e))]).then((([t,e])=>!t&&e))}let xl=null;function Dl(){const t=parseInt(1e6*Math.random(),10),e="/img/px.gif";return xl||(xl=wl(e,t.toString())),xl}var Bl=s(15870),$l=s(73539);function Fl(){const t="zhY4i4nJ9K";return $l.Z[t]}function Gl(){const t="K9Jn4i4Yhz";return(0,Bl.sb)(`#${t}`).then(Boolean)}let Ul=0,Vl=null;function Hl(){if(Fl())return clearTimeout(Vl),Gl().then((t=>!t));if(Ul>=3)return clearTimeout(Vl),Promise.resolve(!0);const t=300;return new Promise(((e,s)=>{Vl=setTimeout((()=>{Ul+=1,Hl().then(e,s)}),t*Ul)}))}const Zl={CAN_SEE_ACCEPTABLE_ADS:"aa",HAS_ADBLOCK:"yes",SEE_ADS:"no"},Wl={namespaced:!0,state(){return{hasAcceptableAdsFilter:!1,hasAdblock:!1}},getters:{adblockStatus(t){return t.hasAdblock?t.hasAcceptableAdsFilter?Zl.CAN_SEE_ACCEPTABLE_ADS:Zl.HAS_ADBLOCK:Zl.SEE_ADS}},mutations:{setAcceptableAds(t,e){t.hasAcceptableAdsFilter=e},setAdblock(t,e){t.hasAdblock=e}},actions:{detectAcceptableAds({commit:t}){return Dl().then((e=>{t("setAcceptableAds",e)}))},detectAdblock({commit:t}){return Hl().then((e=>t("setAdblock",e)))},findOutAdblockStatus({dispatch:t}){return Promise.all([t("detectAcceptableAds"),t("detectAdblock")])}}};var Yl=s(72378),ql=s.n(Yl);function jl(){return(0,ze.Hm)((0,Qe.k)("votes/reasons","v2"))}function Kl(){return(0,ze.Hm)((0,Qe.k)("votes/user_reasons","v2"))}const zl={namespaced:!0,state(){return{userReasonsList:null}},actions:{vote({commit:t},{id:e,value:s,reasons:n}){const i=n?{value:s,reasons:n}:{value:s};return(0,yl.TH)(e,i).then((e=>(t("me/decrementPostsCharge",null,{root:!0}),e)))},loadUserReasonsList({commit:t,state:e}){return e.userReasonsList?Promise.resolve():Kl().then((e=>{t("setUserReasonsList",e.data)}))}},mutations:{setUserReasonsList(t,e){t.userReasonsList=e}}};function Ql(t=1){return{name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily",pageNum:t},query:{}}}const Xl=Ql();function Jl(t){switch(t.name){case"ARTICLES_LIST_TECHNOTEXT_ALL":case"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES":return{technotext:!0,nomination:t.params.nomination||"all",year:t.params.year};case"ARTICLES_LIST_ALL":case"ARTICLES_LIST_ALL_PAGES":return{sort:"rating"};case"ARTICLES_LIST_ALL_SCORE":case"ARTICLES_LIST_ALL_SCORE_PAGES":return{sort:"rating",score:t.params.score};case"ARTICLES_LIST_BY_COMPANY":case"ARTICLES_LIST_BY_COMPANY_PAGES":return{company:t.params.name};case"COMPANY_BRANDING_PREVIEW":case"COMPANY_BRANDING_PREVIEW_PAGES":return{company:t.params.name};case"ARTICLES_LIST_TOP_BY_COMPANY":case"ARTICLES_LIST_TOP_BY_COMPANY_PAGES":return{company:t.params.name,sort:"rating"};case"ARTICLES_LIST_BY_FLOW_ALL":case"ARTICLES_LIST_BY_FLOW_ALL_PAGES":return{flow:t.params.flowName,sort:"all"};case"ARTICLES_LIST_BY_FLOW_ALL_SCORE":case"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES":return{flow:t.params.flowName,score:t.params.score,sort:"all"};case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD":case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:t.params.flowName,period:t.params.period,sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL":case"ARTICLES_LIST_BY_HUB_ALL_PAGES":return{hub:t.params.hubName,sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL_SCORE":case"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES":return{hub:t.params.hubName,score:t.params.score,sort:"all"};case"ARTICLES_LIST_BY_HUB_TOP_PERIOD":case"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES":return{hub:t.params.hubName,period:t.params.period,sort:"all"};case"ARTICLES_LIST_BY_USER":case"ARTICLES_LIST_BY_USER_PAGES":case"ARTICLES_DRAFTS_LIST_BY_USER":case"ARTICLES_DRAFTS_LIST_BY_USER_PAGES":case"ARTICLES_PLANNED_LIST_BY_USER":case"ARTICLES_PLANNED_LIST_BY_USER_PAGES":return{user:t.params.login};case"ARTICLES_LIST_BOOKMARKED":case"ARTICLES_LIST_BOOKMARKED_PAGES":return{user:t.params.login,user_bookmarks:!0};case"ARTICLES_LIST_FEED":case"ARTICLES_LIST_FEED_PAGES":return{custom:!0};case"MEGAPROJECTS":case"MEGAPROJECTS_PAGES":return{megaprojects:!0};case"ARTICLES_LIST_TOP_PERIOD":case"ARTICLES_LIST_TOP_PERIOD_PAGES":return{period:t.params.period,sort:"date"};case"INDEX":return{date:"day",sort:"date"};case"SEARCH_QUERY_RESULTS":case"SEARCH_QUERY_RESULTS_PAGES":return{query:t.query.q,order:t.query.order};case"NEWS":case"NEWS_LIST_ALL":case"NEWS_LIST_ALL_PAGES":return{news:!0};case"NEWS_LIST_ALL_SCORE":case"NEWS_LIST_ALL_SCORE_PAGES":return{news:!0,score:t.params.score};case"NEWS_LIST_TOP":case"NEWS_LIST_TOP_PERIOD":case"NEWS_LIST_TOP_PERIOD_PAGES":return{news:!0,period:t.params.period};case"NEWS_LIST_BY_COMPANY":case"NEWS_LIST_BY_COMPANY_PAGES":return{companyNews:t.params.name};case"NEWS_LIST_BY_FLOW_ALL":case"NEWS_LIST_BY_FLOW_ALL_PAGES":return{flow:t.params.flowName,flowNews:!0};case"NEWS_LIST_BY_FLOW_SCORE":case"NEWS_LIST_BY_FLOW_SCORE_PAGES":return{flow:t.params.flowName,flowNews:!0,score:t.params.score};case"NEWS_LIST_BY_FLOW_TOP":case"NEWS_LIST_BY_FLOW_TOP_PERIOD":case"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:t.params.flowName,flowNews:!0,period:t.params.period};default:return{}}}function tc({hubs:t}){return(t||[]).filter((t=>"collective"===t.type)).map((t=>t.alias))}function ec({tags:t}){return(t||[]).map((t=>t.titleHtml))}const sc={namespaced:!0,state(){return{articlesList:{},articlesIds:{},isLoading:!1,pagesCount:{},route:{},reasonsList:null,view:null,lastVisitedRoute:{},ssrCommentsArticleIds:[]}},modules:{karma:zl},getters:{getArticleById:t=>e=>t.articlesList[e],getArticlesList:t=>e=>{const s=t.articlesIds[e]||[];return s.map((e=>t.articlesList[e]))},getDailyArticles(t,e){return e.getArticlesList((0,gn.Z)(Xl))},getArticleOptionsById:t=>e=>{const s=t.articlesList[e]||{},{isCorporative:n}=s,i=s.metadata||{},a=i.scriptUrls&&Boolean(i.scriptUrls.length)&&Boolean(i.stylesUrls.length),o=!(a||n);return{articleMeta:i,isCorporative:n,isMegapost:a,isAdsPermitted:o}},getReasonsList:t=>t.reasonsList,getAllHubsTitles:t=>e=>{const{articlesList:s,articlesIds:n}=t,i=[],a=(0,gn.Z)(e),o=n[a];return o?(o.forEach((t=>{const e=tc(s[t]);i.push(...e)})),i):[]},getAllTagsNames:t=>e=>{const{articlesList:s,articlesIds:n}=t,i=[],a=(0,gn.Z)(e),o=n[a];return o?(o.forEach((t=>{i.push(...ec(s[t]))})),i):[]},getArticleHubsTitles:t=>e=>{const s=t.articlesList[e]||{};return tc(s)},getArticleTagsTitles:t=>e=>{const s=t.articlesList[e]||{};return ec(s)},getArticleView:t=>t.view,getPagesCount:t=>e=>t.pagesCount[e],getDailyPagesCount:t=>t.pagesCount[(0,gn.Z)(Xl)],getCompanyAlias:(t,e)=>t=>{const s=e.getArticleById(t);if(!s)return null;const{hubs:n}=s;if(!n)return null;const i=n.filter((t=>"corporative"===t.type))[0];return i?i.alias.toLowerCase():null},isSubscribedToTracker:(t,e)=>t=>e.getArticleById(t).relatedData.trackerSubscribed,isSubscribedToEmail:(t,e)=>t=>e.getArticleById(t).relatedData.emailSubscribed,shouldSsrComments:t=>e=>t.ssrCommentsArticleIds.includes(e),compactView:t=>"list"===t.view},mutations:{setArticle(t,{article:e}){t.articlesList={...t.articlesList,[e.id]:e}},setArticleCommentsStatus(t,{articleId:e,status:s}){t.articlesList[e].commentsEnabled=s},setArticleRulesRemindStatus(t,{articleId:e,status:s}){t.articlesList[e].rulesRemindEnabled=s},incrementComments(t,{articleId:e}){const s=t.articlesList[e];s.statistics.commentsCount+=1},setArticleCommentsCount(t,{articleId:e,count:s}){const n=t.articlesList[e];n&&n.statistics&&(n.statistics.commentsCount=s)},resetCommentsUnreadCount(t,e){const s=t.articlesList[e];s&&s.relatedData&&(s.relatedData.unreadCommentsCount=0)},setArticles(t,{articlesList:e,articlesIds:s}){t.articlesList=ql()(t.articlesList,e),t.articlesIds={...t.articlesIds,...s}},appendArticles(t,{routeKey:e,articlesToSet:s}){const{articlesList:n,articlesIds:i}=s,a=i[e]||i;t.articlesList=ql()(t.articlesList,n),t.articlesIds={...t.articlesIds,[e]:t.articlesIds[e]?t.articlesIds[e].concat(a):a}},clearArticles(t,e){delete t.articlesIds[e]},setArticlePoll(t,{poll:e,articleId:s}){const n=t.articlesList[s],i=n.polls.findIndex((t=>t.id===e.id));n.polls.splice(i,1,e)},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.articlesList[e],{statistics:i}=n;i.favoritesCount=s?i.favoritesCount+1:i.favoritesCount-1,n.relatedData={...n.relatedData,bookmarked:s}},setLoading(t,e){t.isLoading=e},setPagesCount(t,e){t.pagesCount={...t.pagesCount,...e}},setRating(t,e){const{articleId:s,score:n,value:i,votesCount:a}=e,o=t.articlesList[s];o.relatedData.vote.value=i,o.statistics.score=n,o.statistics.votesCount=a},setCanVote(t,{articleId:e,isEnabled:s}){const n=t.articlesList[e];n.relatedData.canVote=s},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setCanComment(t,{articleId:e,canComment:s}){const n=t.articlesList[e];n.relatedData.canComment=s},setReasonsList(t,e){t.reasonsList=e},setArticleView(t,e){t.view=e},setLastVisitedRoute(t,e){t.lastVisitedRoute=e},updateArticleRelatedData(t,{articleId:e,relatedData:s}){t.articlesList[e].relatedData={...t.articlesList[e].relatedData,...s}},setSsrCommentsArticleIds(t,e){t.ssrCommentsArticleIds=e},removeSsrCommentsArticleId(t,e){const s=new Set(t.ssrCommentsArticleIds);s.delete(e),t.ssrCommentsArticleIds=Array.from(s)}},actions:{loadArticlesList({state:t,commit:e,rootGetters:s},{route:n,force:i,append:a=!1}){const o=(0,gn.Z)(n),r=t.articlesIds[o],l=Boolean(Object.keys(n.query).length),c=s["pullRefresh/getRefreshState"];if(r&&!l&&!c&&!i)return!0;!a&&(l||c||i)&&e("clearArticles",o),e("setLoading",!0);const m=n.params.pageNum||1,u={...Jl(n),...s["i18n/langOptions"],page:m};return(0,wn.rM)(u).then((t=>{const{articleRefs:s,newsRefs:i,newsIds:r,pagesCount:l,articleIds:c}=t,m={[o]:c||r},u={[o]:l},d={articlesIds:m||r,articlesList:s||i};a?e("appendArticles",{routeKey:o,articlesToSet:d}):e("setArticles",d),e("setPagesCount",u),e("setRouteCache",n),e("setLoading",!1)}))},loadDailyArticles({dispatch:t},{page:e,append:s,force:n}={page:1}){return t("loadArticlesList",{route:Ql(e),append:s,force:n})},loadDrafts({state:t,commit:e,rootGetters:s},{route:n,force:i=!1}){const a=(0,gn.Z)(n),o=s["pullRefresh/getRefreshState"];if(!i&&a in t.articlesIds&&!o)return Promise.resolve();e("setLoading",!0);const r=n.params.pageNum||1,l={...Jl(n),...s["i18n/langOptions"],page:r};return(0,wn.Oe)(l).then((t=>{const{articleRefs:s,newsRefs:i,newsIds:o,pagesCount:r,articleIds:l}=t,c={[a]:l||o},m={[a]:r};e("setArticles",{articlesIds:c||o,articlesList:s||i}),e("setPagesCount",m),e("setRouteCache",n),e("setLoading",!1)}))},loadPlannedArticles({state:t,commit:e,rootGetters:s},{route:n}){const i=(0,gn.Z)(n),a=s["pullRefresh/getRefreshState"];if(i in t.articlesIds&&!a)return Promise.resolve();e("setLoading",!0);const o=n.params.pageNum||1,r={...Jl(n),...s["i18n/langOptions"],page:o};return(0,wn.tU)(r).then((t=>{const{articleRefs:s,newsRefs:a,newsIds:o,pagesCount:r,articleIds:l}=t,c={[i]:l||o},m={[i]:r};e("setArticles",{articlesIds:c||o,articlesList:s||a}),e("setPagesCount",m),e("setRouteCache",n),e("setLoading",!1)}))},loadArticle({commit:t,rootGetters:e},{articleId:s}){return(0,wn.fq)(s,e["i18n/langOptions"]).then((e=>{t("setArticle",{article:e})}))},loadArticlePreview({commit:t,rootGetters:e},{hash:s}){return(0,wn.vG)(s,e["i18n/langOptions"]).then((e=>{t("setArticle",{article:{...e,id:s}})}))},toggleArticleBookmark({commit:t},{article:e,bookmarkModule:s}){const n=!e.relatedData.bookmarked,i=n?wn.uf:wn.bE;return i(e.id).then((()=>{t(`${s}/setBookmarked`,{articleId:e.id,shouldBookmarked:n},{root:!0})}))},downvote({commit:t},{id:e,reason:s}){return(0,wn.UJ)(e,{reason:s}).then((s=>{const{vote:n,canVote:i,score:a,votesCount:o,chargeSettings:r}=s,{value:l}=n;t("setRating",{articleId:e,score:a,value:l,votesCount:o}),t("setCanVote",{articleId:e,isEnabled:i}),t("me/setChargeSettings",r,{root:!0})}))},upvote({commit:t},{id:e}){return(0,wn.Y9)(e).then((s=>{const{vote:n,canVote:i,score:a,votesCount:o,chargeSettings:r}=s,{value:l}=n;t("setRating",{articleId:e,score:a,value:l,votesCount:o}),t("setCanVote",{articleId:e,isEnabled:i}),t("me/setChargeSettings",r,{root:!0})}))},loadReasonsList({commit:t,getters:e}){return e.getReasonsList?Promise.resolve():jl().then((e=>{t("setReasonsList",e.data)}))},setArticleView({commit:t},{view:e}){(0,l.d8)("habr_article_view",e,{expires:365}),t("setArticleView",e)},toggleArticleView({dispatch:t,getters:e}){const s="cards"===e.getArticleView?"list":"cards";t("setArticleView",{view:s})},setLastVisitedRoute({commit:t},e){t("setLastVisitedRoute",e)},setArticleCommentsStatus({commit:t},{articleId:e,status:s}){t("setArticleCommentsStatus",{articleId:e,status:s})},setArticleRulesRemindStatus({commit:t},{articleId:e,status:s}){t("setArticleRulesRemindStatus",{articleId:e,status:s})},toggleSubscriptionStatus({commit:t},{articleId:e,tracker:s,email:n}){return(0,wn.wZ)({articleId:e,tracker:s,email:n}).then((({emailSubscribed:s,trackerSubscribed:n})=>{t("updateArticleRelatedData",{articleId:e,relatedData:{emailSubscribed:s,trackerSubscribed:n}})}))}}};function nc({flowRefs:t}){const e=[];return Object.keys(t).forEach((s=>{const n=t[s];e.push({alias:n.alias,id:n.id,route:{name:"FLOW_PAGE",params:{flowName:n.alias}}})})),e}function ic(t){return(0,ze.Hm)((0,Qe.k)("refs/flows","v2"),t).then(nc)}function ac(t,e){return(0,ze.Hm)((0,Qe.k)(`flows/${t}/authors`,"v2"),e)}function oc(t){return(0,ze.Hm)((0,Qe.k)("updates","v2"),t)}var rc=s(88092);const lc=(t,e)=>`${e}_${t}`.toLowerCase(),cc={namespaced:!0,state(){return{authors:{}}},getters:{getAuthorContributionsByAlias:t=>(e,s="flow")=>{const n=lc(e,s);return t.authors[n]||[]}},mutations:{setAuthorContribution(t,{authors:e,key:s}){t.authors={...t.authors,[s]:e.authorIds.map((t=>e.authorRefs[t]))}}},actions:{loadAuthorContributions({state:t,commit:e},{flowName:s,hubName:n}){const i=s||n,a=s?"flow":"hub",o=lc(i,a),r={page:1,perPage:10};if(t.authors[o])return t.authors[o];const l=s?ac:rc.yp;return l(i,r).then((t=>(e("setAuthorContribution",{authors:t,key:o}),t.authorIds)))}}},mc={namespaced:!0,state(){return{articleRefs:{},articleIds:{},pagesCount:{},route:{},viewsCount:[],maxStatsCount:{}}},getters:{getArticlesList:t=>e=>{const s=t.articleIds[e]||[];return s.map((e=>t.articleRefs[e]))}},mutations:{setArticleRefs(t,e){t.articleRefs={...t.articleRefs,...e}},setArticleIds(t,{routeKey:e,articleIds:s}){t.articleIds={...t.articleIds,[e]:s}},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setViewsCount(t,e){t.viewsCount=e},setStatisticsMaxCounts(t,e){t.maxStatsCount={...e}}},actions:{loadArticlesStatistics({commit:t},e){const s=e.params.login.toLowerCase(),n=e.params.pageNum||1,i=(0,gn.Z)(e);return(0,yl.UZ)(s,{page:n}).then((s=>{const{articleRefs:n,articleIds:a,pagesCount:o}=s,[r,l,c,m]=a.reduce(((t,e)=>{const{statistics:s}=n[e],{commentsCount:i,favoritesCount:a,readingCount:o,votesCount:r}=s,l=[i,a,o,r];return t.map(((t,e)=>Math.max(t,l[e])))}),[0,0,0,0]),u={comments:r,favorites:l,readings:c,votes:m};t("setArticleRefs",n),t("setArticleIds",{routeKey:i,articleIds:a}),t("setPagesCount",{routeKey:i,pagesCount:o}),t("setRouteCache",e),t("setStatisticsMaxCounts",u)}))},loadArticlesViewCount({commit:t},{alias:e,period:s}){return(0,yl.ZB)(e.toLowerCase(),{period:s}).then((({data:e})=>{const s=e.map((t=>({x:t.date,y:t.count})));t("setViewsCount",s)}))}}};function uc({fl:t,hl:e}){return(0,ze.Hm)((0,Qe.k)("beta/announcements/current","v2"),{fl:t,hl:e})}function dc({experimentId:t,fl:e,hl:s}){return(0,ze.Hm)((0,Qe.k)(`beta/announcements/${t}`,"v2"),{fl:e,hl:s})}function pc({experimentId:t,nocount:e=0}){return(0,ze.Hm)((0,Qe.k)(`beta/announcements/${t}/comments`,"v2"),{nocount:e})}function _c({experimentId:t,text:e,parentId:s}){return(0,ze.Q)((0,Qe.k)(`beta/announcements/${t}/comments`,"v2"),{text:e,parentId:s})}function hc({experimentId:t,commentId:e,mark:s}){return(0,ze.Q)((0,Qe.k)(`beta/announcements/${t}/comments/${e}`,"v2"),{mark:s})}function gc({fl:t,hl:e,perPage:s=20,pageNum:n=1}){return(0,ze.Hm)((0,Qe.k)("beta/announcements/finished","v2"),{fl:t,hl:e,perPage:s,pageNum:n})}function Tc(){return(0,ze.Q)((0,Qe.k)("beta","v2"))}const vc={namespaced:!0,state(){return{currentAnnouncement:null,announcements:{},announcementCards:null,announcementComments:{},announcementCommentThreads:{},announcementCommentingStatuses:{},archivedList:[]}},getters:{archivedAnnouncements:t=>t.announcementCards?t.archivedList.map((e=>t.announcementCards[e])):[],getAnnouncementById:t=>e=>t.announcements[e],getCommentingStatusById:t=>e=>t.announcementCommentingStatuses[e],getAnnouncementCommentsTreeById:t=>e=>(t.announcementCommentThreads[e]||[]).map((function s(n){const i=t.announcementComments[e][n];return{...i,children:i.children.map(s)}}))},mutations:{setHasJoinedBetaTesting(t,e){t.hasJoinedBetaTesting=e},setCurrentAnnouncement(t,e){t.currentAnnouncement=e},setArchivedAnnouncements(t,{announcements:e,list:s}){t.announcementCards={...t.announcementCards,...e},t.archivedList=s},addAnnouncement(t,{experimentId:e,announcement:s}){t.announcements={...t.announcements,[e]:s}},addAnnouncementComments(t,{experimentId:e,comments:s,threads:n}){t.announcementComments={...t.announcementComments,[e]:s},t.announcementCommentThreads={...t.announcementCommentThreads,[e]:n}},addAnnouncementComment(t,{experimentId:e,comment:s}){const{id:n,parentId:i}=s;if(t.announcementComments={...t.announcementComments,[e]:{...t.announcementComments[e],[n]:s}},i){const s=t.announcementComments[e][i];s.children=Array.from(new Set([...s.children,n]))}else t.announcementCommentThreads={...t.announcementCommentThreads,[e]:Array.from(new Set([...t.announcementCommentThreads[e],n]))}},setCommentingStatus(t,{experimentId:e,commentAccess:s}){t.announcementCommentingStatuses={...t.announcementCommentingStatuses,[e]:s}},patchComment(t,{experimentId:e,commentId:s,newValues:n}){t.announcementComments={...t.announcementComments,[e]:{...t.announcementComments[e],[s]:{...t.announcementComments[e][s],...n}}}}},actions:{loadCurrentAnnouncement({state:t,commit:e,rootGetters:s}){return t.currentAnnouncement?Promise.resolve():uc(s["i18n/langOptions"]).then((({announcement:t})=>{e("setCurrentAnnouncement",t)}))},loadAnnouncement({state:t,commit:e,rootGetters:s},n){return t.announcements[n]?Promise.resolve():dc({experimentId:n,...s["i18n/langOptions"]}).then((({announcement:t})=>{e("addAnnouncement",{experimentId:n,announcement:t})}))},loadAnnouncementComments({state:t,commit:e},s){return t.announcementComments[s]?Promise.resolve():pc({experimentId:s}).then((({commentAccess:t,data:{comments:n,threads:i}})=>{e("setCommentingStatus",{experimentId:s,commentAccess:t}),e("addAnnouncementComments",{experimentId:s,comments:n,threads:i})}))},postAnnouncementComment({commit:t},{experimentId:e,text:s,parentId:n}){return _c({experimentId:e,text:s,parentId:n}).then((({commentAccess:s,data:n})=>{t("setCommentingStatus",{experimentId:e,commentAccess:s}),t("addAnnouncementComment",{experimentId:e,comment:n.comment})}))},loadArchivedAnnouncementsList({state:t,commit:e,rootGetters:s}){return t.announcementCards?Promise.resolve():gc(s["i18n/langOptions"]).then((({announcementRefs:t,announcementExperimentIds:s})=>{e("setArchivedAnnouncements",{announcements:t,list:s})}))},voteForComment({commit:t},{experimentId:e,commentId:s,direction:n}){const i="up"===n?1:-1;return hc({experimentId:e,commentId:s,mark:i}).then((({score:n,votesCount:i,vote:a})=>{const o={score:n,votesCount:i,vote:a};t("patchComment",{experimentId:e,commentId:s,newValues:o})}))}}};function fc(t){return(0,ze.Hm)((0,Qe.k)("seo-landings-hubs"),t)}const Sc={namespaced:!0,state(){return{seoLandings:[],hubs:""}},mutations:{setSeoLandings(t,e){t.seoLandings=e},setHubs(t,e){t.hubs=e},clearSeoLandings(t){t.seoLandings=[]}},actions:{loadSeoLandings({state:t,commit:e},{hubs:s}){return t.hubs===s?null:(e("clearSeoLandings"),fc({hubs:s}).then((t=>{e("setSeoLandings",t),e("setHubs",s)})))}}};var Ec=s(12790);const Cc={namespaced:!0,state(){return{companyRefs:{},companyIds:{},companyTopIds:{},pagesCount:{},companyProfiles:{},companiesCategories:[],companiesCategoriesTotalCount:0,companiesWidgets:{},companiesWorkers:{},companiesFans:{},route:{},isLoading:!1,companyWorkersLoading:!1,companyFansLoading:!1,vacancies:{},companiesGalleries:{},companiesBanners:{},companiesLandingVacancies:{},companiesTechnologies:{},workplaceInfo:null}},getters:{getCompanyInfo:t=>e=>t.companyRefs[e]||null,getCompanyGallery:t=>e=>t.companiesGalleries[e]||null,getCompanyBanner:t=>e=>t.companiesBanners[e]||null,getCompanyLandingVacancies:t=>e=>t.companiesLandingVacancies[e]||null,getCompanyTechnologies:t=>e=>t.companiesTechnologies[e]||null,getCompanyStartupStatus:t=>e=>{const s=t.companyRefs[e]||null;return!(!s||!s.settings)&&s.settings.isStartup},getProfileInfo:t=>e=>t.companyProfiles[e]||null,companiesTopRating:t=>{const{companyTopIds:e}=t;return e&&e.length?e.map((e=>t.companyRefs[e])):[]},getCompanyVacancies:t=>e=>t.vacancies[e]},mutations:{setCompanyRefs(t,e){t.companyRefs={...t.companyRefs,...e}},setCompanyIds(t,{routeKey:e,companyIds:s}){t.companyIds={...t.companyIds,[e]:s}},setCompanyTopIds(t,e){t.companyTopIds=e},setCompanyInfo(t,{companyInfo:e,alias:s}){t.companyRefs={...t.companyRefs,[s]:{...t.companyRefs[s],...e,statistics:{...e.statistics,...t.companyRefs[s]?t.companyRefs[s].statistics:{}}}}},setProfileInfo(t,e){t.companyProfiles={...t.companyProfiles,...e}},setCompaniesCategories(t,e){t.companiesCategories=e},setCompaniesCategoriesTotalCount(t,e){t.companiesCategoriesTotalCount=e},setSubscriptionStatus(t,{alias:e,isSubscribed:s}){t.companyRefs[e].relatedData.isSubscribed=s},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},clearCompanies(t,e){t.companyIds[e]&&(t.companyIds[e]=[])},setLoading(t,e){t.isLoading=e},setCompanyWidgets(t,{alias:e,widgets:s}){t.companiesWidgets={...t.companiesWidgets,[e]:s}},setCompanyWorkers(t,{alias:e,data:s}){t.companiesWorkers={...t.companiesWorkers,[e]:s}},setCompanyWorkersLoading(t,e){t.companyWorkersLoading=e},setCompanyFans(t,{alias:e,data:s}){t.companiesFans={...t.companiesFans,[e]:s}},setCompanyFansLoading(t,e){t.companyFansLoading=e},setCompanyVacancies(t,{alias:e,vacancies:s,totalPages:n}){t.vacancies={...t.vacancies,[e]:{vacancies:s,totalPages:n}}},setWorkplaceInfo(t,e){t.workplaceInfo=e},setCompanyGallery(t,{alias:e,galleryHtml:s}){t.companiesGalleries={...t.companiesGalleries,[e]:s}},setCompanyBanner(t,{alias:e,banner:s}){t.companiesBanners={...t.companiesBanners,[e]:s}},setCompanyLandingVacancies(t,{alias:e,status:s}){t.companiesLandingVacancies={...t.companiesLandingVacancies,[e]:s}},setCompanyTechnologies(t,{alias:e,technologies:s}){t.companiesTechnologies={...t.companiesTechnologies,[e]:s}}},actions:{loadCompanies({commit:t,state:e,rootGetters:s},{route:n}){const i={title:"abc",rating:"rating"},a={...n.query,page:n.params.pageNum||1,perPage:n.query.perPage||20,sector:n.params.categoryAlias||null,order:i[n.query.sort]||"rating",orderDirection:n.query.order||"desc"},{q:o}=n.query,r=o?Ec.Fy:Ec.gu;let l={};o||(n.params.flowName&&(l={flowAlias:n.params.flowName}),n.params.hubName&&(l={hubAlias:n.params.hubName}));const c=(0,gn.Z)(n),m=e.companyIds[c],u=Boolean(Object.keys(n.query).length),d=JSON.stringify(e.route.query)===JSON.stringify(n.query),p=n.params.hubName||n.params.flowName;return!(!(m&&m.length&&d)||o||p)||((u&&!d||p)&&t("clearCompanies",c),t("setLoading",!0),r({...a,...l,...s["i18n/langOptions"]}).then((({companyRefs:e,companyIds:s,pagesCount:i})=>(t("setCompanyRefs",e),t("setCompanyIds",{routeKey:c,companyIds:s}),t("setPagesCount",{routeKey:c,pagesCount:o?1:i}),t("setRouteCache",n),t("setLoading",!1),{companyRefs:e,companyIds:s,pagesCount:i}))))},searchCompanies({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1},i=(0,gn.Z)(s),a=JSON.stringify(t.route.query)===JSON.stringify(s.query),o=Boolean(Object.keys(s.query).length);return o&&!a&&e("clearCompanies",i),e("setLoading",!0),(0,Ec.Fy)(n).then((({companyRefs:t,companyIds:n,pagesCount:a})=>(e("setCompanyRefs",t),e("setCompanyIds",{routeKey:i,companyIds:n}),e("setPagesCount",{routeKey:i,pagesCount:a}),e("setRouteCache",s),e("setLoading",!1),{companyRefs:t,companyIds:n,pagesCount:a})))},loadTopCompanies({commit:t,state:e,rootGetters:s}){const{companyTopIds:n}=e;if(n&&n.length)return e.companyTopIds;const i={page:1,perPage:10,sector:null,order:"rating",orderDirection:"desc"};return(0,Ec.gu)({...i,...s["i18n/langOptions"]}).then((({companyRefs:e,companyIds:s})=>(t("setCompanyTopIds",s),t("setCompanyRefs",e),{companyRefs:e,companyIds:s})))},loadCompanyInfo({rootGetters:t,state:e,commit:s},{alias:n}){const i=t["i18n/langOptions"],a=e.companyRefs[n],o=a&&a.location,r=t["pullRefresh/getRefreshState"];return o&&!r?Promise.resolve():(0,Ec.Yy)(n,i).then((t=>{s("setCompanyInfo",{companyInfo:t,alias:n})}))},getEmployeeStatus({rootGetters:t,commit:e},{alias:s}){const n=t["i18n/langOptions"],i=t["me/userAlias"];return e("setWorkplaceInfo",{isUserEmployee:!1,employeeRequest:null}),(0,Ec.Py)(s,i,n).then((t=>t.ok?(e("setWorkplaceInfo",{isUserEmployee:!0,employeeRequest:null}),Promise.resolve(null)):(0,yl.FM)(i,s).then((({employeeRequest:t})=>{t?e("setWorkplaceInfo",{isUserEmployee:!1,employeeRequest:t}):Promise.resolve(null)})))).catch((()=>e("setWorkplaceInfo",null)))},updateWorkplaceInfo({commit:t},e){t("setWorkplaceInfo",e)},loadProfileInfo({rootGetters:t,state:e,commit:s},{alias:n}){const i=t["i18n/langOptions"],a=e.companyProfiles[n],o=t["pullRefresh/getRefreshState"];return a&&!o?Promise.resolve(a):(0,Ec.Dz)(n,i).then((t=>{const e={[n]:{...t}};return s("setProfileInfo",e),t}))},loadCompaniesCategories({commit:t,state:e}){return e.companiesCategories.length?Promise.resolve(e.companiesCategories):(t("setCompaniesCategories",[]),(0,Ec.Tr)().then((({countByCategories:e,totalCount:s})=>{t("setCompaniesCategoriesTotalCount",s),t("setCompaniesCategories",e)})))},toggleSubscribeStatus({commit:t,state:e},s){const{isSubscribed:n}=e.companyRefs[s].relatedData,i=!n;return t("setSubscriptionStatus",{alias:s,isSubscribed:i}),(0,Ec.US)(s).catch((e=>{throw t("setSubscriptionStatus",{alias:s,isSubscribed:!i}),e}))},loadCompanyWidgets({commit:t,state:e,rootGetters:s},n){if(e.companiesWidgets[n])return Promise.resolve();const i=s["i18n/langOptions"];return(0,Ec.Cg)(n,i).then((({widgetRefs:e})=>{t("setCompanyWidgets",{alias:n,widgets:e})}))},loadCompanyWorkers({commit:t,state:e},s){const n=s.name===e.route.name,i=JSON.stringify(s.params)===JSON.stringify(e.route.params);if(n&&i)return Promise.resolve();t("setRouteCache",s);const a=s.params.name.toLowerCase(),o=s.params.pageNum||1,r="COMPANY_WORKERS_NEW"===s.name?"new":"all";return t("setCompanyWorkersLoading",!0),(0,Ec.$Y)(a,r,{page:o}).then((e=>{t("setCompanyWorkers",{alias:a,data:e}),t("setCompanyWorkersLoading",!1)}))},loadCompanyFans({commit:t,state:e},s){const n=s.name===e.route.name,i=JSON.stringify(s.params)===JSON.stringify(e.route.params);if(n&&i)return Promise.resolve();t("setRouteCache",s);const a=s.params.name.toLowerCase(),o=s.params.pageNum||1,r="COMPANY_FANS_NEW"===s.name?"new":"all";return t("setCompanyFansLoading",!0),(0,Ec.WY)(a,r,{page:o}).then((e=>{t("setCompanyFans",{alias:a,data:e}),t("setCompanyFansLoading",!1)}))},loadCompanyVacancies({commit:t},{alias:e,page:s=1}){return(0,Ec.sS)(e,{page:s}).then((({vacancies:s,pagesCount:n})=>{t("setCompanyVacancies",{alias:e,totalPages:n,vacancies:s})}))},loadCompanyGallery({commit:t},{alias:e}){return(0,Ec.dq)(e).then((({galleryHtml:s})=>{t("setCompanyGallery",{alias:e,galleryHtml:s})}))},loadCompanyBanner({commit:t},{alias:e}){return(0,Ec.oz)(e).then((s=>{t("setCompanyBanner",{alias:e,banner:s})}))},loadCompanyLandingVacancies({commit:t},{alias:e}){return(0,Ec.TY)(e).then((({status:s})=>{t("setCompanyLandingVacancies",{alias:e,status:s})}))},loadCompanyTechnologies({commit:t},{alias:e}){return(0,Ec.Kv)(e).then((({technologies:s})=>{t("setCompanyTechnologies",{alias:e,technologies:s})}))}}},Ic={namespaced:!0,state(){return{hubs:{},flows:{},companyRefs:{}}},getters:{getCompaniesHubsContributionByAlias:t=>e=>{const s=e.toLowerCase();return t.hubs[s]?t.hubs[s].map((e=>t.companyRefs[e])):[]},getCompaniesFlowsContributionByAlias:t=>e=>{const s=e.toLowerCase();return t.flows[s]?t.flows[s].map((e=>t.companyRefs[e])):[]}},mutations:{setCompaniesHubsContribution(t,{companyRefs:e,companyIds:s,key:n}){t.companyRefs={...t.companyRefs,...e},t.hubs={...t.companyIds,[n]:s}},setCompaniesFlowsContribution(t,{companyRefs:e,companyIds:s,key:n}){t.companyRefs={...t.companyRefs,...e},t.flows={...t.companyIds,[n]:s}}},actions:{loadHubsContributions({state:t,commit:e},s){const n=s.toLowerCase();return t.hubs[n]?t.hubs[n]:(0,Ec.c2)(s).then((({companyRefs:t,companyIds:s})=>{e("setCompaniesHubsContribution",{companyRefs:t,companyIds:s,key:n})}))},loadFlowsContributions({state:t,commit:e},s){const n=s.toLowerCase();return t.flows[n]?t.flows[n]:(0,Ec._H)(s).then((({companyRefs:t,companyIds:s})=>{e("setCompaniesFlowsContribution",{companyRefs:t,companyIds:s,key:n})}))}}},bc={inactive:0,ready:1,visible:2},Ac=()=>!!window.jivo_api,yc={super:"COMPANY_ADMIN_EVENT_ROLE_super",admin:"COMPANY_ADMIN_EVENT_ROLE_admin",author:"COMPANY_ADMIN_EVENT_ROLE_author",editor:"COMPANY_ADMIN_EVENT_ROLE_editor"},Lc={namespaced:!0,state(){return{companyInfo:null,companyInfoLoading:!1,faqArticles:null,brandingPreviewImageUrl:null,jivoStatus:bc.inactive}},mutations:{setCompanyInfo(t,e){t.companyInfo=e},setCompanyInfoLoading(t,e){t.companyInfoLoading=e},setFaqNavigationList(t,e){t.faqNavigationList=e},setHasStartupProlongationFlag(t,e){t.companyInfo&&t.companyInfo.tariffData&&(t.companyInfo.tariffData.hasStartupProlongationRequest=e)},setFaqArticles(t,e){t.faqArticles=e},setBrandingPreviewImageUrl(t,e){t.brandingPreviewImageUrl=e},setJivoStatus(t,e){t.jivoStatus=e}},actions:{loadCompanyInfo({rootGetters:t,commit:e},{alias:s}){const n=t["i18n/langOptions"];return e("setCompanyInfoLoading",!0),Promise.all([(0,Ec.mp)(s,n),(0,Ec.Yy)(s,n)]).then((([t,s])=>{const n={...s,...t};e("setCompanyInfo",n)})).finally((()=>{e("setCompanyInfoLoading",!1)}))},loadFaqData({commit:t,rootGetters:e,state:s}){const n=e["i18n/langOptions"];return s.faqArticles?Promise.resolve():(0,Ec.rd)(n).then((({articlesList:t})=>Promise.all([...t.map((t=>(0,Ec.KD)(t.alias,n)))]))).then((e=>{t("setFaqArticles",e)}))},setBrangingPreviewImage({commit:t},e){t("setBrandingPreviewImageUrl",e)},initializeJivoSiteChat({state:t,commit:e}){return new Promise(((s,n)=>{if(t.jivoStatus===bc.visible)s();else if(Ac())return window.jivo_init(),void s();const i=document.createElement("script");i.src="//code-ya.jivosite.com/widget/43McEsqDSt",i.async=!0,i.addEventListener("error",n),document.body.append(i),window.jivo_onLoadCallback=()=>{e("setJivoStatus",bc.ready),s()}}))},sendJivoData({state:t,rootState:e,getters:s},{companyBlogUrl:n,userRole:i}){if(!Ac())return;window.jivo_api.setContactInfo({name:e.me.user.fullname,email:e.me.user.email});const a=[{title:"Название блога компании",content:t.companyInfo.titleHtml},{title:"Ссылка на блог",content:n},{title:"Логин пользователя",content:e.me.user.alias}];if(t.companyInfo.tariffData){const[e,s]=[t.companyInfo.tariffData.startedAt,t.companyInfo.tariffData.endedAt].map((t=>new Date(t).toLocaleDateString("ru-RU")));a.push({title:"Текущий тариф",content:t.companyInfo.tariffData.title},{title:"Срок действия текущего тарифа",content:`${e} - ${s}`})}i&&a.push({title:"Роль в панели администрирования",content:i&&s.getUserRoleTitle(i)}),window.jivo_api.setCustomData(a)},destroyJivo({commit:t}){Ac()&&(window.jivo_destroy(),t("setJivoStatus",bc.ready))}},getters:{getUserRoleTitle(t,e,s,n){return t=>n["i18n/msg"](yc[t])}}},Pc={state(){return{hubRefs:{},hubIds:{}}},getters:{getHubsContributionsByAlias:t=>e=>{const s=e.toLowerCase();return t.hubIds[s]?t.hubIds[s].map((e=>t.hubRefs[e])):[]}},mutations:{setHubsContribution(t,{hubs:e,key:s}){t.hubRefs={...t.hubRefs,...e.hubRefs},t.hubIds={...t.hubIds,[s]:e.hubIds}}}},Oc={namespaced:!0,modules:{contributionRefs:Pc},actions:{loadCompanyHubsContributions({state:t,commit:e},s){const n=s.toLowerCase();return t.contributionRefs.hubIds[n]?t.contributionRefs.hubIds[n]:(0,Ec.oP)(s).then((t=>{e("setHubsContribution",{hubs:t,key:n})}))}}},Rc={namespaced:!0,state(){return{messages:[],respondent:null,isLoadMore:!1}},mutations:{setMessages(t,e){t.messages=e},addMessage(t,e){t.messages.push(e)},setRespondent(t,e){t.respondent=e},setLoadMoreStatus(t,e){t.isLoadMore=e},cleanState(t){t.messages=[],t.respondent=null,t.isLoadMore=!1}},actions:{fillState({commit:t},{messages:e,respondent:s,isLoadMore:n}){t("setLoadMoreStatus",!!n),t("setMessages",e),t("setRespondent",s)},updateMassagesList({state:t,commit:e},{messages:s,isLoadMore:n}){const i=s.concat(t.messages);e("setLoadMoreStatus",!!n),e("setMessages",i)},addMessage({commit:t},e){t("addMessage",e)},cleanState({commit:t}){t("cleanState")}}},Nc={namespaced:!0,state(){return{conversations:[],unreadCount:0,pagesCount:0}},mutations:{setConversations(t,e){t.conversations=e},deleteConversation(t,e){t.conversations.splice(e,1)},setUnreadCount(t,e){t.unreadCount=e},setPagesCount(t,e){t.pagesCount=e},cleanState(t){t.conversations=[],t.pagesCount=0}},actions:{fillState({commit:t},{conversations:e,pagesCount:s}){t("setPagesCount",s),t("setConversations",e)},deleteConversation({commit:t},e){t("deleteConversation",e)},setUnreadCount({commit:t},{unreadCount:e}){t("setUnreadCount",e)},cleanState({commit:t}){t("cleanState")}}};var kc=s(50586),Mc=s(53452);let wc=0,xc=null;function Dc(t,e=300){return t()?(clearTimeout(xc),Promise.resolve(!0)):wc>=3?(clearTimeout(xc),Promise.resolve(!1)):new Promise(((s,n)=>{xc=setTimeout((()=>{wc+=1,Dc(t,e).then(s,n)}),e*wc)}))}const Bc=864e5,$c="habr_web_checked_desktop_state";function Fc(){if(!(0,Mc.rV)($c))return!1;const t=(0,kc.wN)((0,Mc.rV)($c)),e=Date.now()-t>Bc;return!e||((0,Mc.cl)($c),!1)}function Gc(){const t="e0044d29c024";return Boolean($l.Z[t])}function Uc(){const t="habrLogin";if($l.Z[t])return $l.Z[t]();const e="isLogined";return!!$l.Z[e]&&$l.Z[e]()}const Vc={namespaced:!0,state(){return{desktopFl:null,desktopHl:null,isChecked:Fc(),isLoginDemanded:!1}},mutations:{setChecked(t,e){t.isChecked=e},setIsLoginDemanded(t,e){t.isLoginDemanded=e},setDesktopHl(t,e){t.desktopHl=e},setDesktopFl(t,e){t.desktopFl=e}},actions:{checkDesktopState({dispatch:t,state:e}){return e.isChecked||e.me&&e.me.user?Promise.resolve(!1):Dc(Gc).then((()=>t("markAsChecked"))).then((()=>Promise.all([t("checkLogin")]))).then((([t])=>({shouldLogin:t})))},checkLogin({commit:t}){const e=Uc();return t("setIsLoginDemanded",e),e},markAsChecked({commit:t}){return(0,Mc.LS)($c,Date.now()),t("setChecked",!1),null}}};function Hc(t,e){return(0,ze.Hm)((0,Qe.k)(`docs/${t}/menu`,"v2"),e)}function Zc(t,e,s){return(0,ze.Hm)((0,Qe.k)(`docs/${t}/${e}`,"v2"),s)}function Wc(t){return(0,ze.Hm)((0,Qe.k)("docs/","v2"),t)}const Yc=t=>{const{alias:e,articleAlias:s}=t;return`${e}/${s}`},qc={namespaced:!0,state(){return{menu:{},articles:{},mainMenu:[],loading:{main:!1,dropdown:!1,article:!1}}},mutations:{setMenu(t,{alias:e,articlesList:s}){t.menu={...t.menu,[e]:s}},setArticle(t,{route:e,article:s}){t.articles={...t.articles,[Yc(e)]:s}},setMainMenu(t,e){t.mainMenu=e},setLoadingState(t,e){const{name:s,value:n}=e;t.loading[s]=n}},getters:{getMenuByAlias:t=>e=>t.menu[e],getArticleByAlias:t=>e=>t.articles[Yc(e)]},actions:{getDropdownList({commit:t,state:e,rootGetters:s},{alias:n}){return n?e.menu[n]?Promise.resolve():(t("setLoadingState",{name:"dropdown",value:!0}),Hc(n,s["i18n/langOptions"]).then((e=>{const{articlesList:s}=e;return t("setMenu",{alias:n,articlesList:s}),t("setLoadingState",{name:"dropdown",value:!1}),s}))):Promise.resolve()},getArticle({commit:t,state:e,rootGetters:s},n){const{alias:i,articleAlias:a}=n;if(!a)return Promise.resolve();const o=Yc(n);return e.articles[o]?Promise.resolve():(t("setLoadingState",{name:"article",value:!0}),Zc(i,a,s["i18n/langOptions"]).then((e=>{t("setArticle",{route:n,article:e}),t("setLoadingState",{name:"article",value:!1})})))},getMainMenu({state:t,commit:e,rootGetters:s}){return 0===t.mainMenu.length?(e("setLoadingState",{name:"main",value:!0}),Wc(s["i18n/langOptions"]).then((t=>{e("setMainMenu",t),e("setLoadingState",{name:"main",value:!1})}))):Promise.resolve()}}},jc={namespaced:!0,state(){return{isProbablyVisible:!1}},mutations:{setIsProbablyVisible(t,e){t.isProbablyVisible=e}}};var Kc=s(37522);const zc={namespaced:!0,state(){return{updates:{},flows:[]}},getters:{hasNewPostsBySubscription(t){return!!Object.keys(t.updates).length&&t.updates.countNewPostsBySubscription>0}},mutations:{setFlows(t,e){t.flows=e},setUpdates(t,e){t.updates=e}},actions:{loadFlows({commit:t,state:e}){return e.flows.length?Promise.resolve(e.flows):(t("setFlows",[]),ic().then((e=>(t("setFlows",e),e))))},loadUpdates({commit:t,rootGetters:e}){const s=e["i18n/langOptions"];return oc(s).then((e=>(t("setUpdates",e),e))).catch((t=>{(0,Kc.T)(t)}))},clearNewPostsBySubscription({state:t,commit:e}){const{updates:s}=t;s&&(s.countNewPostsBySubscription=0,e("setUpdates",s))}}},Qc={namespaced:!0,state(){return{isPwa:!1,device:null,isHabrCom:null}},getters:{isMobileOnly(t){return"mobile"===t.device},isMobile(t){return"mobile"===t.device||"tablet"===t.device},isTablet(t){return"tablet"===t.device},isDesktop(t){return"desktop"===t.device},isHabrCom(t){return!!t.isHabrCom}},mutations:{setPwaMode(t){t.isPwa=!0},setDevice(t,e){t.device=e},setIsHabrCom(t,e){t.isHabrCom=e}},actions:{initPwaMode({commit:t}){t("setPwaMode"),Al.W6||"serviceWorker"in navigator&&window.navigator.serviceWorker.ready.then((t=>{t.active.postMessage({runCache:!0})}))},setDevice({commit:t},{device:e}){t("setDevice",e)},setIsHabrCom({commit:t},{isHabrCom:e}){t("setIsHabrCom",e)}}},Xc={namespaced:!0,state(){return{hubRefs:{},hubIds:{},pagesCount:{},isLoading:!1,route:{}}},getters:{getHubByAlias:t=>e=>t.hubRefs[e.toLowerCase()]||null},mutations:{setHubRefs(t,e){t.hubRefs={...t.hubRefs,...e}},setHubIds(t,{routeKey:e,hubIds:s}){t.hubIds={...t.hubIds,[e]:s}},clearHubs(t,e){t.hubIds[e]&&(t.hubIds[e]=[])},setLoading(t,e){t.isLoading=e},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},setHubInfo(t,{hubAlias:e,hubInfo:s}){t.hubRefs={...t.hubRefs,[e]:s}},setSubscriptionStatus(t,{alias:e,isSubscribed:s}){t.hubRefs[e].relatedData.isSubscribed=s}},actions:{loadHubs({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1,flowAlias:s.params.flowName},{q:i}=s.query,a=i?rc.PL:rc._C,o=(0,gn.Z)(s),r=t.hubIds[o],l=Boolean(Object.keys(s.query).length),c=JSON.stringify(t.route.query)===JSON.stringify(s.query);return!(!(r&&r.length&&c)||i)||(l&&!c&&e("clearHubs",o),e("setLoading",!0),a(n).then((({hubRefs:t,hubIds:n,pagesCount:a})=>(e("setHubRefs",t),e("setHubIds",{routeKey:o,hubIds:n}),e("setPagesCount",{routeKey:o,pagesCount:i?1:a}),e("setRouteCache",s),e("setLoading",!1),{hubRefs:t,hubIds:n,pagesCount:a}))))},searchHubs({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1},i=(0,gn.Z)(s),a=JSON.stringify(t.route.query)===JSON.stringify(s.query),o=Boolean(Object.keys(s.query).length);return o&&!a&&e("clearHubs",i),e("setLoading",!0),(0,rc.PL)(n).then((({hubRefs:t,hubIds:n,pagesCount:a})=>(e("setHubRefs",t),e("setHubIds",{routeKey:i,hubIds:n}),e("setPagesCount",{routeKey:i,pagesCount:a}),e("setRouteCache",s),e("setLoading",!1),{hubRefs:t,hubIds:n,pagesCount:a})))},loadHub({rootGetters:t,state:e,commit:s},{alias:n}){const i=t["i18n/langOptions"],a=n.toLowerCase(),o=e.hubRefs[a],r=o&&o.fullDescriptionHtml,l=t["pullRefresh/getRefreshState"];return r&&!l?Promise.resolve(o):(0,rc.dx)(n,i).then((t=>(s("setHubInfo",{hubInfo:t,hubAlias:a}),t)))},toggleSubscribeStatus({commit:t,state:e},s){const n=s.toLowerCase(),{isSubscribed:i}=e.hubRefs[n].relatedData,a=!i;return t("setSubscriptionStatus",{alias:n,isSubscribed:a}),(0,rc.PY)(s).catch((()=>{t("setSubscriptionStatus",{alias:n,isSubscribed:!a})}))}}},Jc={namespaced:!0,state(){return{hubRefs:{},hubIds:{}}},getters:{getBlockHubsListByAlias:t=>(e="all")=>t.hubIds[e]?t.hubIds[e].map((e=>t.hubRefs[e])):[]},mutations:{setHubsBlock(t,{hubs:e,flowName:s}){t.hubRefs={...t.hubRefs,...e.hubRefs},t.hubIds={...t.hubIds,[s]:e.hubIds}}},actions:{loadHubsBlock({state:t,commit:e},{flowName:s="all"}){const n={page:1,flowAlias:"all"===s?null:s,perPage:10};return t.hubIds[s]?t.hubIds[s]:(0,rc._C)(n).then((t=>(e("setHubsBlock",{hubs:t,flowName:s}),t.hubIds)))}}};var tm=s(21540),em=s.n(tm),sm=s(32773),nm=s(13091);let im;function am(t){im=t}function om(t,e,s){if(!im)return"▇▅▄▅▅▄ ▇▄▅";const n=im[t];if(!n)return(0,nm.Z)(e,new Error(`Language "${t}" is not present in the locales cache`)),"▇▅▄▅▅▄ ▇▄▅";const i=n[e];try{const e=new sm.ZP(i,t,null,{ignoreTag:!0});return e.format(s)}catch(se){return(0,nm.Z)(e,se),"▇▅▄▅▅▄ ▇▄▅"}}const rm={en:"en_US",ru:"ru_RU"},lm={namespaced:!0,state(){return{fl:null,hl:null}},getters:{isEnglishContentEnabled:t=>t.fl&&t.fl.indexOf("en")>-1,isRussianContentEnabled:t=>t.fl&&t.fl.indexOf("ru")>-1,langOptions:t=>({fl:t.fl,hl:t.hl}),currentLocale:(t,e)=>rm[e.langOptions.hl],msg(t,e){return(t,s={})=>om(e.langOptions.hl,t,s)},pageTitle(t,e){return(...t)=>em()([...t.filter(Boolean),e.msg("SITENAME")].join(" / "))}},mutations:{setFl(t,e){t.fl=e},setHl(t,e){t.hl=e},setLangParams(t,{fl:e,hl:s}){t.fl=e,t.hl=s}}};function cm(t,e){return(0,ze.Hm)((0,Qe.k)(`info${t}`),e)}const mm={namespaced:!0,state(){return{infoPage:{},isLoading:!0}},getters:{infoPage:t=>e=>{const s=e.params.topic?`${e.params.section}-${e.params.topic}`:`${e.params.section}-index`;return t.infoPage[s]},getInfoPage:t=>e=>t.infoPage[e]||null},mutations:{setInfo(t,e){t.infoPage={...t.infoPage,...e}},setIsLoading(t,e){t.isLoading=e}},actions:{loadInfoPage({commit:t,getters:e,rootGetters:s},{route:n}){const{section:i,topic:a}=n.params,o=a?`${i}-${a}`:`${i}-index`;let r="";return i&&(r=`/${i}`),i&&a&&(r=`/${i}/${a}`),e.getInfoPage(o)?e.getInfoPage(o):(t("setIsLoading",!0),cm(r,s["i18n/langOptions"]).then((({data:e})=>(t("setIsLoading",!1),t("setInfo",{[o]:e}),e))))}}};s(8575);const um={namespaced:!0,state(){return{urlStruct:(0,Ke.au)((0,Ke.j4)())}},mutations:{setUrl(t,e){t.urlStruct=e}},actions:{updateUrl({commit:t},{route:e}){const s=(0,Ke.j4)()||e.fullPath,n=(0,Ke.au)(s);n.path=e.path,n.pathname=e.path,Object.assign(n.query,e.query),delete n.search,t("setUrl",n)}}},dm={namespaced:!0,state(){return{mostReadingListIds:[],mostReadingListRefs:null,promoPost:null}},getters:{mostReadingList:t=>t.mostReadingListIds.map((e=>t.mostReadingListRefs[e]))},mutations:{setMostReadingList(t,{articleIds:e,articleRefs:s}){t.mostReadingListIds=e,t.mostReadingListRefs=s},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.mostReadingListRefs[e],{relatedData:i,statistics:a}=n;a.favoritesCount=s?a.favoritesCount+1:a.favoritesCount-1,i.bookmarked=s},setPromoPost(t,e){t.promoPost=e}},actions:{loadMostReadingList({commit:t,getters:e,rootGetters:s}){return e.mostReadingList.length?e.mostReadingList:(0,wn.TH)(s["i18n/langOptions"]).then((e=>{t("setMostReadingList",e)}))}}};function pm(t){return(0,ze.Hm)((0,Qe.k)("pinned-post"),t)}const _m={namespaced:!0,state(){return{pinnedPost:null}},mutations:{setPinnedPost(t,e){t.pinnedPost=e},setExpanded(t,e){t.pinnedPost={...t.pinnedPost,expanded:e}}},actions:{loadPinnedPost({state:t,commit:e}){return t.pinnedPost?Promise.resolve():pm().then((t=>{e("setPinnedPost",t)}))},setExpanded({commit:t},e){t("setExpanded",e)}}};var hm=s(62965);const gm={namespaced:!0,state(){return{articles:{},card:null,transactions:null,totalTransactions:null,isAccessible:null}},mutations:{setArticle(t,{articleAlias:e,article:s}){t.articles={...t.articles,[e]:s}},setCard(t,{ppaCard:e,isAccessible:s}){t.card=e,t.isAccessible=s},patchCard(t,e){t.card={...t.card,...e}},setTransactions(t,{transactions:e,pagesCount:s}){t.transactions=e,t.totalTransactions=s},updateTest(t,e){t.test.test=e}},getters:{getArticleByAlias:t=>e=>t.articles[e],isJustCreated:t=>t.card&&"just_created"===t.card.status},actions:{getArticle({commit:t,state:e,rootGetters:s},n){const i=s["i18n/langOptions"];return e.articles[n]?Promise.resolve():(0,hm.qK)(n,i).then((e=>{t("setArticle",{articleAlias:n,article:e})}))},getCard({state:t,commit:e,rootGetters:s}){if(t.card)return Promise.resolve();const n=s["me/userAlias"];return(0,hm.pV)(n).then((({ppaCard:t,isAccessible:s})=>{e("setCard",{ppaCard:t,isAccessible:s})}))},getTransactions({state:t,commit:e,rootGetters:s},n){if(t.transactions)return Promise.resolve();const i=s["me/userAlias"];return(0,hm.ny)(i,n).then((({transactions:t,pagesCount:s})=>{e("setTransactions",{transactions:t,pagesCount:s})}))},postWithdrawEnabled({commit:t},e){return t("patchCard",{withdrawEnabled:e}),(0,hm.Zx)(e)},joinPpa({dispatch:t}){return(0,hm.s5)().then((()=>t("getCard")))}}},Tm=t=>{if(0===t.length)return null;const e=t.slice(0).sort((([,t],[,e])=>t-e)),s=100*Math.random();let n=0,i=t[0][0];return e.forEach((([t,e])=>{n<=s&&(i=t),n+=e})),i},vm={namespaced:!0,state(){return{activeBlocks:{}}},mutations:{registerBlock(t,{name:e,id:s}){t.activeBlocks={...t.activeBlocks,[e]:s}},unregisterBlock(t,e){t.activeBlocks={...t.activeBlocks,[e]:""}}},getters:{getRandomBlockName(t){return e=>{const s=e.filter((e=>!t.activeBlocks[e])).map(((t,e,s)=>[t,Math.floor(100/s.length)]));return Tm(s)}},getRegisteredBlockById(t){return e=>Object.keys(t.activeBlocks).find((s=>t.activeBlocks[s]===e))}}},fm={namespaced:!0,state:{isLoading:!1,hasLoaded:!1,featurer:null,megaposts:null,promoLinks:null,promoPosts:null},mutations:{setLoadingFlag(t,e){t.isLoading=e,e||(t.hasLoaded=!0)},savePromoData(t,e){Object.keys(e).forEach((s=>{t[s]=e[s].adverts}))}},actions:{loadPromoData({rootGetters:t,commit:e}){const{fl:s,hl:n}=t["i18n/langOptions"],i=n,a=s.split(","),o={version:"1.0",queries:{promoPosts:{type:"promopost",filter:{langs:a},count:3,view:{lang:i}},featurer:{type:"featurer",view:{lang:i}},megaposts:{type:"megapost",filter:{langs:a},count:1},promoLinks:{type:"promolink",filter:{langs:a},count:2,view:{lang:i}}}};return e("setLoadingFlag",!0),(0,w.H)(o).then((t=>{t&&t.results&&e("savePromoData",t.results)})).finally((()=>{e("setLoadingFlag",!1)}))}},getters:{feature({featurer:t}){return t&&t.length?t[0]:null},topLinkPost({megaposts:t}){return t&&t.length?t[0]:null},promoBlockPosts({promoPosts:t}){return t&&t.length?t:null},mostReadingPromoLink({promoLinks:t}){return t&&t.length?t[0]:null},dailyTopPromoLink({promoLinks:t},{mostReadingPromoLink:e}){return t&&t.length>1?t[1]:e}}},Sm={namespaced:!0,state(){return{shouldRefresh:!1}},mutations:{setRefresh(t,e){t.shouldRefresh=e}},getters:{getRefreshState(t){return t.shouldRefresh}},actions:{toggleRefresh({commit:t},e){t("setRefresh",e)}}};function Em(t,e){switch(t.name){case"NEW_AUTHORS_ARTICLES_LIST":case"NEW_AUTHORS_ARTICLES_LIST_PAGES":return{sandbox:"new_authors_posts"};case"AWAIT_INVITE_AUTHORS_ARTICLES_LIST":case"AWAIT_INVITE_AUTHORS_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_invite_posts"};case"MOST_IMPORTANT_SANBOX_INFO":return{sandbox:"new_authors_posts",perPage:5};case"AWAIT_MODERATION_ARTICLES_LIST":case"AWAIT_MODERATION_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_approval_posts"};case"MY_SANDBOX_ARTICLES_LIST":case"MY_SANDBOX_ARTICLES_LIST_PAGES":case"ARTICLES_LIST_SANDBOX_BY_USER":case"ARTICLES_LIST_SANDBOX_BY_USER_PAGES":return{sandbox:"by_author",userAlias:e};default:return{}}}const Cm={namespaced:!0,state(){return{articleIds:[],articleRefs:{},pagesCount:null,route:{},lastVisitedRoute:{},isLoading:!1}},getters:{getArticlesByRouteKey:t=>e=>{const s=t.articleIds[e]||[];return s.map((e=>t.articleRefs[e]))},getArticleById:t=>e=>t.articleRefs[e]||{}},mutations:{setArticles(t,{articleIds:e,articleRefs:s}){t.articleRefs={...t.articleRefs,...s},t.articleIds={...t.articleIds,...e}},setArticle(t,{article:e}){t.articleRefs={...t.articleRefs,[e.id]:e}},setPagesCount(t,e){t.pagesCount={...t.pagesCount,...e}},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setLastVisitedRoute(t,e){t.lastVisitedRoute=e},setLoading(t,e){t.isLoading=e},removeArticleFromList(t,e,s){const n=t.articleIds[e].findIndex((({id:t})=>s===t));t.articleIds[e].splice(n,1)},clearArticles(t,e){delete t.articleIds[e]}},actions:{loadArticleslist({commit:t,state:e,rootGetters:s},{route:n,force:i}){const a=(0,gn.Z)(n),o=e.articleIds[a],r=Boolean(Object.keys(n.query).length),l=JSON.stringify(e.route.query)===JSON.stringify(n.query),c=s["pullRefresh/getRefreshState"];if(o&&l&&!c&&!i)return!0;(r&&!l||c||i)&&t("clearArticles",a),t("setLoading",!0);const m=n.params.userAlias||s["me/userAlias"],u=s["me/isLoggedIn"],d=(0,wn.rM)({...Em(n,m),...s["i18n/langOptions"],page:n.params.pageNum||1}),p=u?d.then((({articleIds:t})=>t&&t.length?(0,wn.YM)({articleIds:t.join(",")}):Promise.resolve([]))):[];return Promise.all([d,p]).then((([{articleIds:e,articleRefs:s,pagesCount:i},{notes:o}])=>{const r={[a]:e},l={[a]:i};return o&&o.length&&o.forEach((t=>{s[t.postId].moderationComment=t})),t("setArticles",{articleIds:r,articleRefs:s}),t("setPagesCount",l),t("setRouteCache",n),t("setLoading",!1),{articleIds:e,articleRefs:s,pagesCount:i}}))},loadArticle({commit:t,rootGetters:e,state:s},{force:n,route:i,snippetOnly:a}){const o=i.params.id,r=s.articleRefs&&s.articleRefs[o],l=e["pullRefresh/getRefreshState"],c=e["me/isLoggedIn"];return!r||n||l||!r.textHtml&&!a?Promise.all([(0,wn.fq)(o,{...e["i18n/langOptions"],isSandbox:!0}),...c?[(0,wn.YM)({articleIds:[o]})]:[]]).then((([e,s])=>{const n=s&&s.notes.length?s.notes[0]:null;return t("setArticle",{article:{...e,moderationComment:n}}),t("setRouteCache",i),e})):Promise.resolve()},updateArticlesList({commit:t},{route:e,id:s}){const n=(0,gn.Z)(e);t("removeArticleFromList",n,s)},setLastVisitedRoute({commit:t},e){t("setLastVisitedRoute",e)}}},Im={namespaced:!0,state:{searchQueryError:null},mutations:{setSearchQueryError(t,e){t.searchQueryError=e}}};var bm=s(46100);const Am={namespaced:!0,state(){return{inputs:{...(0,bm.j)(["uiLang"],""),...(0,bm.j)(["articlesLangEnglish","articlesLangRussian"],!1),...(0,bm.j)(["agreement"],!1),...(0,bm.j)(["email"],!0),...(0,bm.j)(["digest"],!0)}}},getters:{formData:({inputs:t})=>({fl:[t.articlesLangEnglish.value?"en":"",t.articlesLangRussian.value?"ru":""].filter(Boolean).join(","),hl:t.uiLang.value,agreement:t.agreement.value,email:t.email.value,digest:t.digest.value})},mutations:{setInputValue(t,{name:e,value:s}){t.inputs[e].value=s}},actions:{setInputValue({commit:t},{name:e,value:s}){t("setInputValue",{name:e,value:s})}}},ym={namespaced:!0,state(){return{similarListIds:[],similarListRefs:null}},getters:{similarList:t=>t.similarListIds.map((e=>t.similarListRefs[e]))},mutations:{setSimilarList(t,{articleIds:e,articleRefs:s}){t.similarListIds=e,t.similarListRefs=s},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.similarListRefs[e],{relatedData:i,statistics:a}=n;a.favoritesCount=s?a.favoritesCount+1:a.favoritesCount-1,i.bookmarked=s}},actions:{loadSimilarList({commit:t,rootGetters:e},{articleId:s}){return(0,wn.lA)(s,e["i18n/langOptions"]).then((e=>(t("setSimilarList",e),e)))}}},Lm={namespaced:!0,state(){return{error:null,isDataLoaded:!1,isDataLoading:!1,isHydrationFailed:!1,isServer:!1}},getters:{isServer(t){return t.isServer},error(t){return t.error}},mutations:{setDataLoaded(t,e){t.isDataLoaded=e},setDataLoading(t,e){t.isDataLoading=e},setEnvironment(t,e){t.isServer=e},setError(t,e){t.error=e},setHydrationFailed(t,e){t.isHydrationFailed=e},setI18nLoaded(t,e){t.isI18nLoaded=e}},actions:{markDataLoaded({commit:t}){t("setDataLoaded",!0),t("setDataLoading",!1)},markDataLoading({commit:t}){t("setDataLoading",!0)},markHydrationFailed({commit:t}){t("setHydrationFailed",!0)},setSsrError({commit:t},e){t("setDataLoaded",!0),t("setDataLoading",!1),t("setError",e)},showError({commit:t},{error:e}){return t("setError",e),t("setI18nLoaded",!0),Promise.reject(e)},reset({commit:t}){t("setDataLoaded",!1),t("setI18nLoaded",!1),t("setError",null)}}};function Pm(t){return(0,ze.Hm)((0,Qe.k)("stories"),t)}const Om={namespaced:!0,state:{stories:null},mutations:{saveStories(t,e){t.stories=e}},actions:{loadStories({rootGetters:t,commit:e}){const s=t["i18n/langOptions"];return Pm(s).then((t=>{e("saveStories",t)}))}},getters:{stories(t){return t.stories}}},Rm={namespaced:!0,mutations:{setTechnotextInfo(t,e){t.technotextInfo=e},setTechnotextInfoLoading(t,e){t.technotextInfoLoading=e},setTechnotextWinnersLoading(t,e){t.technotextWinnersLoading=e},setTechnotextWinners(t,e){t.technotextWinners=e},setYears(t,e){t.years=e},setTechnotextDocForNominees(t,e){t.technotextDocForNominees=e},setTechnotextDocForWinners(t,e){t.technotextDocForWinners=e}},getters:{currentTechnotextApplicationUrl(t){return Boolean(t.technotextInfo&&t.technotextInfo.isActive)&&t.technotextInfo.applicationUrl},docForNominees(t){return t.technotextDocForNominees},docForWinners(t){return t.technotextDocForWinners}},state(){return{years:[],technotextDocForNominees:null,technotextDocForWinners:null,technotextInfo:{},technotextInfoLoading:!1,technotextWinners:{},technotextWinnersLoading:!1}},actions:{loadTechnotextWinners({commit:t},{year:e}){return t("setTechnotextWinners",{}),t("setTechnotextWinnersLoading",!0),Vr(e).then((e=>{t("setTechnotextWinners",e)}))},loadTechnotextYears({commit:t,state:e}){return e.years.length?e.years:Ur().then((({technotexts:e})=>{t("setYears",e)}))},loadTechnotextInfo({commit:t,rootGetters:e,state:s},{year:n}){if(s.technotextInfo.year===n)return null;t("setTechnotextInfo",{}),t("setTechnotextDocForNominees",null),t("setTechnotextDocForWinners",null),t("setTechnotextInfoLoading",!0);const i=e["i18n/langOptions"];return Gr(n,{...i}).then((e=>{t("setTechnotextInfo",e);const s=[],n=e.docForNominees,a=(n||"").split("/");a[0]&&a[1]&&s.push(Zc(a[0],a[1],{...i}).then((e=>{t("setTechnotextDocForNominees",e)})).catch((()=>null)));const o=e.docForWinners,r=(o||"").split("/");return r[0]&&r[1]&&s.push(Zc(r[0],r[1],{...i}).then((e=>{t("setTechnotextDocForWinners",e)})).catch((()=>null))),Promise.all(s)})).finally((()=>{t("setTechnotextInfoLoading",!1)}))}}};var Nm=s(70109);const km={namespaced:!0,state(){return{items:{},pagesCache:{},markedViewedSilently:{},markedRead:{},unreadCounters:{applications:null,system:null,mentions:null,subscribers:null,posts_and_comments:null},unviewedCounters:{applications:null,system:null,mentions:null,subscribers:null,posts_and_comments:null}}},mutations:{setNotificationItems(t,e){t.items={...t.items,...e}},setNotificationsList(t,{itemIds:e,pagesCount:s,cacheKey:n}){t.pagesCache={...t.pagesCache,[n]:{itemIds:e,pagesCount:s}}},setUnreadCounters(t,e){t.unreadCounters=e},setUnviewedCounters(t,e){t.unviewedCounters=e},markViewedSilently(t,e){e.forEach((e=>{t.markedViewedSilently={...t.markedViewedSilently,[e]:!0}}))},markRead(t,e){e.forEach((e=>{t.markedRead={...t.markedRead,[e]:!0}}))},markAllRead(t){Object.values(t.items).forEach((t=>{t.unread=!1}))}},actions:{loadNotifications({commit:t},{params:e,cacheKey:s}){return(0,Nm.TH)(e).then((e=>{const{itemRefs:n,itemIds:i,pagesCount:a,unreadCounters:o,unviewedCounters:r}=e;t("setNotificationItems",n),t("setNotificationsList",{itemIds:i,pagesCount:a,cacheKey:s}),t("setUnviewedCounters",r),t("setUnreadCounters",o)}))},markViewedSilently({commit:t},e){return(0,Nm.BX)({ids:e}).then((({unviewedCounters:s})=>{t("markViewedSilently",e),t("setUnviewedCounters",s)}))},markRead({commit:t},e){return(0,Nm.aK)({ids:e}).then((({unreadCounters:s})=>{t("markRead",e),t("setUnreadCounters",s)}))},markAllRead({commit:t}){return(0,Nm.aK)({ids:[]}).then((({unreadCounters:e})=>{t("markAllRead"),t("setUnreadCounters",e)}))}},getters:{getNotifications(t){return e=>(t.pagesCache[e]||{itemIds:[]}).itemIds.map((e=>t.items[e]))},getPagesCount(t){return e=>(t.pagesCache[e]||{pagesCount:0}).pagesCount},getUnreadCount(t){return e=>"all"===e?Object.values(t.unreadCounters).reduce(((t,e)=>t+(e||0)),0):t.unreadCounters[e]},getUnviewedCount(t){return Object.values(t.unviewedCounters).reduce(((t,e)=>t+e||0),0)},isMarkedViewed:t=>e=>!e.unviewed||e.id in t.markedViewedSilently,isMarkedRead:t=>e=>!e.unread||e.id in t.markedRead}};var Mm=s(1615);const wm={namespaced:!0,state(){return{user:null,ppgDemanded:!1,karmaResetInfo:{canReincarnate:null,wasReincarnated:null,currentScore:null},notes:null}},getters:{isLoggedIn(t){return Boolean(t.user)},isSuperAdmin(t){return t.user&&-1!==t.user.groups.indexOf("super")},isCorrector(t){return t.user&&-1!==t.user.groups.indexOf("corrector")},isModerator(t){return t.user&&-1!==t.user.groups.indexOf("moderator")},isReadOnly(t){return t.user&&-1!==t.user.groups.indexOf("readonly")},isReadOnlyOrReadAndComment(t){return t.user&&(-1!==t.user.groups.indexOf("readonly")||-1!==t.user.groups.indexOf("comments_manual")||-1!==t.user.groups.indexOf("comments"))},userAlias(t){return t.user&&t.user.alias},userShowAdv(t){return!t.user||t.user&&!t.user.settings.miscSettings.hideAdv},userGaType(t,e){return e.isLoggedIn?-1!==t.user.groups.indexOf("comments_manual")||-1!==t.user.groups.indexOf("comments")?"readcomment":-1!==t.user.groups.indexOf("readonly")?"readonly":"habrauser":"guest"},ppaBalance(t){return t.user?t.user.ppaBalance:null},lastKarmaResetDate:t=>t.karmaResetInfo.wasReincarnated,karmaResetScore:t=>t.karmaResetInfo.currentScore,canCancelKarmaReset:({karmaResetInfo:t})=>t.canReincarnate,notesList:t=>t.notes?t.notes.noteIds.map((e=>t.notes.noteRefs[e])):[],notesPagesCount:t=>t.notes&&t.notes.pagesCount,rssKey(t){return t.user&&t.user.rssKey},companiesAdmin(t){return t.user&&t.user.companiesAdmin},hasJoinedBetaTesting(t){return t.user&&t.user.groups.includes("tester")},canSendComplaint(t,e){return t.user&&t.user.settings.permissionSettings.canAddComplaints||e.isSuperAdmin},notices(t){return t.user?t.user.notices:[]},canPostVoice(t){return t.user&&t.user.settings.permissionSettings.canCreateVoices},useMarkdown(t){return t.user&&t.user.settings.miscSettings.useMarkdown}},mutations:{setUser(t,e){t.user=e},setPPGDemanded(t,e){t.ppgDemanded=e},setChargeSettings(t,e){t.user.settings.chargeSettings=e},decrementPostsCharge(t){t.user.settings.chargeSettings={...t.user.settings.chargeSettings,postVoteCount:t.user.settings.chargeSettings.postVoteCount-1}},decrementCommentsCharge(t){t.user.settings.chargeSettings={...t.user.settings.chargeSettings,commentVoteCount:t.user.settings.chargeSettings.commentVoteCount-1}},setKarmaResetInfo(t,e){t.karmaResetInfo=e},setUserNotes(t,e){t.notes=e},setHasJoinedBetaTesting(t,e){if(e){const e=new Set(t.user.groups);e.add("tester"),t.user.groups=Array.from(e)}else t.user.groups=t.user.groups.filter((t=>"tester"!==t))},setAvailableInvitesCount(t,e){t.user.availableInvitesCount=e},setUserUseMarkdown(t,e){t.user.settings.miscSettings.useMarkdown=e}},actions:{init({commit:t,getters:e,dispatch:s},n){return e.isLoggedIn&&!n?Promise.resolve(null):(0,Mm.jo)().then((e=>e?(t("setUser",e),e.ppg&&t("setPPGDemanded",!0),s("logUserToGA"),e):null))},loadKarmaResetInfo({commit:t}){return(0,Mm.t)().then((e=>{t("setKarmaResetInfo",e)}))},cancelKarmaReset({dispatch:t}){return(0,Mm.J5)().then((()=>t("loadKarmaResetInfo")))},resetKarma({dispatch:t}){return(0,Mm.lW)().then((()=>t("loadKarmaResetInfo")))},loadMyUserNotes({commit:t},{route:e}){const s={page:e.params.pageNum||1};return(0,Mm.TR)(s).then((e=>{t("setUserNotes",e)}))},toggleBetaTestParticipation({commit:t}){return Tc().then((({betaTester:e})=>{t("setHasJoinedBetaTesting",e)}))},setPPGDemanded({commit:t},e){t("setPPGDemanded",e)},issueInviteByUserAlias({state:t,commit:e},s){return(0,yl.HM)(s).then((()=>{e("setAvailableInvitesCount",t.user.availableInvitesCount-1)}))},updateUseMarkdown({commit:t},e){return(0,yl.K9)(e).then((e=>{t("setUserUseMarkdown",e.useMarkdown)}))}}},xm={namespaced:!0,modules:{contributionRefs:Pc},actions:{loadUserHubsContributions({state:t,commit:e},{login:s}){const n=s,i=n.toLowerCase(),a={page:1,perPage:10};return t.contributionRefs.hubIds[i]?t.contributionRefs.hubIds[i]:(0,yl.V6)(n,a).then((t=>{e("setHubsContribution",{hubs:t,key:i})}))}}},Dm={namespaced:!0,state(){return{availableInvites:0,usedInvitesIds:[],usedInvitesRefs:{},usedInvitesPagesCount:0,unusedInvitesIds:[],unusedInvitesRefs:{},unusedInvitesPagesCount:0}},getters:{usedInvites:t=>t.usedInvitesIds.length?t.usedInvitesIds.map((e=>t.usedInvitesRefs[e])):[],unusedInvites:t=>t.unusedInvitesIds.length?t.unusedInvitesIds.map((e=>t.unusedInvitesRefs[e])):[]},mutations:{setAvailableInvites(t,e){t.availableInvites=e},setUsedInvites(t,{userIds:e,userRefs:s,pagesCount:n}){t.usedInvitesIds=e,t.usedInvitesRefs={...t.usedInvitesRefs,...s},t.usedInvitesPagesCount=n},setUnusedInvites(t,{inviteIds:e,inviteRefs:s,pagesCount:n}){t.unusedInvitesIds=e,t.unusedInvitesRefs={...t.unusedInvitesRefs,...s},t.unusedInvitesPagesCount=n},revokeInvite(t,e){t.unusedInvitesIds.splice(e,1)},clearState(t){t.availableInvites=0,t.sedInvitesIds=[],t.usedInvitesRefs=null,t.usedInvitesPagesCount=0,t.unusedInvitesIds=[],t.unusedInvitesRefs=null,t.unusedInvitesPagesCount=0}},actions:{loadInvitesList({commit:t}){return Promise.all([(0,Mm.sE)(),(0,Mm.KW)(),(0,Mm.iX)()]).then((([e,s,n])=>{const{availableInvitesCount:i}=e;return t("setAvailableInvites",i),t("setUsedInvites",s),t("setUnusedInvites",n),{usedInvites:s,unusedInvites:n}}))},loadMoreUsedInvites({commit:t,state:e},s){return(0,Mm.KW)(s).then((s=>{const n=[...e.usedInvitesIds,...s.userIds];t("setUsedInvites",{...s,userIds:n})}))},loadMoreUnusedInvites({commit:t,state:e},s){return(0,Mm.iX)(s).then((s=>{const n=[...e.unusedInvitesIds,...s.inviteIds];t("setUnusedInvites",{...s,inviteIds:n})}))},putInvite({commit:t},e){return(0,Mm.HM)(e).then((({inviteCount:e})=>{t("setAvailableInvites",e)}))},revokeInvite({commit:t},{id:e,index:s}){return(0,Mm.jA)(e).then((({inviteCount:e})=>{t("setAvailableInvites",e),t("revokeInvite",s)}))},clearState({commit:t}){t("clearState")}}},Bm={namespaced:!0,state(){return{karmaVotesList:[],karmaVotesPagesCount:null,karmaVotesListLoading:!1,commentsVotesList:[],commentsVotesPagesCount:null,commentsVotesListLoading:!1,postsVotesList:[],postsVotesPagesCount:null,postsVotesListLoading:!1,userVotesList:[],userVotesPagesCount:null,userVotesListLoading:!1}},mutations:{setKarmaVotesListLoading(t,e){t.karmaVotesListLoading=e},setKarmaVotes(t,{votes:e,pagesCount:s}){t.karmaVotesList=e,t.karmaVotesPagesCount=s},setCommentsVotesListLoading(t,e){t.commentsVotesListLoading=e},setCommentsVotes(t,{list:e,pagesCount:s}){t.commentsVotesList=e,t.commentsVotesPagesCount=s},setVotedCommentFavorite(t,{commentId:e,isFavorite:s}){const n=t.commentsVotesList.find((({id:t})=>e===t));n.isFavorite=s},setPostsVotesListLoading(t,e){t.postsVotesListLoading=e},setPostsVotes(t,{list:e,pagesCount:s}){t.postsVotesList=e,t.postsVotesPagesCount=s},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.postsVotesList.find((({id:t})=>t===e));if(!n)return;const{relatedData:i,statistics:a}=n;a.favoritesCount=s?a.favoritesCount+1:a.favoritesCount-1,i.bookmarked=s},setUserVotes(t,{votes:e,pagesCount:s}){t.userVotesList=e,t.userVotesPagesCount=s},setUserVotesListLoading(t,e){t.userVotesListLoading=e}},actions:{loadKarmaVotes({commit:t},{login:e,query:s}){return t("setKarmaVotesListLoading",!0),(0,yl.GL)(e,s).then((e=>{t("setKarmaVotes",e)})).finally((()=>{t("setKarmaVotesListLoading",!1)}))},loadCommentsVotes({commit:t},{login:e,query:s}){return t("setCommentsVotesListLoading",!0),(0,yl.yG)(e,s).then((e=>{t("setCommentsVotes",{list:e.postCommentIds.map((t=>e.postCommentRefs[t])),pagesCount:e.pagesCount})})).finally((()=>{t("setCommentsVotesListLoading",!1)}))},setVotedCommentFavorite({commit:t},{commentId:e,isFavorite:s}){return s?(0,Cl._p)(e).then((()=>{t("setVotedCommentFavorite",{commentId:e,isFavorite:s})})):(0,Cl.zm)(e).then((()=>{t("setVotedCommentFavorite",{commentId:e,isFavorite:s})}))},loadPostsVotes({commit:t},{login:e,query:s}){return t("setPostsVotesListLoading",!0),(0,yl.Hm)(e,s).then((e=>{t("setPostsVotes",{list:e.articleIds.map((t=>e.articleRefs[t])),pagesCount:e.pagesCount})})).finally((()=>{t("setPostsVotesListLoading",!1)}))},loadUserVotes({commit:t},{login:e,query:s}){return t("setUserVotesListLoading",!0),(0,yl.Yv)(e,s).then((e=>{t("setUserVotes",e)})).finally((()=>{t("setUserVotesListLoading",!1)}))}}},$m={namespaced:!0,state(){return{authorRefs:{},authorIds:{},pagesCount:{},authorProfiles:{},userHubs:{},userInvitations:{},authorFollowers:{},authorFollowed:{},userSpecialization:{},karmaStats:[],statistics:null,isLoading:!1,authorFollowersLoading:!1,authorFollowedLoading:!1,userHubsLoading:!1,userInvitationsLoading:!1,route:{}}},getters:{getUserByAlias:t=>e=>t.authorRefs[e.toLowerCase()]||null,getProfileInfo:t=>e=>t.authorProfiles[e.toLowerCase()]||null,getUserInvitations:t=>e=>t.userInvitations[e.toLowerCase()]||null,getUserHubs:t=>e=>t.userHubs[e.toLowerCase()]||null,getUserSpecialization:t=>e=>t.userSpecialization[e.toLowerCase()]||null},mutations:{setAuthorRefs(t,e){t.authorRefs={...t.authorRefs,...e}},setAuthorIds(t,{routeKey:e,authorIds:s}){t.authorIds={...t.authorIds,[e]:s}},setUserInfo(t,{userAlias:e,userData:s}){const n=e.toLowerCase();t.authorRefs={...t.authorRefs,[n]:{...t.authorRefs[n],...s}}},setUserKarmaData(t,{userAlias:e,karmaData:s}){t.authorRefs={...t.authorRefs,[e]:{...t.authorRefs[e],scoreStats:s.scoreStats,relatedData:{...t.authorRefs[e].relatedData,vote:s.vote}}}},setProfileInfo(t,{profileData:e,userAlias:s}){t.authorProfiles={...t.authorProfiles,[s]:{...t.authorProfiles[s],...e}}},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},clearAuthors(t,e){t.authorIds[e]&&(t.authorIds[e]=[])},setLoading(t,e){t.isLoading=e},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setSubscriptionStatus(t,{alias:e,isSubscribed:s}){t.authorRefs[e.toLowerCase()].relatedData.isSubscribed=s},setFollowersCount(t,{alias:e,count:s}){t.authorRefs[e].followStats.followersCount=s},setUsersStatisticsData(t,e){t.statistics=e},setUsersKarmaStatsData(t,e){t.karmaStats=e},setUserFollowers(t,{alias:e,data:s}){t.authorFollowers={...t.authorFollowers,[e]:s}},setUserFollowersLoading(t,e){t.authorFollowersLoading=e},setUserFollowed(t,{alias:e,data:s}){t.authorFollowed={...t.authorFollowed,[e]:s}},setUserFollowedLoading(t,e){t.authorFollowedLoading=e},setUserInvitationsLoading(t,e){t.userInvitationsLoading=e},setUserInvitations(t,{invitations:e,alias:s,page:n}){const i=t.userInvitations[s]||{},a=i.invitationsRefs||{};t.userInvitations={...t.userInvitations,[s]:{invitationsRefs:{...a,...e.userRefs},pagesCount:e.pagesCount,currentPage:n}}},setUserHubsLoading(t,e){t.userHubsLoading=e},setUserSpecialization(t,{specialization:e,alias:s}){t.userSpecialization={...t.userSpecialization,[s]:e}},setUserHubs(t,{hubs:e,alias:s,page:n}){const i=t.userHubs[s]||{},a=i.hubRefs||{};t.userHubs={...t.userHubs,[s]:{hubRefs:{...a,...e.hubRefs},pagesCount:e.pagesCount,currentPage:n}}}},actions:{loadUserInfo({commit:t,state:e,rootGetters:s},{alias:n,snippet:i,force:a}){const o=n.toLowerCase(),r=e.authorRefs[o],l=s["pullRefresh/getRefreshState"],c=s["i18n/langOptions"],m=s["me/userAlias"],u=m?m.toLowerCase():null,d=s["me/isLoggedIn"],p=o===u;if(r&&r.counterStats&&!l&&!a)return Promise.resolve(r);if(i&&!a){const e=i.alias.toLowerCase();return t("setUserInfo",{userAlias:e,userData:i}),i}return Promise.all([(0,yl.bG)(n,c),...d&&!p?[(0,yl.jS)(n)]:[]]).then((([e,s])=>{const n=e.alias.toLowerCase(),a={...r,...i,...e,note:s};return t("setUserInfo",{userAlias:n,userData:a}),a}))},loadUserSpecialization({commit:t,state:e},{alias:s}){const n=s.toLowerCase(),i=e.userSpecialization[n];return i?Promise.resolve(i):(0,yl.Es)(n).then((e=>{t("setUserSpecialization",{specialization:e,alias:n})})).catch((t=>{throw t}))},loadUserInvitations({commit:t,state:e},{alias:s,page:n=1}){const i=s.toLowerCase(),a=e.userInvitations[i];return a&&a.currentPage>=n?Promise.resolve(a):(t("setUserInvitationsLoading",!0),(0,yl.OR)(i,{page:n}).then((e=>{t("setUserInvitations",{invitations:e,alias:i,page:n}),t("setUserInvitationsLoading",!1)})).catch((e=>{throw t("setUserInvitationsLoading",!1),e})))},loadUserHubs({commit:t,state:e},{alias:s,page:n=1}){const i=s.toLowerCase(),a=e.userHubs[i];return a&&a.currentPage>=n?Promise.resolve(a):(t("setUserHubsLoading",!0),(0,yl.YI)(i,{page:n}).then((e=>{t("setUserHubs",{hubs:e,alias:i,page:n})})).finally((()=>{t("setUserHubsLoading",!1)})))},loadProfileInfo({commit:t,state:e,rootGetters:s},n){const i=s["i18n/langOptions"],a=e.authorProfiles[n],o=s["pullRefresh/getRefreshState"];return a&&!o?Promise.resolve(a):Promise.all([(0,yl.Lt)(n,i),(0,yl.LD)(n)]).then((([s,i])=>{const a=n.toLowerCase(),o={...e.authorProfiles[a],...s,companies:i};return t("setProfileInfo",{profileData:o,userAlias:a}),s}))},searchUsers({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1},i=(0,gn.Z)(s),a=t.authorIds[i],o=Boolean(Object.keys(s.query).length),r=JSON.stringify(t.route.query)===JSON.stringify(s.query),l=JSON.stringify(t.route.params)===JSON.stringify(s.params);return!!(r&&a&&l)||(o&&!r&&e("clearAuthors",i),e("setLoading",!0),(0,yl.d9)(n).then((({userRefs:t,userIds:n,pagesCount:a})=>(e("setAuthorRefs",t),e("setAuthorIds",{routeKey:i,authorIds:n}),e("setPagesCount",{routeKey:i,pagesCount:a}),e("setRouteCache",s),e("setLoading",!1),{userRefs:t,userIds:n,pagesCount:a}))))},loadUsers({state:t,commit:e,rootGetters:s},{route:n}){const i={...n.query,page:n.params.pageNum||1},{q:a}=n.query,o=(0,gn.Z)(n),r=t.authorIds[o],l=Boolean(Object.keys(n.query).length),c=JSON.stringify(t.route.query)===JSON.stringify(n.query),m=n.params.hubName||n.params.flowName;if(r&&r.length&&c&&!a&&!m)return!0;(l&&!c||m)&&e("clearAuthors",o),e("setLoading",!0);let u=a?yl.d9:yl.Fp;const d=[{...i,...s["i18n/langOptions"]}];return a||(n.params.flowName&&(u=ac,d.unshift(n.params.flowName)),n.params.hubName&&(u=rc.yp,d.unshift(n.params.hubName))),u(...d).then((({authorRefs:t,authorIds:s,userRefs:i,userIds:r,pagesCount:l})=>{e("setAuthorRefs",t||i),e("setAuthorIds",{routeKey:o,authorIds:s||r}),e("setPagesCount",{routeKey:o,pagesCount:a?1:l}),e("setRouteCache",n),e("setLoading",!1)}))},toggleSubscribeStatus({commit:t},{alias:e,isSubscribed:s}){return t("setSubscriptionStatus",{alias:e,isSubscribed:!s}),(0,yl.JI)(e).then((({isSubscribed:s})=>{t("setSubscriptionStatus",{alias:e,isSubscribed:s})}))},updateFollowersCounter({commit:t,state:e},s){const n=s.toLowerCase(),{isSubscribed:i}=e.authorRefs[n].relatedData,{followersCount:a}=e.authorRefs[n].followStats,o=i?a+1:a-1;t("setFollowersCount",{alias:n,count:o})},addUserNote({commit:t,state:e},{alias:s,note:n}){return(0,yl.C1)(s,{text:n.text}).then((n=>{const i=s.toLowerCase(),a={...e.authorRefs[i],note:n};t("setUserInfo",{userAlias:i,userData:a})}))},updateKarmaInfo({commit:t},{userAlias:e,karmaData:s}){const n=e.toLowerCase();t("setUserKarmaData",{userAlias:n,karmaData:s})},loadUsersStatistics({state:t,commit:e}){return t.statistics?t.statistics:(0,yl.xS)().then((t=>(e("setUsersStatisticsData",t),t)))},loadKarmaStats({state:t,commit:e}){return t.karmaStats.length?Promise.resolve():(0,yl.xm)().then((t=>e("setUsersKarmaStatsData",t)))},loadUserFollowers({commit:t},e){const s=e.params.login.toLowerCase(),n=e.params.pageNum||1;return t("setUserFollowersLoading",!0),(0,yl.dX)(s,{page:n}).then((e=>{t("setUserFollowers",{alias:s,data:e}),t("setUserFollowersLoading",!1)}))},loadUserFollowed({commit:t},e){const s=e.params.login.toLowerCase(),n=e.params.pageNum||1;return t("setUserFollowedLoading",!0),(0,yl.Ct)(s,{page:n}).then((e=>{t("setUserFollowed",{alias:s,data:e}),t("setUserFollowedLoading",!1)}))}}};var Fm=s(64198),Gm=s(11943);const Um={namespaced:!0,state(){return{prevScrollY:{},scrollY:0,width:0}},mutations:{setPrevScrollY(t,{prevScrollY:e,fullPath:s}){t.prevScrollY[s]=e},setScrollY(t,e){t.scrollY=e},setWidth(t,e){t.width=e}},actions:{init({commit:t}){t("setWidth",window.innerWidth),window.addEventListener("resize",(()=>{t("setWidth",window.innerWidth)})),(0,Fm.fE)((()=>{(0,Bl.AD)().then((e=>t("setScrollY",e)))}))},restorePrevScrollY({state:t},{fullPath:e}){t.prevScrollY[e]&&(0,Gm.X5)(t.prevScrollY[e])},setPrevScrollY({commit:t,state:e},{fullPath:s}){t("setPrevScrollY",{prevScrollY:e.scrollY,fullPath:s})}}},Vm={adblock:Wl,articlesList:sc,authorContribution:cc,betaTest:vc,authorStatistics:mc,career:Sc,comments:Nl,companies:Cc,companyAdmin:Lc,companiesContribution:Ic,companyHubsContribution:Oc,conversation:Rc,conversations:Nc,desktopState:Vc,docs:qc,feature:jc,flows:zc,global:Qc,hubs:Xc,hubsBlock:Jc,i18n:lm,info:mm,location:um,me:wm,mostReadingList:dm,pinnedPost:_m,ppa:gm,projectsBlocks:vm,promoData:fm,pullRefresh:Sm,sandbox:Cm,search:Im,settingsOther:Am,similarList:ym,ssr:Lm,stories:Om,technotext:Rm,userHubsContribution:xm,userInvites:Dm,userVotes:Bm,users:$m,viewport:Um,tracker:km};function Hm(){return new h.ZP.Store({modules:Vm})}n["default"].use(h.ZP);const Zm=()=>({computed:{...(0,h.Se)("i18n",["langOptions","msg"])}});var Wm=s(19682);function Ym(t){const{features:e}=this.$root;return t in e?e[t]:(0,Wm.getFeatureStatusFromEnv)(t)}function qm(t=qe,e){const s=Hm(),i=Sl(s);i.onReady((()=>ns(i,s)),(t=>{throw t}));const a=new n["default"]({router:i,store:s,render:s=>s(t,{props:e})});return{app:a,router:i,store:s}}n["default"].use(c.Z),n["default"].use(d()),n["default"].mixin(Zm()),n["default"].use(m.ZP),n["default"].config.productionTip=!1,n["default"].prototype.$getFeatureFlag=Ym,n["default"].prototype.$activeWatch=function(t,e,s){const n=function(){const e=[this._inactive];return"function"===typeof t?e.push(t.call(this)):e.push(t),e};return this.$watch(n,(function([t,...s]){t||e.call(this,...s)}),s)};const jm=(t,e)=>{const s=[],n=t[e];return Array.isArray(n)?s.push(...n):n&&s.push(n),s},Km={created(){const{asyncData:t}=this.$options;if(!t)return;const e=this;this.$fetchState=n["default"].observable({_isFetching:!1,_isWaitingForGuards:!1,get isLoading(){return e.$fetchState._isFetching&&e.$fetchState._isWaitingForGuards},error:null});const s=()=>{const e=this.$route,s=this.$store;this.$fetchState._isFetching=!0,this.$fetchState._isWaitingForGuards=!0,this.dataPromise=t.call(this,{store:s,route:e}).then((()=>{this.$store.dispatch("ssr/markDataLoaded"),this.$store.dispatch("pullRefresh/toggleRefresh",!1),this.$fetchState._isFetching=!1,this.$fetchState._isWaitingForGuards=!1;const t=jm(this.$options,"afterAsyncData");if(!t||0===t.length)return;this.$fetchState._isWaitingForGuards=!0;const n=i=>{if(i)return this.$fetchState._isWaitingForGuards=!1,void this.$router.push(i);const a=t.shift();a?a({store:s,route:e,next:n}):this.$fetchState._isWaitingForGuards=!1};n()})).catch((t=>{this.$store.dispatch("ssr/showError",{error:t}),this.$store.dispatch("ssr/markDataLoaded"),this.$fetchState._isFetching=!1,this.$fetchState._isWaitingForGuards=!1,this.$fetchState.error=t;const e=Array.isArray(t.additional)&&-1!==t.additional.indexOf("PPG_REQUIRED");if(e){this.$store.dispatch("me/setPPGDemanded",!0);const{program:e}=t.data,s="comments"===e?"PPG_COMMENTS":"PPG_SMILES";this.$router.push({name:s})}}))},{hasHydrated:i}=this.$root.$children[0],a=this.$vnode.elm&&this.$vnode.elm.dataset&&this.$vnode.elm.dataset.asyncCalled;!i||a?this.dataPromise=Promise.resolve():s(),this.$watch((()=>this.$store.getters["pullRefresh/getRefreshState"]),(t=>{const e=this._inactive;t&&!e&&s()}))}};var zm=s(98367),Qm=s(95916),Xm=s(66482),Jm=s(77208);function tu(t){const e=[];return(0,Xm.shouldPolyfill)()&&e.push(s.e(9616).then(s.bind(s,38210)),s.e(9616).then(s.t.bind(s,1329,23)),s.e(9616).then(s.t.bind(s,66037,23))),(0,Jm.shouldPolyfill)()&&(e.push(s.e(9616).then(s.bind(s,74462))),"ru"===t?e.push(s.e(9616).then(s.t.bind(s,45542,23))):e.push(s.e(9616).then(s.t.bind(s,17689,23)))),e}function eu(t){let e=Promise.resolve();return(0,Qm.shouldPolyfill)()&&(e=s.e(9616).then(s.bind(s,31942))),e.then((()=>Promise.all(tu(t))))}var su=s(13869);function nu(){let t=Promise.resolve();return(0,su.Z)()||(t=Promise.all([s.e(1830).then(s.t.bind(s,39989,23)),s.e(2341).then(s.t.bind(s,55594,23)).then((t=>{window.fetchStream=t.default}))])),t}var iu=s(95205);"serviceWorker"in navigator&&(0,iu.z)("https://habr.com/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});const au={closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1,position:"top-center",draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:!1,newestOnTop:!0,icon:!1};n["default"].use(i.ZP,au);const ou=t=>{const e=(0,zm.Z)();t.state.global.device!==e&&t.dispatch("global/setDevice",{device:e})},ru=!0,{app:lu,router:cu,store:mu}=qm(),uu=t=>{ru?(0,Kc.T)(t):console.error(t)};window.__INITIAL_STATE__&&(mu.replaceState(window.__INITIAL_STATE__),window.__INITIAL_STATE__=null),window.addEventListener("resize",r()((()=>ou(mu)),100),!1),mu.state.global.isPwa&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((t=>{t.active.postMessage({runCache:!0})})),a.av({username:mu.state.me.user?mu.state.me.user.alias:"HABR_GUEST"});const{hl:du}=mu.state.i18n;n["default"].mixin(Km),lu.$root.features=(0,Wm.parseFeaturesSettings)((0,l.ej)("features")||""),Promise.all([window.i18nFetch,eu(du),nu(),mu.dispatch("adblock/findOutAdblockStatus")]).then((([t])=>{am(t),cu.onReady((()=>{lu.$mount("#app"),ou(mu)}),(t=>{throw t}))})),cu.onError=t=>uu(t),window.onerror=t=>uu(t),window.onunhandledrejection=({reason:t})=>uu(t)},48001:(t,e,s)=>{"use strict";function n(){return!0}s.d(e,{sK:()=>i});const i={required:!0,type:Object,validator:n}},23159:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});var n=s(24646);function i(t){return(0,n.HD)(t.alias)&&((0,n.HD)(t.avatarUrl)||null===t.avatarUrl||(0,n.HD)(t.image))}const a={required:!0,type:Object,validator:i}},37522:(t,e,s)=>{"use strict";s.d(e,{T:()=>p});var n=s(20144),i=s(14621),a=s(40802),o=s(53610),r=s(12699),l=s(64517),c=s(9827),m=s(95595),u=s.n(m);const d=!0;function p(t){"string"!==typeof t?"TimeoutError"!==t.name?(a.e((t=>{t.setTag("app_version","2.103.0")})),a.Tb(t)):a.$e((e=>{e.setFingerprint(["TimeoutError"]),a.Tb(t)})):a.$e((e=>{e.setLevel("info"),a.uT(t)}))}i.S1({dsn:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",environment:"production",release:"2022-12-14-07-24",integrations:[new o.I,new r.S,new l.m,new c.w({Vue:n["default"],attachProps:!0})],whitelistUrls:d?[/https?:\/\/((www)\.)?(m\.)?habr\.com/,"https://assets.habr.com/habr-web/"]:[],...u()})},95936:(t,e,s)=>{"use strict";s.d(e,{Q:()=>n});const n=(t,e,s)=>{const n="news"===t.postType,i="megaproject"===t.postType,a=t.hubs.filter((t=>"corporative"===t.type)),o=a.length&&a[0].alias;let r=`/${s}/post/${e}/`;return n&&(r=`/${s}/news/t/${e}/`),t.isCorporative&&(r=`/${s}/company/${o}/blog/${e}/`),n&&t.isCorporative&&(r=`/${s}/company/${o}/news/t/${e}/`),i&&(r=`/${s}/article/${e}/`),r}},65873:(t,e,s)=>{"use strict";s.d(e,{P:()=>n});const n=(t,e)=>{const s=Object.keys(e),n=[];return s.forEach((s=>{const i=e[s];if(i)if(Array.isArray(i))i.forEach((e=>{n.push(`${t}_${s}-${e}`)}));else{const e="boolean"===typeof i?s:`${s}-${i}`;n.push(`${t}_${e}`)}})),[t,n]}},89029:(t,e,s)=>{"use strict";function n(t){return t?"https://career.habr.com/companies/{company}/vacancies".replace("{company}",t):"https://career.habr.com/catalog"}s.d(e,{E:()=>n})},28374:(t,e,s)=>{"use strict";function n(t){const e=t.params.flowName||t.params.hubName||t.params.login||t.params.name;let s=t.name;const n=t.params.pageNum&&1!==t.params.pageNum?t.params.pageNum:null,i=t.params.score,a=t.params.period,o=t.params.categoryAlias,r=t.params.nomination,l=t.params.year,c=[e,i,a,n,o,r,l].filter(Boolean);return s=c.length?`${s}_${c.join("_")}`:s,s.toUpperCase()}s.d(e,{Z:()=>n})},27683:(t,e,s)=>{"use strict";s.d(e,{O:()=>a});var n=s(28287);const i=(t,e)=>{const s=t.parentElement&&"FIGURE"===t.parentElement.tagName,n=t.getAttribute("inline");if((s||n)&&(t.setAttribute("src","/img/no-image.png"),t.setAttribute("width",24),t.setAttribute("height",24),t.setAttribute("title",e),t.removeAttribute("data-blurred"),s)){const s=document.createElement("div");s.setAttribute("class","tm-empty-image");const n=document.createElement("span");n.innerText=e,s.append(t.cloneNode(!0)),s.append(n),t.replaceWith(s)}},a=(t,e)=>{const s=(0,n.Jx)(t),a=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){let s=t.target,i=new Image;const o=(0,n.V0)(s.getAttribute("data-src")||s.src);i.setAttribute("src",o);const r=()=>{"/img/image-loader.svg"===s.getAttribute("src")&&s.removeAttribute("src"),s.setAttribute("src",o);const t=s.getAttribute("data-width");t&&s.setAttribute("width",t),setTimeout((()=>{s.removeAttribute("data-blurred"),i.removeEventListener("load",r),i.removeEventListener("error",l),i=null,s=null}),0)},l=()=>{s.setAttribute("src",null),s.setAttribute("alt",e),s.removeAttribute("data-blurred"),i.removeEventListener("load",r),i.removeEventListener("error",l),i=null,s=null};i.addEventListener("load",r),i.addEventListener("error",l),a.unobserve(t.target)}}))}),{rootMargin:"500px"});return s.forEach((t=>{const s=t.getAttribute("data-src"),n=t.getAttribute("src");if(n||i(t,e),s){const e=s.split(".").pop(),n=["jpg","jpeg"];-1!==n.indexOf(e)&&a.observe(t)}})),()=>a.disconnect()}},98339:(t,e,s)=>{"use strict";function n(t){if(!t)throw new Error("Missed spoilerBlock param!");const e=t.querySelector(".spoiler_title"),s=()=>{t.classList.toggle("spoiler_open")};return e.addEventListener("click",s),()=>{e.removeEventListener("click",s)}}s.d(e,{y:()=>l});const i=()=>s.e(7417).then(s.bind(s,90401)),a=t=>i().then((e=>e.default(t)));function o(t){const e=document.createElement("div");e.className="table table_wrapped",e.appendChild(t.cloneNode(!0)),t.parentNode.replaceChild(e,t)}function r(t){const e=document.createElement("iframe");e.setAttribute("frameborder",0),e.setAttribute("scrolling","no"),e.setAttribute("allowfullscreen",!0),e.setAttribute("src",t.getAttribute("data-src")),e.setAttribute("style",t.getAttribute("data-style")),e.setAttribute("width",t.getAttribute("width")),e.setAttribute("id",t.getAttribute("id")),t.parentNode.replaceChild(e,t)}const l=t=>{const e=t.querySelectorAll(".tm-iframe_temp"),s=t.querySelectorAll("table"),i=t.querySelectorAll("pre code"),l=t.querySelectorAll("div.spoiler");i.length&&[...i].forEach(a),l.length&&[...l].forEach(n),e.length&&[...e].forEach(r),s.length&&[...s].forEach(o)}},13869:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});var n=s(77945);function i(){return n.Qg&&!n.Cg&&window.ReadableStream}},15466:(t,e,s)=>{"use strict";s.d(e,{J7:()=>E,RC:()=>S,bP:()=>m,lp:()=>C,p1:()=>o,v2:()=>r});var n=s(8065),i=s(66622),a=s(2740);const o="xpanel_mobile",r=t=>{const[,e]=t.getAttribute("name").split("comment_");return e},l=t=>t.offsetParent,c=()=>{const t=Array.from(document.querySelectorAll("[data-comment-new]"));if(0===t.length)return[];const e=t.filter(l);return 0===e.length?t:e},m=()=>{const t=c();return 0===t.length?null:t[0]},u=()=>Array.from(document.querySelectorAll("[data-selected-comment]")).forEach((t=>{delete t.dataset.selectedComment})),d=t=>{t.dataset.selectedComment="true"},p=t=>{u(),d(t)},_=()=>document.querySelector("[data-selected-comment]"),h=()=>{const{top:t}=document.documentElement.getBoundingClientRect(),e=window.scrollY-Math.abs(t);return e<5},g=()=>{const t=c();if(0===t.length)return null;let e;if(h())e=t.indexOf(_())-1;else{const s=(0,a.p)(t);if(!s)return null;e=t.indexOf(s)-1}return t[e]||t[t.length-1]},T=()=>{const t=c();if(0===t.length)return null;let e;if(h())e=t.indexOf(_())+1;else{const s=(0,a.p)(t);if(!s)return null;const n=0===s.getBoundingClientRect().top,i=t.indexOf(s);e=n?i+1:i}return t[e]||t[0]},v=t=>t?l(t)?t:v(t.parentElement):null,f=t=>e=>{if(e instanceof i.Fv){const e=v(t).querySelector("[data-comment-collapsed-thread]");(0,i.Jn)(e,"start")}},S=t=>{if(t.parentElement){const e=t.parentElement.querySelector("[data-comment-header]");e&&e.focus()}},E=()=>{const t=T();t&&(0,i.Jn)(t).then((()=>{p(t),(0,n.Kz)(o,"next"),S(t)})).catch(f(t))},C=()=>{const t=g();t&&(0,i.Jn)(t).then((()=>{p(t),(0,n.Kz)(o,"prev"),S(t)})).catch(f(t))}},5723:(t,e,s)=>{"use strict";s.d(e,{Cl:()=>a,Hx:()=>n,Ng:()=>i,Yi:()=>o,ZZ:()=>r});const n=300,i=300,a=300,o=300,r=3e3},34073:(t,e,s)=>{"use strict";s.d(e,{X:()=>o});var n=s(8065);const i={ym:"yandex",ga:"google"};function a(t={}){const{analyticsSettings:e=[]}=t;return e.reduce(((t,{type:e,trackingId:s})=>({...t,[i[e]]:s})),{})}function o(t,e){const{settings:s}=t;if(!s)return;const i=a(s);if(!i)return;const{google:o,yandex:r}=i;o&&(0,n.uK)((()=>{(0,n._k)(o,{name:"company"}),(0,n.Nc)(e,"company"),(0,n.gE)("company")})),r&&window.ym&&(window.ym(r,"init",{defer:!0,webvisor:!1,clickmap:!1}),window.ym(r,"hit",e))}},34938:(t,e,s)=>{"use strict";s.d(e,{Kf:()=>l,R0:()=>a,eD:()=>c,fd:()=>i,kM:()=>n,yB:()=>r,yK:()=>o});const n=t=>({name:"ARTICLES_LIST_BY_COMPANY",query:{},params:{name:t}});function i(t){return t&&t.settings&&"expired"===t.settings.status}function a(t,e){if(t&&Array.isArray(t.sectors)){const s=t.sectors.map((({title:t})=>t));return[e,...s].join(", ")}return""}function o(t){return t&&t.metadata&&Array.isArray(t.metadata.keywords)?t.metadata.keywords.join(", "):""}const r=new Date(2018,5,1),l=30,c=["postCount","readingCount","commentsCount","favoritesCount","score"]},85378:(t,e,s)=>{"use strict";function n(t){const e=document.createElement("input");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e)}s.d(e,{Z:()=>n})},8938:(t,e,s)=>{"use strict";function n(t){return t.toISOString().slice(0,10)}function i(t){const e=new Date,s=new Date(e.getTime()-86400*t*1e3);return{date_from:n(s),date_to:n(e)}}function a(t){return+new Date(t)/1e3}function o(t,e){return new Date(t.getTime()+1e3*e*60*60*24)}s.d(e,{AH:()=>n,E4:()=>o,Rn:()=>a,ic:()=>i})},52717:(t,e,s)=>{"use strict";function n(t){const e="sandbox"===t.postType?"sandbox":"topic";return`https://habr.com/${e}/edit/${t.id}/`}s.d(e,{B:()=>n})},98367:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a,b:()=>o});const n=768,i=1024,a=()=>{const t=window.innerWidth;return t<n?"mobile":t<i?"tablet":"desktop"},o=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},51566:(t,e,s)=>{"use strict";s.d(e,{i:()=>l,y:()=>c});const n=[];let i=!1;const a={LEFT:50,RIGHT:-50};function o(t){return{delta:t,isLeft:t>a.LEFT,isRight:t<a.RIGHT}}function r(t){return{delta:t}}function l(t){if(n.push(t),!i){let t=0;i=!0,window.addEventListener("touchstart",(e=>{const s=e.changedTouches[0];t=s.pageX})),window.addEventListener("touchmove",(e=>{const s=e.changedTouches[0],i=t-s.pageX,a=r(i);n.forEach((t=>t(a)))})),window.addEventListener("touchend",(e=>{const s=e.changedTouches[0];t-=s.pageX;const i=o(t);n.forEach((t=>t(i)))}))}return t}function c(t){let e=null;n.some(((s,n)=>s===t&&(e=n,!0))),null!==e&&n.splice(e)}},77945:(t,e,s)=>{"use strict";s.d(e,{Cg:()=>r,QO:()=>l,Qg:()=>a,W6:()=>o,Yu:()=>c,v9:()=>i});const n="production",i="development"===n,a="undefined"!==typeof window,o="undefined"===typeof window,r="test"===n,l="https://qna.habr.com",c="https://career.habr.com"},36771:(t,e,s)=>{"use strict";function n(t){return t&&t.additional&&t.additional.length?t.additional[0]:null}function i(t){const e=n(t);return"FORM_ERRORS"===e&&t.data?t.data:null}function a(t,e){const s=n(t);return"FORM_ERRORS"===s&&t.data&&t.data[e]&&t.data[e].length?t.data[e][0]:null}function o(t){return t&&t.data instanceof Blob?t.data.text().then((t=>JSON.parse(t))):Promise.resolve(t)}s.d(e,{C5:()=>a,JV:()=>o,SJ:()=>n,TU:()=>i})},5163:(t,e,s)=>{"use strict";s.d(e,{W:()=>m});const n=["https://habr.com","https://m.habr.com","https://habrahabr.ru","https://habr.com","https://habr.com"];let i=!1,a=!1;function o(t){return["Control","Meta"].includes(t)}function r(t){o(t.key)&&(i=!1)}function l(t){o(t.key)&&(i=!0)}function c(){a||(document.addEventListener("keyup",r),document.addEventListener("keydown",l),a=!0)}const m=(t,e)=>{c();const s=t.querySelectorAll("a");if(!s.length)return()=>{};const a=[];return s.forEach((t=>{if(-1!==n.indexOf(t.origin)&&!t.hash){const s=s=>{1!==s.button&&(i||e(s,t))};t.addEventListener("click",s),a.push((()=>{t.removeEventListener("click",s)}))}})),()=>{a.forEach((t=>t()))}}},13836:(t,e,s)=>{"use strict";let n,i;s.d(e,{O:()=>a,j:()=>o});const a=t=>(n||(n=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"})),n.format(t)),o=t=>(i||(i=new Intl.NumberFormat("en-US",{useGrouping:!1,signDisplay:"exceptZero"})),i.format(t))},42052:(t,e,s)=>{"use strict";s.d(e,{kA:()=>i,lP:()=>a,z6:()=>n});const n={category:"tm_block",action:"top_daily,post",label:{post:"post",comment:"comment"}},i={category:"tm_block",action:"similar_posts",label:"common"};function a(t,e){return{category:"tm_block",action:`promo,${t}`,label:e}}},12066:(t,e,s)=>{"use strict";s.d(e,{s:()=>l});var n=s(30172),i=s(95186),a=s(52997),o=s(20732);const r=t=>{const e=t.getElementsByClassName("gallery-wrapper"),s=[].slice.call(e);return s},l=t=>{n.Z.use([i.Z,a.Z,o.Z]);const e=r(t),s=[],l=[];return e.forEach((t=>{const e=t.querySelector(".thumb-gallery"),i=Array.from(e.querySelectorAll(".swiper-slide")).length>8;e&&!i&&e.classList.add("thumb-gallery_nav_off");const a=new n.Z(e,{spaceBetween:12,slidesPerView:"auto",freeMode:!0,threshold:10,multipleActiveThumbs:!1,watchSlidesProgress:!0,observer:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}});l.push(a);const o=new n.Z(t.querySelector(".gallery"),{slidesPerView:1,spaceBetween:0,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},thumbs:{swiper:a}});s.push(o)})),s}},68668:(t,e,s)=>{"use strict";function n(t){return"a"===t.parentNode.tagName.toLowerCase()}function i(t,e=0){const s=n(t);return!!s||!(e>1)&&i(t.parentNode,e+1)}s.d(e,{N:()=>o});var a=s(28287);const o=t=>(0,a.Jx)(t).filter((t=>!i(t)))},8065:(t,e,s)=>{"use strict";s.d(e,{Kz:()=>m,Nc:()=>c,_k:()=>p,gE:()=>d,t4:()=>u,uK:()=>l});var n=s(13517);function i(t,e,s){return t?e&&e(t):s&&s()}function a(){const t=(0,n.au)((0,n.j4)());return t?t.path:""}function o(t){const e=(0,n.au)((0,n.j4)());return`${e.protocol}//${e.host}${t}`}const r=new Map,l=(t,e)=>i(window.gtag,t,e);function c(t,e){l((s=>{const i=t||a();s("event","page_view",{page_location:o(i),send_to:r.get(e),event_callback:n.Df})}))}function m(t,e,s,n){l((i=>{i("event",e,{event_category:t,event_label:s,send_to:r.get(n)})}))}function u(t,e,s){l((n=>{s?n("config",r.get(s),{[t]:e}):n("set",t,e)}))}function d(t){r.delete(t)}function p(t,e){t&&l((s=>{const n={send_page_view:!1},i=["config",t];if(e){i.push({...n,...e});const s="object"===typeof e?e.name:e;s&&r.set(s,t)}else i.push(n);s(...i)}))}},75444:(t,e,s)=>{"use strict";s.d(e,{c:()=>c});var n=s(93096),i=s.n(n),a=s(2740);function o(t){return Array.from(document.querySelectorAll(t))}function r(t){t.focus({preventScroll:!0}),window.scrollTo({top:t.offsetTop,behavior:"smooth"})}function l({navigatableSelector:t,onPrevNavigationEnd:e,onNextNavigationEnd:s,onFocusedInteraction:n}){const l=i()(r,400);return{h:()=>{const[s]=o(t);s===document.activeElement?e():l(s)},l:()=>{const e=o(t),n=e[e.length-1];n===document.activeElement?s():l(n)},k:()=>{const s=o(t),{activeElement:n}=document,i=s.indexOf(n),r=-1===i?(0,a.p)(s):s[i-1];r?l(r):e()},j:()=>{const e=o(t),{activeElement:n}=document,i=e.indexOf(n),r=-1===i?(0,a.p)(e):e[i+1];r?l(r):s()},o:()=>{const e=o(t),{activeElement:s}=document,i=e.indexOf(s);-1!==i&&n(document.activeElement)}}}function c({toggleArticleView:t}={}){const e=l({navigatableSelector:"[data-navigatable]",onFocusedInteraction(t){const e=t.querySelector("[data-article-link]");e&&e.click()},onPrevNavigationEnd(){const t=document.querySelector("[data-pagination-prev]");t&&t.click()},onNextNavigationEnd(){const t=document.querySelector("[data-pagination-next]");t&&t.click()}});return t&&(e.t=t),e}},21509:(t,e,s)=>{"use strict";function n(t,e){return Math.floor(t+Math.random()*(e+1-t))}s.d(e,{r:()=>n})},63715:(t,e,s)=>{"use strict";function n(t){return`https://tmtm.ru/megapost/habr/preview/${t}/`}function i(t){return`https://tmtm.ru/megapost/habr/edit/${t}/`}s.d(e,{c:()=>i,w:()=>n})},32057:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});const n="https://habr.com",i=(t,e=n)=>{const s=new URL(t,e);return`${s.origin}${s.pathname}`}},28287:(t,e,s)=>{"use strict";s.d(e,{Jx:()=>l,V0:()=>m,dv:()=>r});const n="habrastorage.org",i=/\/r\/w\w+\//,a=780,o=[390,780,1560];function r(t,e=120,s=!1){const a=t,o=s?"q1":"",r=a&&"string"===typeof a&&"gif"===t.toLowerCase().split(".").pop();return r?a:a&&-1!==a.indexOf(n)?a.replace(i,"/").replace(`${n}/`,`${n}/r/w${e}${o}/`):a}function l(t){const e=t.getElementsByTagName("img"),s=[].slice.call(e);return s}function c(){if(window){const{innerWidth:t,devicePixelRatio:e}=window,s=t*e,n=o.reduce(((t,e)=>Math.abs(e-s)<Math.abs(t-s)?e:t));return n}return a}function m(t){const e=c();return r(t,e)}},23217:(t,e,s)=>{"use strict";s.d(e,{dY:()=>u,nz:()=>m,uT:()=>c,ym:()=>l});const n={corp:{news:"NEWS_OF_COMPANY",megaproject:"ARTICLE_MEGAPOST",default:"ARTICLE_OF_COMPANY"},regular:{sandbox:"ARTICLE_SANDBOX",megaproject:"ARTICLE_MEGAPOST",news:"NEWS_ARTICLE",default:"ARTICLE"}};function i({isCorporative:t,postType:e}){const s=t?n.corp:n.regular;return s[e]||s.default}const a={corp:{default:"ARTICLE_COMMENTS_OF_COMPANY",news:"NEWS_OF_COMPANY_COMMENTS"},regular:{news:"NEWS_ARTICLE_COMMENTS",megaproject:"ARTICLE_COMMENTS_OF_MEGAPOST",default:"ARTICLE_COMMENTS"}};function o({isCorporative:t,postType:e}){const s=t?a.corp:a.regular;return s[e]||s.default}function r(t){return t.find((t=>"corporative"===t.type)).alias}function l(t,e){const{hubs:s,id:n,isCorporative:i,postType:a}=t;return{name:o({isCorporative:i,postType:a}),params:{companyName:i?r(s):null,id:n,hl:e}}}function c(t,e){const{hubs:s,id:n,isCorporative:a,postType:o}=t;return{name:i({isCorporative:a,postType:o}),params:{companyName:a?r(s):null,id:n,hl:e}}}function m(t){const e=t.flatMap((t=>[t.value,...t.children?m(t.children):[]]));return Array.from(new Set(e))}const u="more-news"},44515:(t,e,s)=>{"use strict";s.d(e,{bc:()=>c,qV:()=>l,wU:()=>r});var n=s(52322),i=s(76721);function a(t){const{period:e,score:s}=t;return(!e||!s)&&(e?["daily","weekly","monthly","yearly","alltime"].includes(e):!s||["0","10","25","50","100"].includes(s))}function o(t){return t.replace(/^\/(en|ru)/,"")}function r({route:t,flowName:e,isNews:s}){const{location:r,href:l}=t,{params:c}=r;if(!a(c))return;const m=(0,i.buildCookieName)({flowName:e,isNews:s}),u=o(l);(0,n.d8)(m,u,{expires:365})}function l(t){const{path:e}=t,s=o(e);(0,n.d8)("habr_web_home_feed",s,{expires:365})}function c(t){const e=(0,n.ej)("habr_web_home_feed")||"/all/";return`/${t.hl}${e}`}},83049:(t,e,s)=>{"use strict";s.d(e,{dE:()=>d,dY:()=>u,fo:()=>m,m2:()=>p});var n=s(15870),i=s(15466),a=s(91256);function o(t){return"#first_unread"===t}function r(t){return t.indexOf("#comment_")>-1||o(t)}function l(t){return t.split("#comment_")[1]}const c=12;function m(t){if(!r(t))return Promise.resolve(!1);let e;if(r(t)){const s=l(t);e=`[name="comment_${s}"]`}if(o(t)){const t=(0,i.bP)();t&&(e=`[name="${t.getAttribute("name")}"]`)}return(0,n.br)(e).then((t=>{if(t&&((0,a.Zu)(t,c),t.parentElement)){const e=t.parentElement.querySelector("[data-comment-header]");e&&e.focus()}}))}function u(t){r(t.hash)&&setTimeout((()=>{m(t.hash)}),300)}function d(t,e,s){t.hash&&(0===t.hash.indexOf("#comment")||o(t.hash))&&Object.assign(t.meta,{isRedirected:!0}),s()}function p(t){const e=document.querySelector(`[name="comment_${t}"]`),s=document.querySelector("[data-height-limiter]");if(!s)return!0;const n=e.getBoundingClientRect(),i=s.getBoundingClientRect();return n.top+n.height<i.top}},91256:(t,e,s)=>{"use strict";s.d(e,{Ex:()=>l,Zu:()=>r,kI:()=>o});var n=s(11943);const i=200;function a(){const t=document.querySelector("[data-header-sticky]"),e=document.querySelector("[data-menu-sticky]");return e?e.getBoundingClientRect().height:t?t.getBoundingClientRect().height:0}function o(t){const e=t.getBoundingClientRect().top,s=e+(0,n.wA)(),o=a();return o>0?(0,n.X5)(s-o,i):(0,n.X5)(s,i)}function r(t,e=0){const s=t.getBoundingClientRect().top,a=s+(0,n.wA)();return(0,n.X5)(a-e,i)}function l(t){const e=t.getBoundingClientRect().top,s=e+(0,n.wA)();return(0,n.X5)(s,i)}},66622:(t,e,s)=>{"use strict";s.d(e,{Fv:()=>o,Jn:()=>c});var n=s(11943);const i=200,a=12;class o extends Error{constructor(){super("Element is not focusable")}}class r extends Error{constructor(){super("Scroll to the element has been prevented")}}const l=t=>new Promise(((e,s)=>{let n;const i=()=>{s(new r),n&&n.disconnect(),window.removeEventListener("wheel",i)};n=new IntersectionObserver((t=>{const[s]=t;s.isIntersecting&&(e(),n.disconnect(),window.removeEventListener("wheel",i))})),n.observe(t),window.addEventListener("wheel",i)})),c=t=>new Promise(((e,s)=>{if(null===t.offsetParent)return void s(new o);const{top:r}=t.getBoundingClientRect();if(0===r)return void e(!0);const c=t.getBoundingClientRect().top,m=c+(0,n.wA)();(0,n.X5)(m-a,i),e(l(t))}))},7748:(t,e,s)=>{"use strict";function n(t){const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}function i(t){return t.replace(/(<([^>]+)>)/gi,"")}s.d(e,{V:()=>n,_:()=>i})},20439:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=s(13517),i=s(8065);const a="24049213";function o(){const t=window.ym;return Boolean(t)&&"function"===typeof t}function r(){const t=(0,n.au)((0,n.j4)());return t?t.path:""}function l(t){const e=(0,n.au)((0,n.j4)());return`${e.protocol}//${e.host}${t}`}function c(){const{location:t,history:e}=window;if(-1!==t.search.indexOf("utm_")){const s=new URL(t),n=Array.from(s.searchParams.keys()).filter((t=>t.startsWith("utm_")));n.forEach((t=>s.searchParams.delete(t))),e.replaceState({},null,s)}}function m(t){const e=t||r();(0,i.uK)((t=>{t("event","page_view",{page_location:l(e)})})),o()&&window.ym(a,"hit",e),c()}},59436:(t,e,s)=>{"use strict";s.d(e,{H:()=>i});const n=t=>e=>t.includes(e),i=t=>e=>!e||n(t)(e)},2740:(t,e,s)=>{"use strict";function n(t){return t.map((t=>[t,t.getBoundingClientRect()])).reduce(((t,e)=>Math.abs(e[1].top)<Math.abs(t[1].top)?e:t))[0]}s.d(e,{p:()=>n})},69811:(t,e,s)=>{"use strict";s.d(e,{ZI:()=>E,Hm:()=>T,Q:()=>S,Cm:()=>C});var n=s(9669),i=s.n(n),a=s(80129),o=s.n(a);const r=t=>{const e=new URL(t.url);return"https://habr.com"!==e.origin?t:{...t,headers:{...t.headers,"x-app-version":"2.103.0"}}};var l=s(77945),c=s(52322);function m(t){if(!t)return;const e=document.querySelector('meta[name="habr-version"]'),s=e?e.getAttribute("content"):"",[,n]=s.split("."),[,i]=t.split(".");if(i-n>1){const t=(0,c.ej)("target-minor-version");t&&t===i||((0,c.d8)("target-minor-version",i,{expires:30}),window.location.reload(!0))}if(i!==n){const t=new CustomEvent("showRefreshNotice");document.dispatchEvent(t)}}function u(t){if(t){const e=new CustomEvent("showCacheNotice",{detail:t});document.dispatchEvent(e)}else{const t=new CustomEvent("hideCacheNotice");document.dispatchEvent(t)}}const d=(t={})=>({...t,withCredentials:!0});function p(t,e,s){this.name=this.constructor.name,this.message=t.message,Object.assign(this,t),this.stack=s||e.stack||(new Error).stack}i().interceptors.request.use(r),p.prototype=Object.create(Error.prototype),p.prototype.constructor=p;const _=(t,e)=>{const{response:s}=t;return s?s.data&&s.data.message?new p(s.data,t,e):new p(t.response,t,e):t},h=(t,e)=>e<2&&(!t.response||408===t.response.status);function g(t){!l.v9&&l.Qg&&(m(t["server-habr-version"]),u(t["x-sw-cache"]))}function T(t,e={},s=0,n=!0,a="json"){const r={responseType:a,params:{...e},paramsSerializer:t=>o().stringify(t,{arrayFormat:"indices"})},l=n?d(r):r,{stack:c}=new Error;return i().get(t,l).then((t=>(g(t.headers),t.data))).catch((i=>{if(h(i,s))return new Promise((i=>setTimeout((()=>i(T(t,e,s+1,n),2e3)))));throw _(i,c)}))}function v(){const t=document.querySelector('meta[name="csrf-token"]');return t&&t.getAttribute("content")}function f(){const t=v(),e=t?{headers:{"csrf-token":t}}:{};return e}function S(t,e={},s=!0,n=!0){const a=n?f():{},o=s?d(a):a,{stack:r}=new Error;return i().post(t,e,o).then((t=>(g(t.headers),t.data))).catch((t=>{throw _(t,r)}))}function E(t){const{stack:e}=new Error;return i()["delete"](t,f()).then((t=>t.data)).catch((t=>{throw _(t,e)}))}function C(t,e={},s=!0,n=!0){const a=n?f():{},o=s?d(a):a,{stack:r}=new Error;return i()({method:"SEARCH",url:t,data:e,...o}).then((t=>(g(t.headers),t.data))).catch((t=>{throw _(t,r)}))}},2384:(t,e,s)=>{"use strict";s.d(e,{$K:()=>I,Ai:()=>E,Az:()=>u,Dz:()=>P,KZ:()=>O,Mc:()=>_,Oe:()=>o,TH:()=>f,UJ:()=>d,Uj:()=>T,Y9:()=>p,YM:()=>b,Yc:()=>y,bE:()=>g,fo:()=>S,fq:()=>l,hx:()=>R,jL:()=>L,lA:()=>v,mZ:()=>m,rM:()=>a,sI:()=>C,tU:()=>r,uf:()=>h,vG:()=>c,wZ:()=>A,x1:()=>N});var n=s(69811),i=s(54226);function a(t){return(0,n.Hm)((0,i.k)("articles/","v2"),t)}function o(t){return(0,n.Hm)((0,i.k)("articles/drafts","v2"),t)}function r(t){return(0,n.Hm)((0,i.k)("articles/planned","v2"),t)}function l(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/`,"v2"),e)}function c(t,e){return(0,n.Hm)((0,i.k)(`articles/preview/${t}/`,"v2"),e)}function m(t){return(0,n.ZI)((0,i.k)(`articles/drafts/${t}/`,"v2"))}function u(t){if(!t)throw new Error("Article ID is undefined!");return(0,n.Q)((0,i.k)(`articles/${t}/pageview`,"v2"))}function d(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/votes/down`,"v2"),e)}function p(t){return(0,n.Q)((0,i.k)(`articles/${t}/votes/up`,"v2"))}function _(t){return(0,n.Hm)((0,i.k)(`articles/${t}/reasons/stats`,"v2"))}function h(t){return(0,n.Q)((0,i.k)(`articles/${t}/bookmarks/add`))}function g(t){return(0,n.Q)((0,i.k)(`articles/${t}/bookmarks/remove`))}function T(t,e){return(0,n.Q)((0,i.k)(`polls/${t}/vote`,"v2"),e)}function v(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/similar`,"v2"),e)}function f(t){return(0,n.Hm)((0,i.k)("articles/most-reading","v2"),t)}function S(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/complaint`,"v2"),e)}function E(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/misprint`,"v2"),e)}function C(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/recommendation/template`,"v2"),e)}function I(t){return(0,n.Hm)((0,i.k)("refs/post/recommendations","v2"),t)}function b(t){return(0,n.Hm)((0,i.k)("articles/moderation-comments","v2"),t)}function A({articleId:t,email:e,tracker:s}){return(0,n.Q)((0,i.k)(`articles/${t}/subscription`,"v2"),{emailSubscribed:e,trackerSubscribed:s})}function y(t){return(0,n.Q)((0,i.k)(`articles/${t}/rules_remind/`,"v2"))}function L(t){return(0,n.ZI)((0,i.k)(`articles/${t}/rules_remind/`,"v2"))}function P(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/published`,"v2"),e)}function O(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/trackingPix`,"v2"),e)}function R(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/defer`,"v2"),e)}function N(t){return(0,n.Hm)((0,i.k)("shared-count/facebook","v2"),t)}},61823:(t,e,s)=>{"use strict";s.d(e,{BL:()=>I,DF:()=>T,FI:()=>d,ID:()=>o,Ir:()=>u,M1:()=>c,TH:()=>S,ZQ:()=>m,_p:()=>b,bj:()=>E,fX:()=>v,fp:()=>g,j4:()=>r,nE:()=>L,nN:()=>y,oP:()=>C,oc:()=>h,pD:()=>l,pu:()=>a,x1:()=>_,yw:()=>f,zT:()=>p,zm:()=>A});var n=s(69811),i=s(54226);function a(t,e,s){let a=`articles/${t}/comments/`;return s&&(a+="?nocount=1"),(0,n.Hm)((0,i.k)(a,"v2"),e)}function o(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/split/guest`,"v2"),e)}function r(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/split/guest/cache`,"v2"),e)}function l({id:t,hl:e}){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/split/user`,"v2"),{hl:e})}function c(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/new`,"v2"),e)}function m(t){return(0,n.Hm)((0,i.k)("comments/search","v2"),t)}function u(t,e){return(0,n.Q)((0,i.k)(`comments/${t}/add`,"v2"),e)}function d(t,e){return(0,n.Q)((0,i.k)(`comments/${t}/preview`,"v2"),e)}function p(t){return(0,n.Q)((0,i.k)(`articles/${t}/comments/reset`,"v2"))}function _(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/comments/disable`,"v2"),e)}function h(t){return(0,n.Q)((0,i.k)(`articles/${t}/comments/enable`,"v2"))}function g(t,e,s){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/${e}/source`,"v2"),s)}function T(t,e,s){return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}`,"v2"),s)}function v(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/comments-suspend/${e}`,"v2"))}function f(t,e,s){return(0,n.Q)((0,i.k)(`articles/${t}/comment-complaint/${e}`,"v2"),s)}function S(t,e,s){const a=s?"approve":"reject";return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}/moderate/${a}`,"v2"))}function E({postId:t,commentId:e,data:s}){return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}/votes`,"v2"),s)}function C({postId:t,commentId:e,data:s}){return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}/pinned`,"v2"),s)}function I(t){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/pinned`,"v2"))}function b(t){return(0,n.Q)((0,i.k)(`comments/${t}/bookmarks/add`))}function A(t){return(0,n.Q)((0,i.k)(`comments/${t}/bookmarks/remove`))}function y(t){return(0,n.Q)((0,i.k)(`articles/${t}/comments/read`,"v2"))}async function L({articleId:t,hl:e,cacheKey:s}){const n=new URLSearchParams({hl:e,cacheKey:s}),i=`/ssr/comments/${t}?${n.toString()}`,a=window.fetchStream||fetch,o=await a(i),{body:r,ok:l}=o;return l?r:Promise.reject(o)}},12790:(t,e,s)=>{"use strict";s.d(e,{$Y:()=>p,AL:()=>q,Bj:()=>Ft,C5:()=>Kt,C6:()=>T,CW:()=>zt,Cg:()=>d,DR:()=>O,Dz:()=>m,E9:()=>y,EJ:()=>ce,EV:()=>ne,F5:()=>G,FN:()=>F,FY:()=>Jt,Fy:()=>r,Fz:()=>jt,GL:()=>At,Gu:()=>Y,HJ:()=>Xt,Hu:()=>lt,IA:()=>it,J:()=>te,J9:()=>ae,Jb:()=>U,Jj:()=>ut,KD:()=>Vt,KO:()=>Rt,KW:()=>I,Kv:()=>pe,L$:()=>Nt,LX:()=>me,Mk:()=>Pt,Mp:()=>le,NW:()=>S,N_:()=>_t,OS:()=>P,PC:()=>Ct,Py:()=>Ht,Qh:()=>Wt,Qs:()=>Q,RS:()=>X,RX:()=>H,SU:()=>wt,Sp:()=>C,TN:()=>Lt,TY:()=>re,Tj:()=>ct,Tr:()=>l,US:()=>u,VN:()=>f,W7:()=>at,WW:()=>W,WY:()=>k,Wu:()=>Zt,X$:()=>A,Xl:()=>st,Xn:()=>qt,YZ:()=>It,Yn:()=>pt,Yy:()=>c,Z4:()=>kt,ZA:()=>bt,_:()=>J,_H:()=>w,b6:()=>_e,bj:()=>L,c2:()=>M,ct:()=>_,d7:()=>Dt,dE:()=>N,dc:()=>nt,dq:()=>Qt,ep:()=>dt,ey:()=>Ot,go:()=>$t,gu:()=>o,h6:()=>rt,hA:()=>yt,hE:()=>Tt,hS:()=>ot,iJ:()=>xt,iX:()=>mt,iv:()=>b,jY:()=>gt,jq:()=>ee,k5:()=>tt,kC:()=>St,ke:()=>Gt,kw:()=>h,l:()=>B,m_:()=>z,mp:()=>$,oP:()=>x,oU:()=>Z,om:()=>j,oz:()=>se,p6:()=>Et,q9:()=>ht,qV:()=>E,rD:()=>ie,rL:()=>ft,rd:()=>Ut,rw:()=>g,sS:()=>D,sn:()=>ue,tF:()=>K,uH:()=>V,uW:()=>Mt,wX:()=>R,xE:()=>et,xg:()=>vt,xt:()=>de,yF:()=>Yt,yz:()=>Bt,z4:()=>v,zc:()=>oe});var n=s(8938),i=s(69811),a=s(54226);function o(t={}){const{flowAlias:e,hubAlias:s}=t;let n="companies/";return e&&(n=`flows/${e}/companies`),s&&(n=`hubs/${s}/companies`),(0,i.Hm)((0,a.k)(n,"v2"),t)}function r(t){return(0,i.Hm)((0,a.k)("companies/search","v2"),t)}function l(t){return(0,i.Hm)((0,a.k)("companies/company_categories/","v2"),t)}function c(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/card/`,"v2"),e)}function m(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/whois/`,"v2"),e)}function u(t){return(0,i.Q)((0,a.k)(`companies/${t}/subscription`,"v2"))}function d(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/widgets/`,"v2"),e)}function p(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/workers/${e}`,"v2"),s)}function _(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widgets`,"v2"),e)}function h(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications`,"v2"),s)}function g(t,e,s){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}`,"v2"))}function T(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/account`,"v2"))}function v(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/account`,"v2"))}function f(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/connect`,"v2"),null)}function S(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/exclude_replies`,"v2"),s)}function E(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widgets/${e}/${s}/form`,"v2"))}function C(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}/form`,"v2"))}function I(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}`,"v2"),n)}function b(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widgets/${e}/${s}`,"v2"),n)}function A(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widgets/${e}/published`,"v2"),s)}function y(t,e,s){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/widgets/${e}/${s}`,"v2"))}function L(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widgets_ordering`,"v2"),e)}function P(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/ordering`,"v2"),s)}function O(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}/published`,"v2"),n)}function R(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_news/${e}/items`,"v2"),s)}function N(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_news/${e}/items/${s}/published`,"v2"),n)}function k(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/fans/${e}`,"v2"),s)}function M(t){return(0,i.Hm)((0,a.k)(`companies/top/by_hub/${t}`,"v2"))}function w(t){return(0,i.Hm)((0,a.k)(`companies/top/by_flow/${t}`,"v2"))}function x(t){return(0,i.Hm)((0,a.k)(`companies/${t}/investment/hubs`,"v2"))}function D(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/vacancies/`,"v2"),e)}function B(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/branding/${e}`,"v2"))}function $(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/info`,"v2"),e)}function F(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/profile/form`,"v2"),e)}function G(){return(0,i.Hm)((0,a.k)("refs/company_categories","v2"))}function U(){return(0,i.Hm)((0,a.k)("refs/human_resources","v2"))}function V(){return(0,i.Hm)((0,a.k)("refs/company_contact_types","v2"))}function H(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/profile`,"v2"),e)}function Z(t,e){const s=e.period||"month",o={rating:"rating",views:"posts_views",followers:"subscribers"},r={week:7,month:30,quarter:90,halfyear:180,year:365,twoyears:730},l=r[s],c=(0,n.ic)(l);return(0,i.Hm)((0,a.k)(`companies/${t}/indicators/`,"v2"),{...c,type:o[e.type]})}function W(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/authors`,"v2"),e)}function Y(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/hubs`,"v2"),e)}function q(t,{page:e,perPage:s}){return(0,i.Hm)((0,a.k)(`companies/${t}/career/vacancies/`,"v2"),{page_num:e,per_page:s})}function j(t){return(0,i.Hm)((0,a.k)(`companies/${t}/career/settings/form`,"v2"))}function K(t){const{companyAlias:e,careerAlias:s,isRatingEnabled:n,isVacanciesEnabled:o}=t;return(0,i.Q)((0,a.k)(`companies/${e}/career/settings`,"v2"),{alias:s,isRatingEnabled:n,isVacanciesEnabled:o})}function z({companyAlias:t,vacancyId:e,isActive:s}){return(0,i.Q)((0,a.k)(`companies/${t}/career/vacancy`,"v2"),{id:e,isActive:s})}function Q(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/log`,"v2"),e)}function X(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/tariff/code`,"v2"),e)}function J(t){return(0,i.Hm)((0,a.k)(`companies/${t}/analytics/settings/form`,"v2"))}function tt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/analytics/settings`,"v2"),e)}function et(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/localization/form`,"v2"),e)}function st(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/localization`,"v2"),e)}function nt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/finance/list`,"v2"),e)}function it(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/employees`,"v2"),e)}function at(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/employees`,"v2"),e)}function ot(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/employees/${e}/`,"v2"))}function rt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/employee_requests`,"v2"),e)}function lt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/employee_requests/${e}/approve`,"v2"),null)}function ct(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/employee_requests/${e}/reject`,"v2"),null)}function mt(t){return(0,i.Hm)((0,a.k)(`companies/${t}/tariff/current`,"v2"))}function ut(t){return(0,i.Hm)((0,a.k)(`companies/${t}/tariff/list`,"v2"))}function dt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/tariff/prolong`,"v2"),e)}function pt(t){return(0,i.Q)((0,a.k)(`companies/${t}/admin/startup/prolong`,"v2"))}function _t(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/manager/list`,"v2"),e)}function ht(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/manager`,"v2"),e)}function gt(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/manager/${e}/role`,"v2"),s)}function Tt(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/manager/${e}/settings`,"v2"),s)}function vt(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/manager/${e}/`,"v2"))}function ft(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/invites/count`,"v2"),e)}function St(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/invites/used`,"v2"),e)}function Et(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/invites/unused`,"v2"),e)}function Ct(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/invites/${e}/`,"v2"))}function It(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/invites/${e}/`,"v2"))}function bt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/invites/by_email`,"v2"),e)}function At(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/invites/by_login`,"v2"),e)}function yt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/requisites/list`,"v2"),e)}function Lt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/requisites/${e}/current`,"v2"))}function Pt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/requisites`,"v2"),e)}function Ot(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/requisites/${e}`,"v2"),s)}function Rt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/requisites/${e}`,"v2"))}function Nt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/posts/`,"v2"),e)}function kt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/news/`,"v2"),e)}function Mt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/branding/list`,"v2"),e)}function wt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/branding/list/`,"v2"),e)}function xt(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/branding/list/${e}/`,"v2"),s)}function Dt(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/branding/list/${e}/`,"v2"))}function Bt(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/branding/list/${e}/form/`,"v2"),s)}function $t(t){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/branding/current/`,"v2"))}function Ft(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/branding/current/`,"v2"),e)}function Gt(){return(0,i.Hm)((0,a.k)("refs/application_platforms","v2"))}function Ut(t){return(0,i.Hm)((0,a.k)("companies/faq/","v2"),t)}function Vt(t,e){return(0,i.Hm)((0,a.k)(`companies/faq/${t}`,"v2"),e)}function Ht(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/workers/all/${e}`,"v2"),s)}function Zt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/employees_suggest`,"v2"),e)}function Wt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/managers_suggest`,"v2"),e)}function Yt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/invites/by_login/suggest`,"v2"),e)}function qt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/posts/export`,"v2"),e,0,!0,"blob")}function jt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/news/export`,"v2"),e,0,!0,"blob")}function Kt(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/finance/files/${e}`,"v2"),s,0,!0,"blob")}function zt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/profile`,"v2"),e)}function Qt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/gallery`,"v2"),e)}function Xt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/gallery`,"v2"),e)}function Jt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/gallery/form`,"v2"),e)}function te(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/gallery`,"v2"),e)}function ee(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/gallery/published`,"v2"),e)}function se(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/banner`,"v2"),e)}function ne(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/banner`,"v2"),e)}function ie(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/banner/form`,"v2"),e)}function ae(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/banner/published`,"v2"),e)}function oe(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/banner`,"v2"),e)}function re(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/vacancies`,"v2"),e)}function le(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/vacancies`,"v2"),e)}function ce(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/vacancies/published`,"v2"),e)}function me(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/technology/form`,"v2"),e)}function ue(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/technology`,"v2"),e)}function de(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/technology`,"v2"),e)}function pe(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/technology`,"v2"),e)}function _e(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/technology/published`,"v2"),e)}},99274:(t,e,s)=>{"use strict";s.d(e,{GX:()=>r,Gn:()=>o,bG:()=>l,d2:()=>m,vt:()=>c});var n=s(50283),i=s(69811),a=s(54226);function o(t){return(0,i.Hm)((0,a.k)("conversations/list","v2"),t).then(n.ei)}function r(t,e){return(0,i.Hm)((0,a.k)(`conversations/list/${t}/`,"v2"),e).then(n.rv)}function l(t,e){return(0,i.Q)((0,a.k)(`conversations/list/${e}`,"v2"),t).then(n.kW)}function c(t){return(0,i.Hm)((0,a.k)("conversations/suggest","v2"),t).then(n.Zp)}function m(t){return(0,i.Hm)((0,a.k)("conversations/unread/","v2"),t).then(n.d)}},88092:(t,e,s)=>{"use strict";s.d(e,{PL:()=>o,PY:()=>c,_C:()=>a,dx:()=>r,f3:()=>m,lm:()=>u,yp:()=>l});var n=s(69811),i=s(54226);function a(t){let e=(0,i.k)("hubs/","v2");return t.flowAlias&&(e=(0,i.k)(`hubs/${t.flowAlias}/`,"v2")),(0,n.Hm)(e,t)}function o(t){return(0,n.Hm)((0,i.k)("hubs/search","v2"),t)}function r(t,e){return(0,n.Hm)((0,i.k)(`hubs/${t}/profile`,"v2"),e)}function l(t,e){return(0,n.Hm)((0,i.k)(`hubs/${t}/authors`,"v2"),e)}function c(t){return(0,n.Q)((0,i.k)(`hubs/${t}/subscription`,"v2"))}function m(t){return(0,n.Hm)((0,i.k)("presets/list","v2"),t)}function u(t){return(0,n.Q)((0,i.k)("presets/subscription","v2"),t)}},54226:(t,e,s)=>{"use strict";function n(t,e="v1"){return encodeURI(`https://habr.com/kek/${e}/${t}`)}s.d(e,{k:()=>n})},1615:(t,e,s)=>{"use strict";s.d(e,{C0:()=>p,HM:()=>c,J5:()=>T,KW:()=>r,TR:()=>v,iX:()=>l,jA:()=>m,jo:()=>a,lW:()=>g,ln:()=>u,mp:()=>_,sE:()=>o,sZ:()=>d,t:()=>h});var n=s(69811),i=s(54226);function a(){return(0,n.Hm)((0,i.k)("me","v2"))}function o(){return(0,n.Hm)((0,i.k)("me/invites/available","v2"))}function r(t){return(0,n.Hm)((0,i.k)("me/invites/used","v2"),t)}function l(t){return(0,n.Hm)((0,i.k)("me/invites/unused","v2"),t)}function c(t){return(0,n.Q)((0,i.k)("me/invites/all","v2"),t)}function m(t){return(0,n.Q)((0,i.k)(`me/invites/all/${t}`,"v2"))}function u(t){return(0,n.Q)((0,i.k)(`me/invites/all/${t}/resend`,"v2"),{id:t})}function d(t){return(0,n.Q)((0,i.k)("me/invites/check","v2"),{invite:t})}function p(t){return(0,n.Q)((0,i.k)("me/invites/apply","v2"),{invite:t})}function _(t){return(0,n.Q)((0,i.k)("me/ppg","v2"),{program:t})}function h(){return(0,n.Hm)((0,i.k)("me/karma/reset","v2"))}function g(){return(0,n.Q)((0,i.k)("me/karma/reset","v2"))}function T(){return(0,n.ZI)((0,i.k)("me/karma/reset","v2"))}function v(t){return(0,n.Hm)((0,i.k)("me/notes","v2"),t)}},62965:(t,e,s)=>{"use strict";s.d(e,{YB:()=>m,Zx:()=>l,hg:()=>c,ny:()=>r,pV:()=>o,qK:()=>a,s5:()=>u});var n=s(69811),i=s(54226);function a(t,e){return(0,n.Hm)((0,i.k)(`docs/ppa/${t}`,"v2"),e)}function o(t){return(0,n.Hm)((0,i.k)(`ppa/cards/${t}`,"v2"))}function r(t,e){return(0,n.Hm)((0,i.k)(`ppa/transactions/${t}`,"v2"),{page_num:e})}function l(t){return(0,n.Q)((0,i.k)("ppa/withdraw","v2"),{value:t})}function c(t){return(0,n.Q)((0,i.k)("ppa/profile","v2"),t)}function m(t){return(0,n.Q)((0,i.k)("ppa/profile/update","v2"),t)}function u(){return(0,n.Q)((0,i.k)("ppa/join","v2"))}},97660:(t,e,s)=>{"use strict";s.d(e,{NN:()=>l,Sr:()=>r,ge:()=>o,l9:()=>c,uC:()=>a});var n=s(69811),i=s(54226);function a(t={}){const{count:e,hubs:s=[],tags:a=[],companyAlias:o,hl:r}=t;return(0,n.Hm)((0,i.k)("inset/vacancies","v2"),{count:e,hubs:s.slice(0,10).join(","),tags:a.slice(0,10).join(","),companyAlias:o,hl:r})}function o(t={}){const{count:e,hubs:s,tags:a,hl:o}=t;return(0,n.Hm)((0,i.k)("inset/tasks","v2"),{count:e,hubs:s.slice(0,10).join(","),tags:a.slice(0,10).join(","),hl:o})}function r(t={}){const{count:e,hubs:s=[],tags:a=[],hl:o}=t;return(0,n.Hm)((0,i.k)("inset/courses","v2"),{count:e,hubs:s.slice(0,10).join(","),tags:a.slice(0,10).join(","),hl:o})}function l({count:t,tags:e=[],hl:s}){return(0,n.Hm)((0,i.k)("inset/questions","v2"),{count:t,tags:e.slice(0,5).join(","),hl:s})}function c(){return(0,n.Hm)((0,i.k)("inset/salary_distribution","v2"))}},92698:(t,e,s)=>{"use strict";s.d(e,{H:()=>a,s:()=>o});var n=s(37522),i=s(69811);function a(t={}){const e="https://effect.habr.com/a";return(0,i.Cm)(e,JSON.stringify(t),!1,!1).then((t=>{if(t.error)throw new Error(t.error.message);return t})).catch((t=>(0,n.T)(t)))}function o(t=[]){const e="https://effect.habr.com/a",s={version:"1.0",events:t};return(0,i.Q)(e,JSON.stringify(s),!1,!1).then((t=>{if(t.error)throw new Error(t.error.message);return t})).catch((t=>(0,n.T)(t)))}},71398:(t,e,s)=>{"use strict";s.d(e,{D5:()=>d,EC:()=>h,K$:()=>f,Ki:()=>v,P7:()=>m,Y2:()=>u,aW:()=>S,e:()=>a,f$:()=>c,in:()=>p,mj:()=>o,pG:()=>_,wO:()=>r,xx:()=>l});var n=s(69811),i=s(54226);function a(){return(0,n.Hm)((0,i.k)("publication/wysiwyg-rules","v2"))}function o(t){return(0,n.Hm)((0,i.k)("publication/suggest-tags","v2"),t)}function r(t){return(0,n.Hm)((0,i.k)("publication/suggest-customers","v2"),t)}function l(t){return(0,n.Hm)((0,i.k)("publication/suggest-authors","v2"),t)}function c(t){return(0,n.Hm)((0,i.k)("publication/suggest-megapost-companies","v2"),t)}function m(t){return(0,n.Hm)((0,i.k)("publication/suggest-inner-tags","v2"),t)}function u(t){return(0,n.Q)((0,i.k)("publication/upload","v2"),t)}function d(t,e){const s=e?`publication/save/${e}`:"publication/save";return(0,n.Q)((0,i.k)(s,"v2"),t)}function p(t,e){const s=e?`megapost/save/${e}`:"megapost/save";return(0,n.Q)((0,i.k)(s,"v2"),t)}function _(t){return(0,n.Hm)((0,i.k)(`megapost/post-data/${t}`,"v2"))}function h(t){return(0,n.Hm)((0,i.k)(`publication/post-data/${t}`,"v2"))}const g=(t,e)=>t.filter((t=>-1===e.indexOf(t.id))).map((t=>({name:t.title,alias:t.id.toString(),postsLeft:t.postsLeft||null}))),T=t=>{const e=[],s=t.byPost?t.byPost.map((t=>(e.push(t.id),{name:t.title,alias:t.id.toString(),postsLeft:t.postsLeft||null}))):[],n=t.collective?g(t.collective,e):[],i=t.corporative?g(t.corporative,e):[],a=t.offtopic?g(t.offtopic,e):[];return[{list:s,name:"PUBLICATION_HUBS_BYPOST"},{list:i,name:"PUBLICATION_HUBS_CORPORATIVE"},{list:n,name:"PUBLICATION_HUBS_COLLECTIVE"},{list:a,name:"PUBLICATION_HUBS_OFFTOPIC"}]};function v(t){return(0,n.Hm)((0,i.k)("megapost/suggest-company-blog","v2"),t).then(T)}function f(t){return(0,n.Hm)((0,i.k)("megapost/suggest-hubs","v2"),t).then(T)}function S(t){return(0,n.Hm)((0,i.k)("publication/suggest-hubs","v2"),t).then(T)}},70109:(t,e,s)=>{"use strict";s.d(e,{$7:()=>l,BX:()=>r,TH:()=>a,aK:()=>o});var n=s(69811),i=s(54226);function a(t){const{perPage:e,pageNum:s,hl:a,category:o,unread:r}=t;return(0,n.Hm)((0,i.k)("me/notifications","v2"),{per_page:e,page_num:s,hl:a,category:o,unread:r})}function o({ids:t}){return(0,n.Q)((0,i.k)("me/notifications/read","v2"),{ids:t})}function r({ids:t}){return(0,n.Q)((0,i.k)("me/notifications/view","v2"),{ids:t})}function l(t){return(0,n.Q)((0,i.k)(`posts/${t}/tracker_subscription`,"v2"),{trackerSubscribed:!1})}},19516:(t,e,s)=>{"use strict";s.d(e,{$B:()=>U,C1:()=>y,C7:()=>B,Ct:()=>O,Es:()=>N,FM:()=>J,Fp:()=>a,GL:()=>v,HM:()=>P,Hm:()=>st,JI:()=>S,JO:()=>M,Jj:()=>V,K9:()=>$,KE:()=>E,L5:()=>H,LD:()=>m,Lt:()=>g,OR:()=>u,S6:()=>p,T3:()=>x,TH:()=>T,Ts:()=>c,UZ:()=>I,Uu:()=>D,V6:()=>l,WU:()=>d,XW:()=>G,YI:()=>_,Yv:()=>f,ZB:()=>C,_X:()=>F,aP:()=>r,bG:()=>h,cZ:()=>b,d1:()=>j,d9:()=>o,dX:()=>R,dZ:()=>L,fK:()=>tt,h8:()=>q,jS:()=>A,l$:()=>Y,lp:()=>k,mH:()=>Z,qq:()=>K,tZ:()=>W,w9:()=>X,wS:()=>w,xS:()=>z,xm:()=>Q,yG:()=>et});var n=s(69811),i=s(54226);function a(t){return(0,n.Hm)((0,i.k)("users/","v2"),t)}function o(t){return(0,n.Hm)((0,i.k)("users/search","v2"),t)}function r(t){return(0,n.Hm)((0,i.k)(`users/${t.user}/comments`,"v2"),t)}function l(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/investment/hubs`,"v2"),e)}function c(t){return(0,n.Hm)((0,i.k)(`users/${t.user}/bookmarks/comments`,"v2"),t)}function m(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/subscriptions/companies`,"v2"),e)}function u(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/invited`,"v2"),e)}function d(t){return(0,n.Hm)((0,i.k)(`users/${t}/ppg`,"v2"))}function p(t,e){return(0,n.Q)((0,i.k)(`users/${t}/ppg`,"v2"),{program:e})}function _(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/subscriptions/hubs`,"v2"),e)}function h(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/card`,"v2"),e)}function g(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/whois`,"v2"),e)}function T(t,e){return(0,n.Q)((0,i.k)(`users/${t}/votes`,"v2"),e)}function v(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/votes_for`,"v2"),e)}function f(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/votes_from`,"v2"),e)}function S(t){return(0,n.Q)((0,i.k)(`users/${t}/following/toggle`,"v2"))}function E(t){return(0,n.Q)((0,i.k)("settings/i18n"),t)}function C(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/statistics/viewcount`,"v2"),e)}function I(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/statistics/posts`,"v2"),e)}function b(t){return(0,n.Q)((0,i.k)("settings/subscription","v2"),t)}function A(t){return(0,n.Hm)((0,i.k)(`users/${t}/note`,"v2"))}function y(t,e){return(0,n.Q)((0,i.k)(`users/${t}/note`,"v2"),e)}function L(t){return(0,n.Q)((0,i.k)(`users/${t}/invites`,"v2"))}function P(t){return(0,n.Q)((0,i.k)(`users/${t}/issue_invite`,"v2"))}function O(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/followed`,"v2"),e)}function R(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/followers`,"v2"),e)}function N(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/occupation`,"v2"),e)}function k(t){return(0,n.Hm)((0,i.k)(`settings/${t}/form`,"v2"))}function M(t){return(0,n.Hm)((0,i.k)(`settings/oauth/${t}`,"v2"))}function w(t){return(0,n.Q)((0,i.k)(`settings/oauth/delete/${t}`,"v2"))}function x(t){return(0,n.Q)((0,i.k)("settings/oauth/clients","v2"),t)}function D(t,e,s){return(0,n.Q)((0,i.k)(`settings/oauth/clients/${e}/${s}`,"v2"),t)}function B(t){return(0,n.Hm)((0,i.k)(`settings/oauth/clients/${t}/form`,"v2"))}function $(t){return(0,n.Q)((0,i.k)("/settings/use_markdown","v2"),{useMarkdown:t})}function F(){return(0,n.Hm)((0,i.k)("refs/user_contact_types","v2"))}function G(){return(0,n.Hm)((0,i.k)("refs/geo","v2"))}function U(t){return(0,n.Hm)((0,i.k)("refs/geo","v2"),{countryId:t})}function V(t,e){return(0,n.Hm)((0,i.k)("refs/geo","v2"),{countryId:t,regionId:e})}function H(){return(0,n.Hm)((0,i.k)("refs/specializations","v2"))}function Z(){return(0,n.Hm)((0,i.k)("refs/currencies","v2"))}function W(){return(0,n.Hm)((0,i.k)("refs/qualifications","v2"))}function Y(t){return(0,n.Hm)((0,i.k)("suggest/skills","v2"),t)}function q(t){return(0,n.Hm)((0,i.k)("suggest/skills/similar","v2"),{skills:t})}function j(t,e){return(0,n.Q)((0,i.k)(`settings/${e}`,"v2"),t)}function K(t){return(0,n.Q)((0,i.k)("upload","v2"),t)}function z(){return(0,n.Hm)((0,i.k)("statistics/users","v2"))}function Q(){return(0,n.Hm)((0,i.k)("karma-stats"))}function X(t,e){return(0,n.Q)((0,i.k)(`users/${t}/employee_requests`,"v2"),e)}function J(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/employee_requests/${e}`,"v2"))}function tt(t,e){return(0,n.ZI)((0,i.k)(`users/${t}/employee_requests/${e}/`,"v2"))}function et(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/comments/votes`,"v2"),e)}function st(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/posts/votes`,"v2"),e)}},80691:(t,e,s)=>{"use strict";s.d(e,{Z:()=>j});var n=function(){var t=this,e=t._self._c;return e("Portal",{attrs:{to:"overlays"}},[t.currentAbbr?e("TMPositionedPopup",{attrs:{"bounding-element":t.contentRef,"get-final-content-size":t.getFinalContentSize,"horizontal-alignment":"center","target-element":t.abbrElement,"vertical-position":"under"},on:{"click-outside":t.maybeCloseAbbr,close:t.closeAbbr}},[e("div",{staticClass:"abbreviation-presenter"},[t.isMobileOnly&&t.currentAbbr.image?e("div",{staticClass:"abbreviation-presenter__image-container"},[e("TMLoadingImage",{staticClass:"abbreviation-presenter__image",attrs:{alt:t.currentAbbr.textTitle,height:t.currentAbbr.imageHeight,src:t.currentAbbr.image,width:t.currentAbbr.imageWidth}})],1):e("TMCardImage",{attrs:{alt:t.currentAbbr.textTitle,"card-width":320,image:t.currentAbbr.image,"image-height":t.imageHeight,"image-width":t.currentAbbr.imageWidth,"initial-height":t.initialImageHeight,"max-height":160}}),t._v(" "),t.hasText?e("div",{staticClass:"abbreviation-presenter__text"},[t.currentAbbr.abbr?e("div",{staticClass:"abbreviation-presenter__abbr"},[t._v("\n          "+t._s(t.currentAbbr.abbr)+"\n        ")]):t._e(),t._v(" "),t.currentAbbr.title?e("TMFormattedText",{staticClass:"abbreviation-presenter__title",attrs:{"article-text":t.currentAbbr.title,version:t.version}}):t._e()],1):t._e()],1)]):t._e()],1)},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return e("transition",{attrs:{appear:"",name:"expand"}},[t.image?e("TMLoadingImage",{staticClass:"tm-card-image",class:t.loading&&"loads",style:t.style,attrs:{alt:t.alt,height:t.imageHeight,src:t.image,width:t.imageWidth}}):t._e()],1)},r=[],l=function(){var t=this,e=t._self._c;return t.src?e("img",{ref:"image",attrs:{alt:t.alt,height:t.height,src:t.src,width:t.width},on:{load:t.showImage}}):t._e()},c=[];const m={name:"TMLoadingImage",props:{src:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},height:{type:[Number,String],required:!0},width:{type:[Number,String],required:!0}},data(){return{loading:!0}},watch:{src(){this.$refs.image.classList.add("loads")}},mounted(){this.$refs.image.addEventListener("load",this.showImage)},methods:{showImage(){this.$refs.image.classList.remove("loads")}}},u=m;var d=s(1001),p=(0,d.Z)(u,l,c,!1,null,null,null);const _=p.exports,h={name:"TMCardImage",components:{TMLoadingImage:_},props:{image:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},initialHeight:{type:Number,required:!0},imageHeight:{type:Number,required:!0},imageWidth:{type:[Number,String],required:!0}},data(){return{loading:!0}},computed:{style(){return{"--initial-height":`${this.initialHeight}px`,"--image-height":`${this.imageHeight}px`}}},watch:{image(){this.loading=!0}},methods:{showImage(){this.loading=!1}}},g=h;var T=(0,d.Z)(g,o,r,!1,null,null,null);const v=T.exports;var f=s(97259),S=function(){var t=this,e=t._self._c;return!t.isTablet&&t.isMobile?e("TMScrollLockTransition",{attrs:{appear:"",name:"slide-fade"}},[e("TMBottomSheet",{attrs:{card:"",title:t.title},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},[t._t("default")],2)],1):e("transition",{attrs:{appear:"",name:"transition-fade"}},[e("TMPositionedWindow",{attrs:{"bounding-element":t.boundingElement,"get-final-content-size":t.getFinalContentSize,"horizontal-alignment":t.horizontalAlignment,"target-element":t.targetElement,title:t.title,"vertical-position":t.verticalPosition},on:{"click-outside":function(e){return t.$emit("click-outside",e)},close:function(e){return t.$emit("close")}}},[t._t("default")],2)],1)},E=[],C=s(46768),I=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.bubbleClickOutside,expression:"bubbleClickOutside"},{name:"hotkey",rawName:"v-hotkey",value:{esc:t.close},expression:"{ esc: close }"}],ref:"window",staticClass:"tm-positioned-window",style:t.style},[e("div",{staticClass:"tm-positioned-window__wrapper"},[e("button",{staticClass:"tm-positioned-window__close",attrs:{type:"button"},on:{click:t.close}},[e("TMSvgImg",{attrs:{id:"close",size:"12"}})],1),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-positioned-window__content"},[t._t("default")],2):t._e()])])},b=[],A=s(2649),y=s.n(A),L=s(93096),P=s.n(L),O=s(2813),R=s(59436);const N=8,k=40,M={name:"TMPositionedWindow",components:{TMSvgImg:O.Z},directives:{ClickOutside:y()},props:{verticalPosition:{type:String,default:null,validator:(0,R.H)(["above","under"])},horizontalAlignment:{type:String,default:"left",validator:(0,R.H)(["left","center"])},boundingElement:{type:null,default:null},targetElement:{type:null,required:!0},getFinalContentSize:{type:Function,default:null}},data(){return{style:{top:null,left:null,"--max-abbr-height":"auto"}}},watch:{targetElement(){this.$nextTick().then((()=>{this.updateWindowBox()}))}},mounted(){this.updateWindowBox(),window.addEventListener("resize",this.throttledUpdateWindowBox)},beforeDestroy(){window.removeEventListener("resize",this.throttledUpdateWindowBox)},methods:{throttledUpdateWindowBox:P()((function(){this.updateWindowBox()}),300),updateWindowBox(){const t=this.getMaxContentHeight(),e=this.targetElement.getBoundingClientRect(),s=this.$refs.window.getBoundingClientRect(),n=this.getFinalContentSize?this.getFinalContentSize(s):s;n.height>t&&(n.height=t),this.positionWindow(n,e),this.alignWindow(n,e),this.containWithinBounds(n),this.addScroll(n),this.style={left:`${n.x}px`,top:`${n.y}px`,"--max-positioned-window-height":`${t}px`}},alignWindow(t,e){"center"===this.horizontalAlignment&&(t.x-=(t.width-e.width)/2)},positionWindow(t,e){t.x=e.left,t.y=e.top,this.applyWindowPlacement(t,e,this.verticalPosition);const s=this.getOptimalPlacement(t,e);s!==this.verticalPosition&&this.applyWindowPlacement(t,e,s)},applyWindowPlacement(t,e,s){"under"===s?t.y=e.bottom+N:"above"===s&&(t.y=e.top-t.height-N)},getOptimalPlacement(t,e){const s=this.getSpaceUnder(t,e),n=this.getSpaceAbove(t,e);return"under"===this.verticalPosition?s>0||s>n?"under":"above":n>0||n>s?"above":"under"},getSpaceUnder(t,e){return visualViewport.height-(e.bottom+N+t.height)},getSpaceAbove(t,e){return e.top-N-t.height},containWithinBounds(t){if(this.boundingElement){const e=this.boundingElement.getBoundingClientRect();this.containHorizontally(t,e)}},containHorizontally(t,e){let s=0;t.left<e.left&&(s=e.left-t.left),t.right>e.right&&(s=e.right-t.right),t.x+=s},addScroll(t){t.x+=document.documentElement.scrollLeft,t.y+=document.documentElement.scrollTop},close(){this.$emit("close")},bubbleClickOutside(t){this.$emit("click-outside",t)},getMaxContentHeight(){return visualViewport.height/2-k}}},w=M;var x=(0,d.Z)(w,I,b,!1,null,null,null);const D=x.exports;var B=s(75817);const $={name:"TMPositionedPopup",components:{TMPositionedWindow:D,TMBottomSheet:C.Z,TMScrollLockTransition:B.Z},props:{title:{type:String,default:null},verticalPosition:{type:String,default:null,validator:(0,R.H)(["above","under"])},horizontalAlignment:{type:String,default:"left",validator:(0,R.H)(["left","center"])},boundingElement:{type:null,default:null},targetElement:{type:null,required:!0},getFinalContentSize:{type:Function,default:null}},computed:{...(0,a.Se)("global",["isMobile","isTablet"])}},F=$;var G=(0,d.Z)(F,S,E,!1,null,null,null);const U=G.exports,V=180,H=320,Z="habraabbr",W={name:"TMAbbreviationPresenter",components:{TMLoadingImage:_,TMFormattedText:f.Z,TMCardImage:v,TMPositionedPopup:U},props:{contentRef:{type:null,required:!0},version:{type:[String,Number],default:null}},data(){return{prevAbbr:null,currentAbbr:null,disposeAbbrs:null,abbrElement:null}},computed:{...(0,a.Se)("global",["isMobileOnly"]),hasText(){return this.currentAbbr&&(this.currentAbbr.title||this.currentAbbr.abbr)},imageHeight(){return this.currentAbbr&&this.currentAbbr.image?this.constrainImageHeight(this.currentAbbr.imageWidth,this.currentAbbr.imageHeight):0},prevImageHeight(){return this.prevAbbr&&this.prevAbbr.image?this.constrainImageHeight(this.prevAbbr.imageWidth,this.prevAbbr.imageHeight):0},initialImageHeight(){return this.prevAbbr?this.prevImageHeight:this.imageHeight}},mounted(){this.getAbbrElements().forEach((t=>{t.setAttribute("data-text-title",t.getAttribute("title")),t.removeAttribute("title"),t.addEventListener("click",this.abbrClickHandler)}))},beforeDestroy(){this.getAbbrElements().forEach((t=>{t.removeEventListener("click",this.abbrClickHandler)}))},methods:{getAbbrElements(){return this.contentRef.querySelectorAll(`.${Z}`)},abbrClickHandler(t){const e=t.currentTarget;this.setAbbrElement(e)},setAbbrElement(t){this.abbrElement=t;const{dataset:e}=t;this.prevAbbr=this.currentAbbr,this.currentAbbr={title:e.title,image:e.image,abbr:e.abbr,textTitle:e.textTitle,imageWidth:e.imageWidth,imageHeight:e.imageHeight}},getFinalContentSize(t){return new DOMRect(t.x,t.y,t.width,this.getNextWindowHeight(t.height))},getNextWindowHeight(t){return this.prevAbbr?t-this.prevImageHeight+this.imageHeight:t},constrainImageHeight(t,e){return Math.min(e*(H/t),V)},closeAbbr(){this.currentAbbr=null,this.prevAbbr=null},maybeCloseAbbr(t){t.target.className!==Z&&this.closeAbbr()}}},Y=W;var q=(0,d.Z)(Y,n,i,!1,null,null,null);const j=q.exports},19774:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-adfox-banner__container"},[t.adIsShown?e("a",{staticClass:"tm-adfox-banner__title",attrs:{href:t.advertisingLink,target:"_blank"}},[t._v("\n    "+t._s(t.msg("NAV_ADVERTISING"))+"\n  ")]):t._e(),t._v(" "),e("div",{key:t.uniqueDivId,ref:"adBanner",staticClass:"tm-adfox-banner",class:t.bem("tm-adfox-banner",{variant:t.variant}),attrs:{id:t.containerId}})])},i=[],a=s(20629),o=s(49606);const r=(t={},e={},s={})=>{let n=[];const{hubs:i}=t;return n=n.concat(i?i.map((t=>`h_${t.alias}`)):[]),s.params.hubName&&e&&n.push(`h_${e.alias}`),n},l=(t={},e={},s={})=>{let n=[];const{flows:i}=t;return n=n.concat(i?i.map((t=>`f_${t.alias}`)):[]),s.params.hubName&&e.flow&&e.flow.alias&&n.push(`f_${e.flow.alias}`),s.params.flowName&&n.push(`f_${s.params.flowName}`),n};var c=s(65873);const m={name:"TMAdfoxBanner",props:{adfoxId:{type:String,required:!0},divId:{type:String,default:(0,o.Z)("adbanner")},variant:{type:String,required:!0},params:{type:Object,required:!0}},data(){return{uniqueDivId:(0,o.Z)(this.divId),adIsShown:!1}},computed:{...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("hubs",["getHubByAlias"]),...(0,a.rn)("adblock",["hasAcceptableAdsFilter"]),...(0,a.rn)("i18n",["fl","hl"]),articleId(){return this.$route.params.id},hubAlias(){return this.$route.params.hubName},hub(){return this.hubAlias&&this.getHubByAlias(this.hubAlias)},article(){return this.articleId&&this.getArticleById(this.articleId)},containerId(){return`adfox_${this.adfoxId}`},pageType(){let t="default";return this.$route.matched.forEach((e=>{e.meta&&e.meta.pageType&&(t=e.meta.pageType)})),t},advertisingLink(){return`https://company.habr.com/${this.hl}/advertising/`}},mounted(){this.initiObserver(),this.displayAds()},methods:{bem:c.P,initiObserver(){if(window.MutationObserver){const t=this.$refs.adBanner,e={childList:!0,subtree:!0},s=()=>{const{adBanner:t}=this.$refs;this.adIsShown=t&&(t.firstElementChild&&t.firstElementChild.childElementCount>0||t.childElementCount>1)};this.observer=new MutationObserver(s),this.observer.observe(t,e)}else this.adIsShown=!0},displayAds(){window.yaContextCb.push((()=>{const t=l(this.article,this.hub,this.$route),e=r(this.article,this.hub,this.$route),s={puid1:this.pageType,puid2:t.join(":"),puid3:e.join(":"),puid4:this.hasAcceptableAdsFilter?"yes":"no",puid5:this.$route.path,puid6:"en"===this.fl?"en":"ru"};Ya.adfoxCode.create({ownerId:406261,containerId:this.containerId,params:{...this.params,...s}})}))}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},39639:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"tm-align-center"},[t.$slots.start?e("span",{staticClass:"tm-align-center__start"},[t._t("start")],2):t._e(),t._v(" "),e("span",{staticClass:"tm-align-center__content"},[t._t("default")],2),t._v(" "),t.$slots.end?e("span",{staticClass:"tm-align-center__end"},[t._t("end")],2):t._e()])},i=[];const a={name:"TMAlignCenter"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},66309:(t,e,s)=>{"use strict";s.d(e,{Z:()=>Tt});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-blocks"},[e("TMEditoralSubscription"),t._v(" "),t._t("beforeComments"),t._v(" "),t.isLoading?e("TMCommentsWrapper",[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})],1):e("div",{staticClass:"tm-article-blocks__comments"},[e("TMArticlePageComments",{attrs:{article:t.article}})],1),t._v(" "),t._t("afterComments")],2)},i=[],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-page-comments"},[t.article.commentsEnabled?t.shouldSsrArticleComments?e("TMArticleCommentsServerRendered",{attrs:{"article-id":t.articleId,"can-cache-comments":t.canCacheComments}}):e("TMIntersectionSwitch",{attrs:{"root-margin":"1000px 0px 1000px 0px"},on:{intersected:t.onIntersected},scopedSlots:t._u([{key:"default",fn:function(){return[t.canStreamComments?e("TMHeightLimiter",{attrs:{"expand-title":t.msg("COMMENTS_SHOW_ALL",{count:t.article.statistics.commentsCount}),"max-height":t.isExpandedLimiter?null:t.commentsInitialHeight}},[e("TMArticleCommentsOffloaded",{attrs:{"article-id":t.articleId,"can-cache-comments":t.canCacheComments,ssr:t.shouldSsrArticleComments},on:{expandLimiter:function(e){t.isExpandedLimiter=!0},toggleCommentsState:t.enableArticleComments}})],1):e("TMArticleCommentsClientRendered",{attrs:{article:t.article},on:{loaded:t.onCommentsLoaded}})]},proxy:!0},{key:"fallback",fn:function(){return[e("TMArticleCommentsCounterButton",{attrs:{article:t.article}})]},proxy:!0}])}):e("TMArticleCommentsDisabledNotice",{on:{toggleCommentsState:t.enableArticleComments}})],1)},o=[],r=s(20629),l=s(52322),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments-client-rendered"},[t.shouldClientRenderComments?e("TMArticleComments",{attrs:{"article-id":t.article.id,"is-loading":t.isLoadingComments}}):e("TMArticleCommentsCounterButton",{attrs:{article:t.article}})],1)},m=[],u=s(58783),d=function(){var t=this,e=t._self._c;return e("TMArticleCommentsCounterLink",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{c:t.handleCommentsKey},expression:"{ 'c': handleCommentsKey }",modifiers:{stop:!0}}],ref:"commentsLink",staticClass:"tm-article-comments-counter-button",attrs:{article:t.article,"comments-count":t.article.statistics.commentsCount,"unread-count":t.article.relatedData&&t.article.relatedData.unreadCommentsCount,variant:"button"}})},p=[],_=s(43206);const h={name:"TMArticleCommentsCounterButton",components:{TMArticleCommentsCounterLink:_.Z},props:{article:{type:Object,required:!0}},methods:{handleCommentsKey(){this._inactive||this.$refs.commentsLink.click()}}},g=h;var T=s(1001),v=(0,T.Z)(g,d,p,!1,null,null,null);const f=v.exports;var S=s(5723);const E={name:"TMArticleCommentsClientRendered",components:{TMArticleComments:u.Z,TMArticleCommentsCounterButton:f},props:{article:{type:Object,required:!0}},data(){return{isLoadingComments:!0}},computed:{shouldClientRenderComments(){return this.article.statistics.commentsCount<=S.Hx}},mounted(){this.shouldClientRenderComments&&this.loadComments()},methods:{...(0,r.nv)("comments",["getComments","getPinnedComments"]),loadComments(){return this.isLoadingComments=!0,Promise.all([this.getComments({articleId:this.article.id}),this.getPinnedComments(this.article.id)]).then((()=>{this.$emit("loaded"),this.isLoadingComments=!1})).catch((t=>{this.isLoadingComments=!1,this.$toast.error(t.message)}))}}},C=E;var I=(0,T.Z)(C,c,m,!1,null,null,null);const b=I.exports;var A=s(14351),y=s(21411),L=function(){var t=this,e=t._self._c;return e("TMArticleComments",{attrs:{"article-id":t.articleId,"cache-key":t.canCacheComments?t.cacheKey:null,"is-loading":t.$fetchState.isLoading}})},P=[],O=s(61823);const R={name:"TMArticleCommentsServerRendered",components:{TMArticleComments:u.Z},props:{articleId:{type:String,required:!0},canCacheComments:{type:Boolean,default:!1}},asyncData(){const t=[];return t.push(this.getPinnedComments(this.articleId)),this.canCacheComments?t.push(this.getGuestComments(this.articleId)):t.push(this.getComments({articleId:this.articleId,nocount:!0})),Promise.all(t)},computed:{...(0,r.Se)("me",["isLoggedIn"]),...(0,r.Se)("comments",["getCommentsCacheKey"]),cacheKey(){return this.getCommentsCacheKey(this.articleId)}},mounted(){this.readVisitorComments()},methods:{...(0,r.nv)("comments",["getComments","getGuestComments","getPinnedComments"]),readVisitorComments(){this.isLoggedIn&&!this.canCacheComments&&(0,O.nN)(this.articleId)}}},N=R;var k=(0,T.Z)(N,L,P,!1,null,null,null);const M=k.exports;var w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-height-limiter"},[e("div",{staticClass:"tm-height-limiter__wrapper",style:{maxHeight:t.currentPixelsHeight,overflow:t.currentPixelsHeight?"hidden":null}},[t._t("default")],2),t._v(" "),t.currentHeight?e("div",{staticClass:"tm-height-limiter__expand",attrs:{"data-height-limiter":""}},[e("button",{staticClass:"tm-height-limiter__expand-button",domProps:{textContent:t._s(t.expandTitle)},on:{click:function(e){t.currentHeight=null}}})]):t._e()])},x=[];const D={name:"TMHeightLimiter",props:{maxHeight:{type:Number,default:null},expandTitle:{type:String,required:!0}},data(){return{currentHeight:this.maxHeight}},computed:{currentPixelsHeight(){return this.currentHeight?`${this.currentHeight}px`:null}},watch:{maxHeight(){this.currentHeight=this.maxHeight}}},B=D;var $=(0,T.Z)(B,w,x,!1,null,null,null);const F=$.exports;var G=function(){var t=this,e=t._self._c;return e("TMIntersect",{attrs:{"root-margin":t.rootMargin},on:{enter:t.onIntersect}},[t.hasIntersected?t._t("default"):t._t("fallback")],2)},U=[],V=s(80089);const H={name:"TMIntersectionSwitch",components:{TMIntersect:V.Z},props:{rootMargin:{type:String,default:"0px 0px 0px 0px"}},data(){return{hasIntersected:!1}},methods:{onIntersect(){this.$emit("intersected"),this.hasIntersected=!0}}},Z=H;var W=(0,T.Z)(Z,G,U,!1,null,null,null);const Y=W.exports;var q=s(83049);const j={name:"TMArticlePageComments",components:{TMArticleCommentsCounterButton:f,TMArticleCommentsDisabledNotice:A.Z,TMArticleCommentsServerRendered:M,TMArticleCommentsClientRendered:b,TMArticleCommentsOffloaded:y.Z,TMHeightLimiter:F,TMIntersectionSwitch:Y},props:{article:{type:Object,required:!0}},data(){return{isExpandedLimiter:!1}},computed:{...(0,r.Se)("articlesList",["shouldSsrComments"]),...(0,r.Se)("comments",["getCommentsCacheKey"]),articleId(){return this.article.id},shouldSsrArticleComments(){return(this.commentsStreamingEnabled||!(this.article.statistics.commentsCount>S.Hx))&&this.shouldSsrComments(this.articleId)},commentsInitialHeight(){return this.shouldSsrArticleComments||this.article.statistics.commentsCount<=S.Yi?null:S.ZZ},canCacheComments(){return!(!this.article||this.article.statistics.commentsCount<S.Ng)&&this.$getFeatureFlag("COMMENTS_CACHING_ENABLED")},cacheKey(){return this.canCacheComments?this.getCommentsCacheKey(this.articleId):null},canStreamComments(){return!(!this.article||this.article.statistics.commentsCount<S.Cl)&&this.commentsStreamingEnabled},commentsStreamingEnabled(){return this.$getFeatureFlag("COMMENTS_STREAMING_ENABLED")}},mounted(){this.$route.meta.isRedirected&&(Object.assign(this.$route.meta,{isRedirected:!1}),this.$router.replace({name:"ARTICLE_COMMENTS",hash:this.$route.hash}),(0,q.dY)(this.$route))},deactivated(){this.removeVisitedArticle()},beforeDestroy(){this.removeSsrCommentsArticleId(this.articleId),this.removeVisitedArticle()},methods:{...(0,r.nv)("articlesList",["setArticleCommentsStatus"]),...(0,r.OI)("articlesList",["removeSsrCommentsArticleId"]),enableArticleComments(){return(0,O.oc)(this.articleId).then((()=>this.setArticleCommentsStatus({articleId:this.articleId,status:!this.article.commentsEnabled}))).catch((t=>this.$toast.error(t.message)))},onCommentsLoaded(){this.saveVisitedArticle()},onIntersected(){this.saveVisitedArticle()},saveVisitedArticle(){const t=(0,l.ej)("visited_articles",!0)||"",e=t?t.split(":"):[],s=Array.from(new Set([this.articleId,...e])),n=s.slice(0,10).join(":");(0,l.d8)("visited_articles",n,{expires:30})},removeVisitedArticle(){const t=(0,l.ej)("visited_articles")||"",e=t.split(":"),s=new Set(e);s.delete(this.articleId);const n=Array.from(s).join(":");n?(0,l.d8)("visited_articles",n,{expires:30}):(0,l.nJ)("visited_articles")}}},K=j;var z=(0,T.Z)(K,a,o,!1,null,null,null);const Q=z.exports;var X=s(43296),J=function(){var t=this,e=t._self._c;return t.showBlock?e("div",{staticClass:"tm-editoral-subscription"},[e("TMSvgIcon",{staticClass:"tm-editoral-subscription__close",attrs:{id:"close"},on:{click:t.closeForm}}),t._v(" "),e("h3",{staticClass:"tm-editoral-subscription__title"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_EDITORAL_TITLE"))+"\n  ")]),t._v(" "),e("p",{staticClass:"tm-editoral-subscription__description"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_EDITORAL_DESCRIPTION"))+"\n  ")]),t._v(" "),t.requestSended?e("p",{staticClass:"tm-editoral-subscription__success"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_EDITORAL_SUCCESS"))+"\n  ")]):e("form",{staticClass:"tm-editoral-subscription__form",attrs:{method:"GET"},on:{submit:t.onSubmit}},[e("TMInputTextDecorated",{ref:"input",staticClass:"tm-editoral-subscription__input",attrs:{disabled:t.isLoading,"is-invalid":t.hasError,name:"email",placeholder:t.msg("SUBSCRIPTION_EDITORAL_PLACEHOLDER"),type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}},[e("button",{staticClass:"tm-editoral-subscription__icon",class:{"tm-editoral-subscription__icon_loading":t.isLoading},attrs:{slot:"after",disabled:t.isLoading,type:"submit"},slot:"after"},[e("TMArrowRight")],1)]),t._v(" "),t.hasError?e("p",{staticClass:"tm-editoral-subscription__error"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e()],1)],1):t._e()},tt=[],et=s(19237),st=s(62205),nt=s(8065),it=s(69811),at=s(54226);function ot(t){return(0,it.Q)((0,at.k)("digests/editorial/subscribe","v2"),t)}const rt=()=>s.e(1018).then(s.bind(s,1018)),lt="habr-editoral-subscription",ct={name:"TMEditoralSubscription",components:{TMInputTextDecorated:et.Z,TMSvgIcon:st.Z,TMArrowRight:rt},data(){return{email:"",isLoading:!1,requestSended:!1,errorMessage:"",hasError:!1,showBlock:!1}},computed:{...(0,r.Se)("i18n",["msg","langOptions"]),...(0,r.Se)("me",["isLoggedIn"])},mounted(){this.showBlock=this.checkBlockShowStatus()},methods:{checkBlockShowStatus(){const t=(0,l.ej)(lt);return!this.isLoggedIn&&!t},onSubmit(t){t.preventDefault(),this.isLoading=!0,this.hasError=!1;const e={email:this.email,...this.langOptions};ot(e).then((t=>{if(!t||!t.ok)throw new Error(t&&t.message);this.requestSended=!0,this.isLoading=!1,(0,l.d8)(lt,"subscribe",{expires:90}),(0,nt.Kz)("tm_block","edit-digest_post","subscribe"),setTimeout((()=>{this.showBlock=!1}),1e4)})).catch((t=>{this.setError(t)}))},setError(t){this.isLoading=!1,this.hasError=!0,this.errorMessage=t&&t.message||this.msg("SUBSCRIPTION_EDITORAL_ERROR")},closeForm(){this.showBlock=!1,(0,l.d8)(lt,"close",{expires:90}),(0,nt.Kz)("tm_block","edit-digest_post","close")}}},mt=ct;var ut=(0,T.Z)(mt,J,tt,!1,null,null,null);const dt=ut.exports;var pt=s(76437);const _t={name:"TMArticleBlocks",components:{TMArticlePageComments:Q,TMPlaceholder:pt.Z,TMCommentsWrapper:X.Z,TMEditoralSubscription:dt},props:{article:{type:Object,default:null},isLoading:{type:Boolean,required:!0}}},ht=_t;var gt=(0,T.Z)(ht,n,i,!1,null,null,null);const Tt=gt.exports},85211:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-body",attrs:{"data-gallery-root":""}},[t.article.metadata?e("TMArticleTrackingPixels",{attrs:{links:t.article.metadata.customTrackerLinks}}):t._e(),t._v(" "),e("TMArticleFormattedBody",{attrs:{id:"post-content-body","article-text":t.article.textHtml,"should-format":!t.isMegapostV1,version:t.editorVersion}}),t._v(" "),t.galleryImages.length?e("TMGallery",{attrs:{"images-list":t.galleryImages}}):t._e(),t._v(" "),t.article.polls&&t.article.polls.length?t._l(t.article.polls,(function(t){return e("TMArticlePoll",{key:t.id,attrs:{poll:t}})})):t._e()],2)},i=[],a=s(29476);const o=a.Z;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},37422:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMComment",{attrs:{comment:t.comment,"is-comment-controls-shown":t.isCommentControlsShown,"popup-toggle-visible":t.popupToggleVisible,"should-display-status":t.shouldDisplayStatus,"user-popover-enabled":t.userPopoverEnabled},scopedSlots:t._u([{key:"comment-link",fn:function({datetimeStr:s}){return[t._t("comment-link",(function(){return[e("TMArticleCommentsLink",{staticClass:"tm-article-comment__link",attrs:{article:t.comment.post,"comment-id":t.comment.id}},[t._v("\n        "+t._s(t.msg("DATE_FORMAT",s))+"\n      ")])]}),{datetimeStr:s})]}}],null,!0)})},i=[],a=s(99682),o=s(13785);const r={name:"TMArticleComment",components:{TMArticleCommentsLink:a.Z,TMComment:o.Z},props:{comment:{type:Object,required:!0},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,popupToggleVisible:Boolean}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},43206:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments-counter-link"},[e("TMArticleCommentsLink",{ref:"commentsLink",staticClass:"tm-article-comments-counter-link__link",class:{"tm-article-comments-counter-link__link_button-style":t.isButton},attrs:{article:t.article},nativeOn:{click:function(e){return t.onClick.apply(null,arguments)}}},[e("TMSvgImg",{staticClass:"tm-article-comments-counter-link__icon",class:{"tm-article-comments-counter-link__icon_contrasted":t.isButton},attrs:{id:"counter-comments",size:"24"}}),t._v(" "),e("span",{staticClass:"tm-article-comments-counter-link__value",class:{"tm-article-comments-counter-link__value_contrasted":t.isButton}},[t._v("\n      "+t._s(t.textValue)+"\n    ")])],1),t._v(" "),t.unreadCount?e("TMArticleCommentsLink",{ref:"commentsLink",staticClass:"tm-article-comments-counter-link__link",class:{"tm-article-comments-counter-link__link_button-style":t.isButton},attrs:{article:t.article,"first-unread":t.unreadCount&&t.unreadCount!==t.commentsCount},nativeOn:{click:function(e){return t.onClick.apply(null,arguments)}}},[e("span",{staticClass:"tm-article-comments-counter-link__unread-counter",class:{"tm-article-comments-counter-link__unread-counter_contrasted":t.isButton},attrs:{title:t.msg("DATA_ICONS_READ_NEW_COMMENTS")}},[t._v("\n      +"+t._s(t.unreadCount)+"\n    ")])]):t._e()],1)},i=[],a=s(99682),o=s(2813),r=s(8065);const l={name:"TMArticleCommentsCounterLink",components:{TMArticleCommentsLink:a.Z,TMSvgImg:o.Z},props:{article:{type:Object,required:!0},commentsCount:{type:Number,default:null},unreadCount:{type:[String,Number],default:null},variant:{type:String,default:"icon"},gaOptions:{type:Object,default:null}},computed:{isButton(){return"button"===this.variant},textValue(){return this.isButton?this.msg("ARTICLE_COMMENTS_COUNT",{count:this.commentsCount}):this.commentsCount}},methods:{onClick(){if(this.gaOptions){const{category:t,action:e,label:s}=this.gaOptions;(0,r.Kz)(t,e,s.comment)}},click(){this.$refs.commentsLink.click()}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},99682:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return t.useRegularLink?e("a",{ref:"link",attrs:{href:t.$router.resolve(t.route).href}},[t._t("default")],2):e("router-link",{ref:"link",attrs:{"active-class":"","exact-active-class":"",to:t.route}},[t._t("default")],2)},i=[],a=s(23217);const o={name:"TMArticleCommentsLink",props:{article:{type:Object,required:!0,validator(t){return"id"in t&&(!!["article","news","megaproject","sandbox","unknown"].includes(t.postType)&&(!t.isCorporative||!!t.hubs&&t.hubs.some((t=>"corporative"===t.type))))}},commentId:{type:[String,Number],default:null},firstUnread:Boolean},computed:{useRegularLink(){return!!this.commentId},route(){const t=(0,a.ym)(this.article,this.langOptions.hl);return this.commentId&&(t.hash=`#comment_${this.commentId}`),this.firstUnread&&(t.hash="#first_unread"),t}},methods:{click(){this.useRegularLink?this.$el.click():this.$refs.link.$el.click()}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},14351:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMNotice",{attrs:{type:"neutral"}},[e("p",{staticClass:"tm-article-comments-disabled__paragraph"},[t._v("\n    "+t._s(t.msg("ARTICLE_DISABLE_COMMENTS_MESSAGE"))+"\n  ")]),t._v(" "),t.isSuperAdmin?e("TMButtonBase",{staticClass:"tm-article-comments-disabled__button",attrs:{"style-size":"medium","style-type":"transparent"},on:{click:function(e){return t.$emit("toggleCommentsState")}}},[t._v("\n    "+t._s(t.msg("ARTICLE_ENABLE_COMMENTS"))+"\n  ")]):t._e()],1)},i=[],a=s(20629),o=s(30089),r=s(57713);const l={name:"TMArticleCommentsDisabledNotice",components:{TMButtonBase:o.Z,TMNotice:r.Z},computed:{...(0,a.Se)("me",["isSuperAdmin"])}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},21411:(t,e,s)=>{"use strict";s.d(e,{Z:()=>k});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments-offloaded"},[t.shouldOffload?[t.isLoadingCommentsStream?e("TMCommentsWrapper",{attrs:{"comments-count":t.commentsCount}},[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})],1):e("TMDeferredRender",{attrs:{"ready-to-hydrate":!t.$fetchState.isLoading,stream:t.commentsStream},on:{done:t.onDone,error:t.onError},scopedSlots:t._u([{key:"fallback",fn:function(){return[e("TMCommentsWrapper",{attrs:{"comments-count":t.commentsCount}},[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})],1)]},proxy:!0},{key:"default",fn:function(){return[e("TMArticleComments",{attrs:{"article-id":t.articleId,"cache-key":t.canCacheComments?t.cacheKey:null,"is-loading":!1},on:{expandLimiter:function(e){return t.$emit("expandLimiter",e)}}})]},proxy:!0},{key:"tail",fn:function(){return[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})]},proxy:!0}])})]:e("TMArticleComments",{attrs:{"article-id":t.articleId,"cache-key":t.canCacheComments?t.cacheKey:null,"is-loading":t.$fetchState.isLoading},on:{expandLimiter:function(e){return t.$emit("expandLimiter",e)}}})],2)},i=[],a=s(20629),o=s(58783),r=s(43296),l=function(){var t=this,e=t._self._c;return e("div",{ref:"root",staticClass:"tm-deferred-render"},[e("streaming-element",{ref:"streamingElement"},[t.readyToHydrate&&t.rootElement?e("TMClientHydration",{attrs:{element:t.rootElement}},[t._t("default")],2):[t.shouldDisplayFallback?t._t("fallback"):t._e(),t._v(" "),t.readyToHydrate?t._e():t._t("tail")]],2)],1)},c=[],m=s(77945);const u={name:"TMClientHydration",props:{element:{type:m.W6?Object:Element,required:!0}},created(){this._vnode=this.element},render(){return this.$scopedSlots.default()}},d=u;var p,_,h=s(1001),g=(0,h.Z)(d,p,_,!1,null,null,null);const T=g.exports;var v=s(13869);function f(t,e){const s=Math.ceil(t.length/e),n=new Array(s);for(let i=s-1,a=0;i>=0;a+=e,i-=1)n[i]=t.substr(a,e);return n}class S extends Error{}const E=({stream:t,onFirstChunk:e,write:s})=>{const n=new TextDecoder("utf-8"),i=t.getReader();let a,o=!1,r=!1;const l=()=>{o||i.cancel(),a&&a(new S("Render cancelled manually"))},c=()=>new Promise(((t,l)=>{a=t=>{r=!0,l(t)};const c=65536,m=[];let u=0,d=[],p=!1,_=!1;const h=()=>{s(d.pop()),_||(e(),_=!0)},g=()=>{0===d.length&&m.length-1>=u&&(d=f(m[u],c),u+=1)},T=()=>{r||(u===m.length&&0===d.length&&p?t():(requestAnimationFrame(T),g(),0!==d.length&&h()))},v=({done:t,value:e})=>{if(t)return o=!0,p=!0,void requestAnimationFrame(T);requestAnimationFrame((t=>{T(t),i.read().then(v).catch(a)})),m.push(n.decode(e).normalize("NFC"))};i.read().then(v).catch(a)}));return[c,l]},C={name:"TMDeferredRender",components:{TMClientHydration:T},props:{stream:{type:(0,v.Z)()?ReadableStream:Object,required:!0},readyToHydrate:{type:Boolean,default:!0}},data(){return{rootElement:null,shouldDisplayFallback:!0,cancel:null}},mounted(){const{stream:t}=this,e=document.implementation.createHTMLDocument("comments"),[s,n]=E({stream:t,onFirstChunk:()=>{this.shouldDisplayFallback=!1;const t=e.querySelector("streaming-element");this.$refs.streamingElement.replaceChild(t.children[0],this.$refs.streamingElement.childNodes[0])},write(t){e.write(t)}});this.cancel=n,e.open(),e.write("<streaming-element>"),s().then((()=>{e.write("</streaming-element>"),e.close(),this.rootElement=this.$refs.root.querySelector("streaming-element > *"),this.$emit("done")})).catch((t=>{t instanceof S||this.$emit("error",t)}))},beforeDestroy(){this.cancel&&this.cancel()}},I=C;var b=(0,h.Z)(I,l,c,!1,null,null,null);const A=b.exports;var y=s(76437),L=s(61823);const P=!m.Qg||"fetch"in window&&"TextDecoder"in window,O={name:"TMArticleCommentsOffloaded",components:{TMCommentsWrapper:r.Z,TMPlaceholder:y.Z,TMDeferredRender:A,TMArticleComments:o.Z},props:{articleId:{type:String,required:!0},ssr:{type:Boolean,default:!1},canStreamComments:{type:Boolean,default:!0},canCacheComments:{type:Boolean,default:!1}},asyncData({store:t}){const{articleId:e}=this,s=[];return this.article.hasPinnedComments&&s.push(t.dispatch("comments/getPinnedComments",e)),this.canCacheComments?s.push(t.dispatch("comments/getGuestComments",e)):s.push(t.dispatch("comments/getComments",{articleId:e,nocount:this.commentsStreamingEnabled})),Promise.all(s)},data(){return{isLoadingCommentsStream:!0,commentsStream:null,hasHydratableElement:!1,shouldFallbackToClientRendering:!1}},computed:{...(0,a.Se)("me",["isLoggedIn"]),...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("comments",["getCommentsCacheKey"]),cacheKey(){return this.getCommentsCacheKey(this.articleId)},article(){return this.getArticleById(this.articleId)},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},shouldOffload(){return!(!m.Qg||!this.commentsStreamingEnabled||this.hasHydratableElement||this.shouldFallbackToClientRendering)&&(this.canStreamComments&&P)},commentsStreamingEnabled(){return this.$getFeatureFlag("COMMENTS_STREAMING_ENABLED")}},beforeMount(){this.hasHydratableElement=Boolean(this._vnode||this.$el),this.shouldOffload?this.$watch((()=>this.$fetchState.isLoading),(t=>{t||this.loadCommentsStream()}),{immediate:!0}):this.$watch((()=>this.$fetchState.isLoading),(t=>{t||this.readVisitorComments()}),{immediate:!0})},methods:{loadCommentsStream(){this.isLoadingCommentsStream=!0;const{articleId:t,cacheKey:e,langOptions:{hl:s}}=this;(0,L.nE)({articleId:t,cacheKey:e,hl:s}).then((t=>{this.isLoadingCommentsStream=!1,this.commentsStream=t})).catch((()=>{this.shouldFallbackToClientRendering=!0,this.isLoadingCommentsStream=!1}))},onError(t){throw this.$toast.error(this.msg("COMMENT_RENDER_FAILED")),t},readVisitorComments(){this.isLoggedIn&&!this.canCacheComments&&(0,L.nN)(this.articleId)},onDone(){this.readVisitorComments()}}},R=O;var N=(0,h.Z)(R,n,i,!1,null,null,null);const k=N.exports},58783:(t,e,s)=>{"use strict";s.d(e,{Z:()=>q});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments",class:{"tm-article-comments_without-removed":t.isRemovedCommentsHidden}},[e("TMComments",{attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,"comment-component":t.$options.components.TMArticleComment,"comment-submit-action":t.commentSubmitAction,comments:t.comments,"comments-count":t.commentsCount,"complaint-action":t.canSendComplaint?t.complaintAction:null,"favorite-action":t.favoriteAction,"footer-visible":t.shouldDisplayUserItems,"get-comment-link":t.getCommentLink,"is-loading":t.isLoading,notice:t.noticeData,"pinned-comments":t.pinnedComments,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:t.onCommentDelete,expandLimiter:function(e){return t.$emit("expandLimiter",e)},pinUnpinComment:t.pinUnpinComment},scopedSlots:t._u([{key:"headerAside",fn:function(){return[t.isLoggedIn&&t.isSuperAdmin&&t.shouldDisplayUserItems?e("TMAdministrationLinks",{staticClass:"tm-article-comments__administration-links",attrs:{"dropdown-align":"center",links:t.commentsAdministrationsLinks,variant:"simple"}}):t._e(),t._v(" "),e("TMRssButton",{attrs:{variant:"comments-header"}}),t._v(" "),!t.isLoading&&t.isLoggedIn&&t.shouldDisplayUserItems?e("TMArticleSubscriptionControls",{staticClass:"tm-article-comments__subscription",attrs:{"article-id":t.articleId}}):t._e()]},proxy:!0},{key:"body",fn:function(){return[t.shouldDisplayUserItems&&t.article&&t.article.rulesRemindEnabled?e("TMArticleCommentsUfoNotice",{staticClass:"tm-article-comments__ufo-notice"}):t._e()]},proxy:!0},{key:"afterComments",fn:function(){return[t.isLoggedIn&&t.shouldDisplayUserItems?e("TMCommentsNavigation",{attrs:{comments:t.comments,"load-action":t.updateCommentsAction},on:{readComment:t.onReadComment}}):t._e()]},proxy:!0}])})],1)},i=[],a=s(20629),o=s(37422),r=function(){var t=this,e=t._self._c;return e("TMNotice",{attrs:{type:"info"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TMSvgImg",{staticClass:"tm-ufo-notice__icon",attrs:{id:"info",title:"info"}})]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"tm-ufo-notice__content"},[e("p",{staticClass:"tm-ufo-notice__intro",domProps:{innerHTML:t._s(t.msg("ARTICLE_COMMENTS_UFO_CARE_NOTICE"))}}),t._v(" "),e("details",[e("summary",[t._v(t._s(t.msg("ARTICLE_COMMENTS_UFO_CARE_SUMMARY_TITLE")))]),t._v(" "),e("div",{staticClass:"tm-ufo-notice__spoiler-text",domProps:{innerHTML:t._s(t.msg("ARTICLE_COMMENTS_UFO_CARE_DETAILS"))}})])])])},l=[],c=s(57713),m=s(2813);const u={name:"TMArticleCommentsUfoNotice",components:{TMNotice:c.Z,TMSvgImg:m.Z}},d=u;var p=s(1001),_=(0,p.Z)(d,r,l,!1,null,null,null);const h=_.exports;var g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-subscription-controls"},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{t:()=>t.toggleTrackerSubscription({toggleTracker:!0}),m:()=>t.toggleTrackerSubscription({toggleEmail:!0})},expression:"{\n      't': () => toggleTrackerSubscription({ toggleTracker: true }),\n      'm': () => toggleTrackerSubscription({ toggleEmail: true }),\n    }",modifiers:{stop:!0}}],staticClass:"tm-article-subscription-controls__button",class:{"tm-article-subscription-controls__button_active":t.isSubscribed},attrs:{title:t.msg("ARTICLE_SUBSCRIBE_TITLE")},on:{click:t.openModal}},[e("TMSvgImg",{attrs:{id:t.icon,size:"24",title:t.msg("ARTICLE_SUBSCRIBE_TITLE")}})],1),t._v(" "),t.modalVisible?e("TMPopup",{attrs:{title:t.msg("ARTICLE_SUBSCRIBE_TITLE")},on:{close:function(e){t.modalVisible=!1}}},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"tm-article-subscription-controls__checkbox"},[e("TMLabeledCheckbox",{attrs:{name:"subscription_tracker"},model:{value:t.form.tracker,callback:function(e){t.$set(t.form,"tracker",e)},expression:"form.tracker"}},[t._v("\n          "+t._s(t.msg("ARTICLE_SUBSCRIBE_TRACKER"))+"\n        ")])],1),t._v(" "),e("div",{staticClass:"tm-article-subscription-controls__checkbox"},[e("TMLabeledCheckbox",{attrs:{name:"subscription_email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}},[t._v("\n          "+t._s(t.msg("ARTICLE_SUBSCRIBE_EMAIL"))+"\n        ")])],1),t._v(" "),e("div",{staticClass:"tm-article-subscription-controls__submit"},[e("TMButtonBase",{attrs:{"style-size":"large","style-type":"solid"},on:{click:t.onSubmit}},[t._v("\n          "+t._s(t.msg("ARTICLE_SUBSCRIBE_SAVE"))+"\n        ")])],1)])]):t._e()],1)},T=[],v=s(30089),f=s(75070),S=s(47840);const E={name:"TMArticleSubscriptionControls",components:{TMPopup:S.Z,TMSvgImg:m.Z,TMLabeledCheckbox:f.Z,TMButtonBase:v.Z},props:{articleId:{type:[String,Number],required:!0}},data(){return{modalVisible:!1,form:null}},computed:{isSubscribedToTracker(){return this.$store.getters["articlesList/isSubscribedToTracker"](this.articleId)},isSubscribedToEmail(){return this.$store.getters["articlesList/isSubscribedToEmail"](this.articleId)},isSubscribed(){return this.isSubscribedToTracker||this.isSubscribedToEmail},icon(){return this.isSubscribed?"notifications-filled":"notifications"}},methods:{...(0,a.nv)("articlesList",["toggleSubscriptionStatus"]),toggleTrackerSubscription({toggleTracker:t,toggleEmail:e}){this.form={tracker:t?!this.isSubscribedToTracker:this.isSubscribedToTracker,email:e?!this.isSubscribedToEmail:this.isSubscribedToEmail},this.toggleSubscriptionStatus({articleId:this.articleId,...this.form}).then((()=>{let s;t&&(s=this.isSubscribedToTracker?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER")),e&&(s=this.isSubscribedToEmail?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL")),this.$toast.success(s)})).catch((t=>{this.$toast.error(t.message)}))},openModal(){this.form={tracker:this.isSubscribedToTracker,email:this.isSubscribedToEmail},this.modalVisible=!0},onSubmit(){this.toggleSubscriptionStatus({articleId:this.articleId,...this.form}).catch((t=>{this.$toast.error(t.message)})),this.modalVisible=!1}}},C=E;var I=(0,p.Z)(C,g,T,!1,null,null,null);const b=I.exports;var A=s(78275),y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comment-navigation tm-comment-navigation__block",class:t.showCounter},[e("button",{directives:[{name:"show",rawName:"v-show",value:!t.hasUnreadComments,expression:"!hasUnreadComments"},{name:"hotkey",rawName:"v-hotkey.stop",value:{r:t.updateComments},expression:"{ 'r': updateComments }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__button tm-comment-navigation__button_refresh",attrs:{title:t.msg("UPDATE_COMMENTS")},on:{click:t.updateComments}},[e("TMRefreshserCommentsIcon",{staticClass:"tm-comment-navigation__icon tm-comment-navigation__icon_refresh",class:{"tm-comment-navigation__icon_loading":t.isLoadingNewComments}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasUnreadComments,expression:"hasUnreadComments"}],staticClass:"tm-comment-navigation__wrapper"},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{k:t.goToPrevComment},expression:"{ 'k': goToPrevComment }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__button",attrs:{title:t.msg("GO_TO_PREV_COMMENT"),type:"button"},on:{click:t.goToPrevComment}},[e("TMRefreshserCommentsUpIcon",{staticClass:"tm-comment-navigation__icon tm-comment-navigation__icon__up"})],1),t._v(" "),e("button",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{f:t.readFirstUnreadCommentThrottled},expression:"{ 'f': readFirstUnreadCommentThrottled }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__counter",attrs:{title:t.msg("GO_TO_FIRST_UNREAD_COMMENT"),type:"button"},on:{click:t.readFirstUnreadCommentThrottled}},[t._v("\n      "+t._s(t.unreadCommentIds.length)+"\n    ")]),t._v(" "),e("button",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{j:t.goToNextComment},expression:"{ 'j': goToNextComment }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__button",attrs:{title:t.msg("GO_TO_NEXT_COMMENT"),type:"button"},on:{click:t.goToNextComment}},[e("TMRefreshserCommentsUpIcon",{staticClass:"tm-comment-navigation__icon tm-comment-navigation__icon_down"})],1)])])},L=[],P=s(93096),O=s.n(P),R=s(15466),N=s(8065),k=s(66622),M=s(83049);const w=()=>s.e(9404).then(s.bind(s,19404)),x=()=>s.e(7319).then(s.bind(s,97319)),D={name:"TMCommentsNavigation",components:{TMRefreshserCommentsIcon:x,TMRefreshserCommentsUpIcon:w},props:{comments:{type:Array,required:!0},loadAction:{type:Function,required:!0}},data(){return{isLoadingNewComments:!1,currentCommentId:null,scrollSettled:!1}},computed:{unreadCommentIds(){return this.comments.reduce((function t(e,s){return s.isNew&&e.push(s.id),s.children&&e.push(...s.children.reduce(t,[])),e}),[])},hasUnreadComments(){return 0!==this.unreadCommentIds.length},showCounter(){return this.hasUnreadComments?"tm-comment-navigation__has-new":"tm-comment-navigation__has-new_reverse"},goToNextClosestCommentThrottled(){return O()(R.J7,500)},goToPrevClosestCommentThrottled(){return O()(R.lp,500)},readFirstUnreadCommentThrottled(){return O()(this.readFirstUnreadComment,500)}},created(){this.unreadCommentsWatcher=this.$watch("hasUnreadComments",(t=>{this.checkScrollToComments(t)}))},mounted(){!this.scrollSettled&&this.hasUnreadComments&&this.checkScrollToComments(this.hasUnreadComments)},methods:{checkScrollToComments(t){t&&(this.scrollSettled=!0,(0,M.dY)(this.$route),this.unreadCommentsWatcher())},goToNextComment(){this._inactive||(this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToNextClosestCommentThrottled())},goToPrevComment(){this._inactive||(this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToPrevClosestCommentThrottled())},updateComments(t){this._inactive||(t.target.blur(),this.isLoadingNewComments=!0,this.scrollSettled=!0,this.unreadCommentsWatcher(),this.loadAction().then((()=>{this.isLoadingNewComments=!1})).catch((t=>{this.isLoadingNewComments=!1;const e=t.data&&t.data.text&&t.data.text.source&&Array.isArray(t.data.text.source);throw e?this.$toast.error(t.data.text.source[0]):this.$toast.error(t.message),t})),(0,N.Kz)(R.p1,"update"))},readFirstUnreadComment(){if(this._inactive)return;const t=(0,R.bP)();if(!t)return;this.scrollSettled=!0,this.unreadCommentsWatcher();const e=(0,R.v2)(t);(0,k.Jn)(t).then((s=>{(0,N.Kz)(R.p1,"middle"),s?this.$emit("readComment",e):setTimeout((()=>{this.$emit("readComment",e)}),250),(0,R.RC)(t)})).catch((t=>{t instanceof k.Fv&&((0,N.Kz)(R.p1,"middle"),this.$emit("readComment",e))}))}}},B=D;var $=(0,p.Z)(B,y,L,!1,null,null,null);const F=$.exports;var G=s(66736),U=s(2384),V=s(61823);const H=()=>s.e(2328).then(s.bind(s,38726)),Z={name:"TMArticleComments",components:{TMArticleComment:o.Z,TMComments:A.Z,TMRssButton:G.Z,TMCommentsNavigation:F,TMArticleSubscriptionControls:b,TMArticleCommentsUfoNotice:h,TMAdministrationLinks:H},serverCacheKey(t){return!!t.cacheKey&&t.cacheKey},props:{articleId:{type:[Number,String],required:!0},cacheKey:{type:String,default:null},isLoading:{type:Boolean,default:!1}},data(){return{isRemovedCommentsHidden:!1,hasMounted:!1,stopHandlerArticle:null,stopHandlerUserData:null}},computed:{...(0,a.Se)("comments",["getCommentsTreeByArticleId","getCommentAccess","getPinnedCommentsById"]),...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("me",["isModerator","companiesAdmin","isLoggedIn","userAlias","isSuperAdmin","canSendComplaint"]),article(){return this.getArticleById(this.articleId)},showModerationControls(){return this.article&&this.article.relatedData&&this.article.relatedData.canModerateComments},comments(){return this.getCommentsTreeByArticleId(this.articleId)},pinnedComments(){return this.getPinnedCommentsById(this.articleId)},commentsAdministrationsLinks(){return[{title:this.msg("ARTICLE_CLEAR_CACHE_COMMENTS"),onclick:t=>this.resetCache(t)},{title:this.commentsStateActionText,onclick:t=>this.toggleCommentsState(t)},{title:this.removedCommentsActionText,onclick:t=>this.toggleRemovedComments(t)},{title:this.ufoNoticeActionText,onclick:t=>this.toggleUfoNotice(t)}]},isCanComment(){return this.getCommentAccess&&this.getCommentAccess.isCanComment},cantCommentReasonKey(){return this.getCommentAccess?this.getCommentAccess.cantCommentReasonKey:null},userBlockReasonData(){const t=this.getCommentAccess&&this.getCommentAccess.data||{};return t.reason=t.reason||"EMPTY",t.timeElapsed=t.timeElapsed||"EMPTY",t},commentAccessMessage(){if(!this.cantCommentReasonKey)return null;const t=`EXTERNAL_${this.cantCommentReasonKey}`;return this.msg(t,this.userBlockReasonData)},loginUrl(){const t="/kek/v1/auth/habrahabr/";return`${t}?back=${this.$route.path}&hl=${this.langOptions.hl}`},noticeData(){return"draft"===this.article.status?{type:"negative",message:this.msg("POST_IN_DRAFTS")}:this.isLoggedIn&&!this.isCanComment?{type:"negative",message:this.commentAccessMessage}:this.isLoggedIn?null:{type:"positive",message:this.msg("COMMENT_NOTICE_UNAUTH_DECLARATION",{url:this.loginUrl})}},removedCommentsActionText(){return this.isRemovedCommentsHidden?this.msg("ARTICLE_SHOW_REMOVED_COMMENTS"):this.msg("ARTICLE_HIDE_REMOVED_COMMENTS")},commentsStateActionText(){return this.article.commentsEnabled?this.msg("ARTICLE_DISABLE_COMMENTS"):this.msg("ARTICLE_ENABLE_COMMENTS")},ufoNoticeActionText(){return this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_HIDE_BUTTON_TEXT"):this.msg("RULES_REMINDER_SHOW_BUTTON_TEXT")},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},isArticleAuthor(){return this.article.author&&this.article.author.alias===this.userAlias},shouldDisplayUserItems(){return!this.cacheKey||this.hasMounted},canPinUnpinComment(){if(this.isArticleAuthor||this.isSuperAdmin||this.isModerator)return!0;if(!this.article.isCorporative||!this.companiesAdmin||!this.companiesAdmin.length)return!1;const t=this.article.hubs.find((t=>"corporative"===t.type)),e=t&&t.alias;return!!this.companiesAdmin.find((t=>t.alias===e))}},beforeDestroy(){this.clearCommentsList(this.articleId)},mounted(){this.hasMounted=!0,this.cacheKey&&(this.stopHandlerArticle=this.$watch((()=>this.article),(t=>{t&&!this._inactive&&this.isLoggedIn&&(this.loadUserData().catch((t=>{this.$toast.error(t.message)})),this.stopHandlerArticle&&this.stopHandlerArticle())}),{immediate:!0}))},methods:{...(0,a.nv)("articlesList",["setArticleCommentsStatus","setArticleRulesRemindStatus"]),...(0,a.nv)("comments",["getComments","getPinnedComments","loadNewComments","sendComment","suspendComment","setFavorite","vote","pinComment"]),...(0,a.OI)("comments",["addComment","setCommentRead","clearCommentsList","setLastCommentTimestamp","mergeComments","setCommentAccess","setCommentsRoot"]),voteAction({commentId:t,direction:e}){return this.vote({articleId:this.articleId,commentId:t,direction:e}).catch((t=>{this.$toast.error(t.message)}))},favoriteAction({commentId:t,isFavorite:e}){const{articleId:s}=this;return this.setFavorite({articleId:s,commentId:t,isFavorite:e}).catch((t=>{this.$toast.error(t.message)}))},pinUnpinComment(t){return this.pinComment({articleId:this.articleId,commentId:t.id,isPinned:!t.isPinned}).then((()=>{const e=t.isPinned?"COMMENT_UNPINNED_SUCCESS":"COMMENT_PINNED_SUCCESS";this.$toast.success(this.msg(e)),this.getPinnedComments(this.articleId)})).catch((t=>{this.$toast.error(t.message)}))},toggleRemovedComments(){this.isRemovedCommentsHidden=!this.isRemovedCommentsHidden},toggleUfoNotice(){const{articleId:t}=this,e=this.article&&this.article.rulesRemindEnabled?U.jL:U.Yc;return e(t).then((()=>{this.setArticleRulesRemindStatus({articleId:this.articleId,status:!this.article.rulesRemindEnabled});const t=this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_SHOW_ACTION_SUCCESS_MESSAGE"):this.msg("RULES_REMINDER_HIDE_ACTION_SUCCESS_MESSAGE");this.$toast.success(t)})).catch((t=>{this.$toast.error(t.message)}))},onCommentDelete(t){const e={articleId:this.articleId,commentId:t};this.suspendComment(e)},complaintAction({value:t,parentId:e}){return(0,V.yw)(this.articleId,e,{message:t}).then((()=>{this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((t=>{this.$toast.error(t.message)}))},commentSubmitAction({value:t,parentId:e}){const s={articleId:this.articleId,parentId:e,text:t};return this.sendComment(s).then((t=>{t&&(0,N.Kz)("comment",this.GAAction,this.userAlias)})).catch((t=>{const e=t.data&&t.data.text&&t.data.text.source&&Array.isArray(t.data.text.source);throw e?this.$toast.error(t.data.text.source[0]):this.$toast.error(t.message),t}))},updateCommentsAction(){return this.loadNewComments({route:this.$route})},onReadComment(t){this.setCommentRead({articleId:this.articleId,commentId:t})},disableArticleComments(t){const e=window.confirm(this.msg("ARTICLE_DISABLE_COMMENTS_CONFIRM"));if(!e)return!1;const s=prompt(this.msg("ARTICLE_DISABLE_COMMENTS_REASON"));return(0,V.x1)(t,{reason:s})},toggleCommentsState(){const t=this.article.commentsEnabled?this.disableArticleComments:V.oc;return t(this.articleId).then((()=>{this.setArticleCommentsStatus({articleId:this.articleId,status:!this.article.commentsEnabled}),this.getComments({route:this.$route})})).catch((t=>this.$toast.error(t.message)))},resetCache(){return(0,V.zT)(this.articleId).then((()=>{this.$toast.success(this.msg("ARTICLE_CLEAR_CACHE_SUCCESS_MESSAGE")),setTimeout((()=>{window.location.reload()}),1e3)})).catch((t=>this.$toast.error(t.message)))},getCommentLink(t){return`${window.location.origin}${this.$route.path}#comment_${t.id}`},loadUserData(){return(0,V.pD)({id:this.articleId,hl:this.langOptions.hl}).then((t=>{this.stopHandlerUserData=this.$watch((()=>[this.isLoading,this._inactive]),(([e,s])=>{e||s||(this.applyUserData(t),this.stopHandlerUserData&&this.stopHandlerUserData())}),{immediate:!0})}))},applyUserData(t){const{articleId:e}=this,{lastCommentTimestamp:s,commentRelatedRefs:n,commentAccess:i,commentDeletedRefs:a,commentModeratedRefs:o,threads:r}=t;this.setCommentAccess(i),this.setLastCommentTimestamp(s),this.mergeComments({articleId:e,comments:n}),a&&(this.mergeComments({articleId:e,comments:a}),this.setCommentsRoot({articleId:e,root:r})),o&&Object.keys(o).sort(((t,e)=>t.timePublished-e.timePublished)).forEach((t=>{this.addComment({articleId:e,comment:{...o[t],isReadonly:!0}})}))}}},W=Z;var Y=(0,p.Z)(W,n,i,!1,null,null,null);const q=Y.exports},61216:(t,e,s)=>{"use strict";s.d(e,{Z:()=>b});var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{ref:"contentRef"},[e("TMFormattedText",{attrs:{"article-text":t.articleText,"should-format":t.shouldFormat,version:t.version}})],1),t._v(" "),!t.disableAbbr&&t.ready?e("TMMobileAbbreviation",{attrs:{"content-ref":t.$refs.contentRef}}):t._e(),t._v(" "),!t.disableAbbr&&t.ready?e("TMAbbreviationPresenter",{attrs:{"content-ref":t.$refs.contentRef,version:t.version}}):t._e()],1)},i=[],a=s(80691),o=s(97259),r=function(){var t=this,e=t._self._c;return e("Portal",{attrs:{to:"overlays"}},[t.isMobile&&t.currentAbbr?e("TMPopup",{attrs:{title:t.currentAbbr.title},on:{close:function(e){t.currentAbbr=null}}},[e("p",{domProps:{textContent:t._s(t.currentAbbr.value)}})]):t._e()],1)},l=[],c=s(20629),m=s(47840);const u=(t,e)=>{const s=t.querySelectorAll("abbr[title]:not(.habraabbr)");if(!s.length)return()=>{};const n=[];return s.forEach((t=>{t.addEventListener("click",e),n.push((()=>{t.removeEventListener("click",e)}))})),()=>{n.forEach((t=>t()))}};var d=s(7748);const p={name:"TMMobileAbbreviation",components:{TMPopup:m.Z},props:{contentRef:{type:null,required:!0}},data(){return{currentAbbr:null,disposeAbbrs:null}},computed:{...(0,c.Se)("global",["isMobile"])},mounted(){this.disposeAbbrs=u(this.contentRef,this.abbrClickHandler)},beforeDestroy(){this.disposeAbbrs()},methods:{abbrClickHandler(t){this.isMobile&&(this.currentAbbr={value:(0,d.V)(t.currentTarget.title),title:(0,d.V)(t.currentTarget.textContent)})}}},_=p;var h=s(1001),g=(0,h.Z)(_,r,l,!1,null,null,null);const T=g.exports;var v=s(27683),f=s(98339),S=s(5163);const E={name:"TMArticleFormattedBody",components:{TMFormattedText:o.Z,TMAbbreviationPresenter:a.Z,TMMobileAbbreviation:T},props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null},disableAbbr:Boolean},data(){return{disconnectObserver:null,disposeLinks:null,ready:!1}},mounted(){(0,f.y)(this.$el),this.ready=!0,this.disposeLinks=(0,S.W)(this.$el,((t,e)=>{t.preventDefault(),this.$router.push({path:e.pathname})})),this.disconnectObserver=(0,v.O)(this.$el,this.msg("ERROR_IMAGE_WAS_NOT_LOADED"))},beforeDestroy(){this.disconnectObserver(),this.disposeLinks()}},C=E;var I=(0,h.Z)(C,n,i,!1,null,null,null);const b=I.exports},34317:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:t.route}},[t._t("default")],2)},i=[],a=s(23217);const o={name:"TMArticleLink",props:{article:{type:Object,required:!0,validator(t){return"id"in t&&(!!["article","news","megaproject","sandbox","unknown"].includes(t.postType)&&(!t.isCorporative||!!t.hubs&&t.hubs.some((t=>"corporative"===t.type))))}}},computed:{route(){return(0,a.uT)(this.article,this.langOptions.hl)}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},70810:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{spacing:t.spacing,title:t.title}},[e("ul",{staticClass:"tm-article-list-block__list"},[t._l(t.articleList,(function(s){return e("li",{key:s.id,staticClass:"tm-article-list-block__item"},[e("TMArticleSnippetBlock",{attrs:{article:s,"bookmark-module":t.bookmarkModule,"ga-options":t.gaOptions,layout:t.layout}})],1)})),t._v(" "),t.$slots.lastItem?e("li",{staticClass:"tm-article-list-block__item"},[t._t("lastItem")],2):t._e()],2)])},i=[],a=s(63563),o=s(76262);const r={name:"TMArticleListBlock",components:{TMBlock:o.Z,TMArticleSnippetBlock:a.Z},props:{title:{type:String,default:null},dataList:{type:Array,default:()=>[]},maxPosts:{type:Number,default:5},gaOptions:{type:Object,default:null,required:!1},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},spacing:{type:String,default:"around"}},computed:{articleList(){return this.dataList.slice(0,this.maxPosts)}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},44767:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-poll"},[t.isLoggedIn?t._e():e("TMNotice",{staticClass:"tm-article-poll__notice",attrs:{type:"positive"},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.unauthorizedNoticeMessage)}})]},proxy:!0}],null,!1,4159226856)}),t._v(" "),t.poll.id?[e("div",{staticClass:"tm-article-poll__header",domProps:{innerHTML:t._s(t.poll.textHtml)}}),t._v(" "),t.poll.relatedData&&t.poll.relatedData.canVote?[e("div",{staticClass:"tm-article-poll__answers"},t._l(t.poll.variants,(function(s,n){return e("div",{key:s.id,staticClass:"tm-article-poll__answer"},["checkbox"===t.poll.answersType?e("TMLabeledCheckbox",{staticClass:"tm-article-poll__answer-item",attrs:{name:`${s.id}`},model:{value:t.selectedAnswers.checkboxes[n],callback:function(e){t.$set(t.selectedAnswers.checkboxes,n,e)},expression:"selectedAnswers.checkboxes[i]"}},[e("TMText",{staticClass:"tm-article-poll__answer-label",attrs:{text:s.textHtml}})],1):e("TMInputRadioLabeled",{staticClass:"tm-article-poll__answer-item",attrs:{id:"answer","checked-value":`${s.id}`,value:s.id},model:{value:t.selectedAnswers.radio,callback:function(e){t.$set(t.selectedAnswers,"radio",e)},expression:"selectedAnswers.radio"}},[e("TMText",{staticClass:"tm-article-poll__answer-label",attrs:{text:s.textHtml}})],1)],1)})),0),t._v(" "),e("div",{staticClass:"tm-article-poll__controls"},[e("TMButtonBase",{staticClass:"tm-article-poll__submit",attrs:{disabled:t.isVoteDisabled,"is-loading":t.isLoadingVote,"style-size":"middle","style-type":"solid",type:"submit"},on:{click:t.onSubmitVote}},[t._v("\n          "+t._s(t.msg("POLLS_VOTE"))+"\n        ")]),t._v(" "),e("TMButtonBase",{staticClass:"tm-article-poll__decline",attrs:{"is-loading":t.isLoadingDecline,"style-size":"middle","style-type":"transparent",type:"button"},on:{click:t.declineVote}},[t._v("\n          "+t._s(t.msg("POLLS_DECLINE"))+"\n        ")])],1)]:e("div",{staticClass:"tm-article-poll__answers"},t._l(t.poll.variants,(function(s){return e("div",{key:s.id,staticClass:"tm-article-poll__answer"},[e("div",{staticClass:"tm-article-poll__answer-data"},[e("span",{class:t.percentClassName(s.id)},[t._v("\n            "+t._s(s.percent)+"%\n          ")]),t._v(" "),e("span",{class:t.answerLabelClassName(s.selected),domProps:{innerHTML:t._s(s.textHtml)}}),t._v(" "),e("span",{staticClass:"tm-article-poll__answer-votes"},[t._v("\n            "+t._s(s.votesCount)+"\n          ")])]),t._v(" "),e("div",{staticClass:"tm-article-poll__answer-bar"},[e("div",{class:t.progressBarClassName(s.id),style:`width: ${s.percent}%`})])])})),0),t._v(" "),e("div",{staticClass:"tm-article-poll__stats"},[t._v("\n      "+t._s(t.msg("POLLS_STAT_VOTED",{votesCount:t.poll.votesCount}))+"\n\n      "+t._s(t.msg("POLLS_STAT_PASSED",{passCount:t.poll.passCount}))+"\n    ")])]:t._e()],2)},i=[],a=s(20629),o=s(30089),r=s(75070),l=s(99931),c=s(46155),m=s(57713),u=s(2384);const d={name:"TMArticlePoll",components:{TMButtonBase:o.Z,TMInputRadioLabeled:c.Z,TMLabeledCheckbox:r.Z,TMNotice:m.Z,TMText:l.Z},props:{poll:{default:()=>{},type:Object}},data(){return{selectedAnswers:{checkboxes:[],radio:""},isLoadingVote:!1,isLoadingDecline:!1}},computed:{...(0,a.Se)("me",["isLoggedIn"]),...(0,a.Se)("i18n",["msg","langOptions"]),articleId(){return this.$route.params.id},isVoteDisabled(){const t=this.selectedAnswers;return-1===t.checkboxes.indexOf(!0)&&0===t.radio.length},winningAnswer(){return this.poll.variants.reduce(((t,e)=>t.votesCount>e.votesCount?t:e))},progressBarClassName(){return t=>({"tm-article-poll__answer-progress":!0,"tm-article-poll__answer-progress_winning":this.winningAnswer.id===t})},answerLabelClassName(){return t=>({"tm-article-poll__answer-label":!0,"tm-article-poll__answer-label_selected":t})},percentClassName(){return t=>({"tm-article-poll__answer-percent":!0,"tm-article-poll__answer-percent_winning":this.winningAnswer.id===t})},unAuthLinkParams(){const t=this.$route.path,{hl:e}=this.langOptions;return{url:`/kek/v1/auth/habrahabr/?back=${t}&hl=${e}`}},unauthorizedNoticeMessage(){return`${this.msg("POLLS_NOTICE_UNAUTH_DECLARATION")} ${this.msg("POLLS_NOTICE_UNAUTH_ACTION",this.unAuthLinkParams)}`}},methods:{...(0,a.OI)("articlesList",["setArticlePoll"]),onSubmitVote(){this.isLoadingVote=!0;let t=[];"checkbox"===this.poll.answersType?this.selectedAnswers.checkboxes.forEach(((e,s)=>{e&&t.push(this.poll.variants[s].id)})):t=[this.selectedAnswers.radio];const e={id:t};this.sendVote(e).then((()=>{this.isLoadingVote=!1}))},declineVote(){this.isLoadingDecline=!0,this.sendVote().then((()=>{this.isLoadingDecline=!1}))},sendVote(t={}){return(0,u.Uj)(this.poll.id,t).then((t=>this.setArticlePoll({poll:t,articleId:this.articleId}))).catch((t=>{this.$toast.error(t.message),this.isLoadingVote=!1,this.isLoadingDecline=!1}))}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},47593:(t,e,s)=>{"use strict";s.d(e,{Z:()=>H});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-presenter",class:{"tm-article-presenter_wide":t.isWideVariant}},[t._t("beforeBody"),t._v(" "),e("div",{staticClass:"tm-article-presenter__body"},[e("TMMisprintArea",{attrs:{action:t.misprintAction}},[e("article",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.hotkeys,expression:"hotkeys",modifiers:{stop:!0}}],ref:"article",staticClass:"tm-article-presenter__content",class:{"tm-article-presenter__content_narrow":!t.isWideVariant}},[t.isLoading?[e("TMPlaceholder",{attrs:{type:"article"}}),t._v(" "),e("TMPlaceholder",{attrs:{type:"articleBody"}})]:[e("div",{staticClass:"tm-article-presenter__header",class:{"tm-article-presenter__header_wide":t.isWideVariant}},[t._t("beforeSnippet"),t._v(" "),e("TMArticleSnippet",{staticClass:"tm-article-presenter__snippet",class:{"tm-article-presenter__snippet_wide":t.isWideVariant},attrs:{article:t.article,"full-article":"",lang:t.article.lang,tag:"h1"},on:{delete:function(e){return t.deleteArticle(t.article.id)}}})],2),t._v(" "),t._t("body",(function(){return[t.translationData?e("div",{staticClass:"tm-article-presenter__origin"},[e("a",{staticClass:"tm-article-presenter__origin-link",attrs:{href:t.translationData.originalUrl,target:"_blank"}},[t._v("\n                "+t._s(t.msg("ARTICLE_ORIGIN_TITLE"))+"\n                "),e("span",[t._v("\n                  "+t._s(t.translationData.originalAuthorName)+"\n                ")])])]):t._e(),t._v(" "),e("TMArticleBody",{attrs:{article:t.article,lang:t.article.lang}})]})),t._v(" "),e("div",{staticClass:"tm-article-presenter__meta",class:{"tm-article-presenter__meta_wide":t.isWideVariant}},[t.article.tags&&t.article.tags.length?e("TMTagsList",{staticClass:"tm-article-presenter__meta-list",attrs:{tags:t.article.tags,title:t.msg("ARTICLE_TAGS_TITLE")}}):t._e(),t._v(" "),t.article.hubs&&t.article.hubs.length?e("TMHubsList",{staticClass:"tm-article-presenter__meta-list",attrs:{hubs:t.article.hubs,title:t.msg("ARTICLE_HUBS_TITLE")}}):t._e()],1)]],2)]),t._v(" "),t.article?e("TMArticleStickyPanel",{attrs:{article:t.article,element:t.hasMounted?t.$refs.article:null},scopedSlots:t._u([{key:"afterIcons",fn:function(){return[t._t("afterStickyIcons")]},proxy:!0}],null,!0)}):t._e()],1),t._v(" "),t._t("beforeFooter"),t._v(" "),t.$slots.footer?e("div",{staticClass:"tm-article-presenter__footer"},[t._t("footer")],2):t._e()],2)},i=[],a=s(20629),o=s(34948),r=s(96017),l=s(13517),c=s(85211),m=s(897),u=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"transition-slide"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isIconsPanelHidden,expression:"!isIconsPanelHidden"}],staticClass:"tm-article-sticky-panel"},[t.article&&t.article.id?e("TMDataIcons",{staticClass:"tm-article-sticky-panel__icons",attrs:{article:t.article,"icons-list":t.iconsList}}):t._e(),t._v(" "),t._t("afterIcons")],2)])},d=[],p=s(33557);const _=t=>{const{bottom:e}=t.getBoundingClientRect();return e-window.innerHeight<=0},h={name:"TMArticleStickyPanel",components:{TMDataIcons:p.Z},props:{article:{type:Object,default:null},element:{type:null,default:null}},data(){return{isAtTheBottomOfArticle:!1,isIconsPanelHidden:!1,lastScrollPosition:null}},computed:{...(0,a.Se)("global",["isDesktop"]),iconsList(){const t=["rating","favorite","share"];return this.isDesktop?t.push("comments","views"):t.push(...this.isAtTheBottomOfArticle?["comments"]:["views"]),t}},mounted(){document.addEventListener("scroll",this.handleScroll,{passive:!0})},beforeDestroy(){document.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){if(!this.element||this._inactive)return;if(this.isAtTheBottomOfArticle=_(this.element),this.isAtTheBottomOfArticle)return this.scrolledDown||(this.scrolledDown=!0),void(this.isIconsPanelHidden=!1);const t=window.pageYOffset||document.documentElement.scrollTop;this.isIconsPanelHidden=t>this.lastScrollPosition,this.lastScrollPosition=t}}},g=h;var T=s(1001),v=(0,T.Z)(g,u,d,!1,null,null,null);const f=v.exports;var S=s(34841),E=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.misprintKeymap,expression:"misprintKeymap",modifiers:{stop:!0}}],staticClass:"tm-misprint-area"},[e("div",{ref:"root",staticClass:"tm-misprint-area__wrapper"},[t._t("default")],2),t._v(" "),t.showMisprint?e("TMMisprint",{attrs:{action:t.action,"misprint-text":t.misprintText},on:{close:t.closeMisprint}}):t._e()],1)},C=[];const I=()=>s.e(2627).then(s.bind(s,32627)),b={name:"TMMisprintArea",components:{TMMisprint:I},props:{action:{type:Function,required:!0}},data(){return{misprintText:null,showMisprint:!1}},computed:{...(0,a.Se)("me",["isLoggedIn"]),misprintKeymap(){return{"ctrl+enter":this.toggleMisprint,"meta+enter":this.toggleMisprint}}},methods:{getTextSelection(){const t=window.getSelection(),e=t.toString(),{anchorNode:s,focusNode:n}=t,{root:i}=this.$refs;return e.length&&i.contains(s)&&i.contains(n)?e:null},toggleMisprint(){if(this._inactive)return;if(this.showMisprint)return void this.closeMisprint();const t=this.getTextSelection();t&&this.isLoggedIn&&(this.misprintText=t,this.showMisprint=!0)},closeMisprint(){this.showMisprint=!1,this.misprintText=""}}},A=b;var y=(0,T.Z)(A,E,C,!1,null,null,null);const L=y.exports;var P=s(76437),O=s(88379),R=s(28306),N=s(52717),k=s(8065),M=s(44515),w=s(7748),x=s(20439),D=s(2384),B=s(77699),$=s(41258),F=s.n($);const G={name:"TMArticlePresenter",components:{TMArticleStickyPanel:f,TMHubsList:S.Z,TMTagsList:O.Z,TMArticleBody:c.Z,TMArticleSnippet:m.Z,TMPlaceholder:P.Z,TMMisprintArea:L},props:{article:{type:Object,default:null},isLoading:{type:Boolean,required:!0},variant:{type:String,default:null},shouldLogPageview:{type:Boolean,default:!0}},data(){return{hasMounted:!1,hasTrackedPageview:!1}},computed:{...(0,a.rn)("articlesList",["lastVisitedRoute"]),...(0,a.Se)("me",["userAlias"]),hotkeys(){return{"meta+e":this.checkAndOpenArticleEdit,"ctrl+e":this.checkAndOpenArticleEdit,u:this.goToLastVisitedArticlesList}},translationData(){if(!this.article.postLabels)return null;const{data:t=null}=this.article.postLabels.find((t=>"translation"===t.type))||{};return t},adriverPixels(){const{metadata:{adriverPixels:t}={}}=this.article||{};return t},isWideVariant(){return"wide"===this.variant}},activated(){this.hasTrackedPageview=!1},metaInfo(){const{article:t}=this;if(!t||!t.metadata)return{};const{lang:e,metadata:s}=t,{shareImageUrl:n,schemaJsonLd:i,amp:a}=s,o=[{href:(0,B.articleCanonical)(t),rel:"canonical",vmid:"canonical"},{rel:"image_src",href:n,vmid:"image:href"}];return a&&this.langOptions.hl===e&&o.push({rel:"amphtml",href:`https://habr.com/${e}/amp/post/${t.id}/`}),{title:(0,w._)(t.titleHtml),link:o,meta:(0,R.GD)(this.article),script:[{type:"application/ld+json",innerHTML:i,vmid:"ldjson-schema"}],__dangerouslyDisableSanitizers:["script"],__dangerouslyDisableSanitizersByTagID:{"ldjson-schema":["innerHTML"]}}},mounted(){this.hasMounted=!0,this.$activeWatch((()=>this.article),(t=>{t&&(this.collectAnalytics(),(0,l.Df)(),this.isLoggedIn||(0,o.t8)(t.id,t.statistics.commentsCount),this.adriverPixels&&this.adriverPixels.length&&this.initAdriverPixels())}),{immediate:!0})},methods:{checkAndOpenArticleEdit(){if(!this.article)return;const{relatedData:t,postType:e}=this.article,s=t&&t.canEdit&&"megaproject"!==e;if(!s)return;const n=parseInt(this.article.editorVersion,10),i=2===n,a=(0,N.B)(this.article),o=this.$router.resolve({name:"PUBLICATION_EDIT",params:{postId:this.$route.params.id}}).href;window.location=i?o:a},misprintAction(t){return(0,D.Ai)(this.article.id,t)},goToLastVisitedArticlesList(){const t=(0,M.bc)(this.langOptions),e=this.lastVisitedRoute.name?this.lastVisitedRoute:t;this.$router.push(e)},deleteArticle(t){window.confirm(this.msg("ARTICLE_DRAFT_DELETE_CONFIRM"))&&(0,D.mZ)(t).then((()=>{this.$router.push({name:"ARTICLES_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}),this.$toast.info(this.msg("ARTICLE_DELETED"))})).catch((t=>{this.$toast.error(t.message)}))},initAdriverPixels(){this.adriverPixels.forEach((t=>{const e=new Image;e.src=t}))},collectAnalytics(){this.hasTrackedPageview||((0,D.Az)(this.article.id).catch((t=>{r.Z.notifyException(t)})),(0,k.t4)("dimension2",F()(this.article)),(0,x.Z)(this.$route.fullPath),(0,k.t4)("dimension2",null),this.hasTrackedPageview=!0)}}},U=G;var V=(0,T.Z)(U,n,i,!1,null,null,null);const H=V.exports},63563:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e("article",{class:`tm-article-snippet-block-${t.layout} tm-article-snippet-block-${t.layout}_preview`},["mostReadingList"!==t.bookmarkModule?e("div",{staticClass:"tm-article-snippet-block__user-meta"},[t.showDate?e("div",{staticClass:"tm-article-snippet-block__date"},[t.article.timePublished?e("TMDatetime",{attrs:{date:new Date(t.article.timePublished),"show-full-date-time":""}}):t.article.plannedPublishTime?e("span",[t._v("\n        "+t._s(t.msg("ARTICLE_PLANNED"))+"\n        "),e("TMDatetime",{attrs:{date:new Date(t.article.plannedPublishTime),"show-full-date-time":""}})],1):e("span",{domProps:{textContent:t._s(t.msg("ARTICLE_NEVER_PUBLISHED"))}})],1):t._e()]):t._e(),t._v(" "),"fullview"===t.layout?e("h1",{staticClass:"tm-article-title",class:`tm-article-title_${t.layout}`},[e("span",{staticClass:"tm-article-title__text",domProps:{innerHTML:t._s(t.article.titleHtml)}})]):e("h2",{staticClass:"tm-article-title",class:`tm-article-title_${t.layout}`},[e("TMArticleLink",{staticClass:"tm-article-title__link",class:t.titleClassName,attrs:{article:t.article},nativeOn:{click:function(e){return t.logClickEvent.apply(null,arguments)}}},[e("span",{domProps:{innerHTML:t._s(t.article.titleHtml)}})])],1),t._v(" "),e("TMDataIcons",{attrs:{article:t.article,"bookmark-module":t.bookmarkModule,"ga-options":t.gaOptions,"icons-list":t.iconsList,type:t.layout}})],1)},i=[],a=s(34317),o=s(33557),r=s(74502),l=s(48001),c=s(8065);const m={name:"TMArticleSnippetBlock",components:{TMDataIcons:o.Z,TMDatetime:r.Z,TMArticleLink:a.Z},props:{article:l.sK,gaOptions:{type:Object,default:null,required:!1},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},customIconsList:{type:Array,default:()=>null},showDate:{type:Boolean,default:!0}},computed:{iconsList(){return this.customIconsList?this.customIconsList:"block"===this.layout?["votes","comments","views","favorite"]:["views","comments"]},titleClassName(){return{"tm-article-title__link_megapost":"megaproject"===this.article.postType}}},methods:{logClickEvent(){if(this.gaOptions){const{category:t,action:e,label:s}=this.gaOptions;(0,c.Kz)(t,e,s.post)}}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},897:(t,e,s)=>{"use strict";s.d(e,{Z:()=>C});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-snippet",class:t.bem("tm-article-snippet",{noBorder:t.noBorder})},[e("div",{staticClass:"tm-article-snippet__meta-container"},[e("div",{staticClass:"tm-article-snippet__meta"},[t.article.author&&!t.isMegapostV1?e("TMUserInfo",{staticClass:"tm-article-snippet__author",attrs:{author:t.article.author,avatar:t.article.author.avatarUrl}}):t._e(),t._v(" "),e("span",{staticClass:"tm-article-snippet__datetime-published",class:{"tm-article-snippet__datetime-published_megapost":t.isMegapostV1}},[t.article.timePublished?e("TMDatetime",{attrs:{date:new Date(t.article.timePublished),"show-full-date-time":""}}):t.article.plannedPublishTime?e("span",[t._v("\n          "+t._s(t.msg("ARTICLE_PLANNED"))+"\n          "),e("TMDatetime",{attrs:{"absolute-date":"",date:new Date(t.article.plannedPublishTime),"show-full-date-time":""}})],1):e("span",{domProps:{textContent:t._s(t.msg("ARTICLE_NEVER_PUBLISHED"))}})],1)],1),t._v(" "),t.showModeratorCheck||t.showEdit?e("div",{staticClass:"tm-article-snippet__controls"},[t.showModeratorCheck&&t.article.checked?e("TMSvgImg",{staticClass:"tm-article-snippet__moderation",attrs:{id:"moderator-check"}}):t._e(),t._v(" "),t.showEdit?[t.isNewEditor?e("router-link",{staticClass:"tm-article-snippet__edit",attrs:{to:t.editPublicationRoute}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"edit",size:"20"}})],1):e("a",{staticClass:"tm-article-snippet__edit",attrs:{href:t.desktopEditPublicationRoute,target:"_blank"}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"edit",size:"20"}})],1)]:t._e(),t._v(" "),t.canDeleteDraft?e("button",{staticClass:"tm-article-snippet__delete",attrs:{title:t.msg("ARTICLE_DRAFT_DELETE")},on:{click:function(e){return t.$emit("delete")}}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"trash",size:"20",title:t.msg("ARTICLE_DRAFT_DELETE")}})],1):t._e()],2):t._e()]),t._v(" "),e(t.tag,{tag:"component",staticClass:"tm-article-snippet__title",class:{[`tm-article-snippet__title_${t.tag}`]:!0,"tm-article-snippet__title_megapost":t.isMegapostV1},attrs:{lang:t.lang}},[t.useLink?e("TMArticleLink",{staticClass:"tm-article-snippet__title-link",attrs:{article:t.article,"data-article-link":""},nativeOn:{click:function(e){return t.logClickEvent.apply(null,arguments)}}},[e("span",{domProps:{innerHTML:t._s(t.article.titleHtml)}})]):e("span",{domProps:{innerHTML:t._s(t.article.titleHtml)}})],1),t._v(" "),t.showHubs&&t.article.hubs&&t.article.hubs.length?e("div",{staticClass:"tm-article-snippet__hubs"},t._l(t.article.hubs,(function(s,n){return e("span",{key:`hub_${n}`,staticClass:"tm-article-snippet__hubs-item",class:{"tm-article-snippet__hubs-item_megapost":t.isMegapostV1}},[e("TMHubLink",{staticClass:"tm-article-snippet__hubs-item-link",class:{"tm-article-snippet__hubs-item-link_megapost":t.isMegapostV1,"tm-article-snippet__hubs-item-link_subscribed":s.relatedData&&s.relatedData.isSubscribed},attrs:{hub:s}},[e("span",{domProps:{innerHTML:t._s(s.title)}}),t._v(" "),s.isProfiled?e("span",{staticClass:"tm-article-snippet__profiled-hub",attrs:{title:t.msg("PROFILED_HUB")}},[t._v("*")]):t._e()])],1)})),0):t._e(),t._v(" "),t.showLabels&&t.article.postLabels&&t.article.postLabels.length?e("div",{staticClass:"tm-article-snippet__labels"},t._l(t.article.postLabels,(function(s){return e("div",{key:s.type,staticClass:"tm-article-snippet__label",class:t.bem("tm-article-snippet__label",{variant:s.type})},["textruCheck"===s.type&&t.isSuperAdmin?e("a",{attrs:{href:s.data.url,target:"_blank"}},[t._v("\n        "+t._s(t.msg(`ARTICLE_LABEL_${s.type}`))+"\n      ")]):s.type&&s.type.indexOf("technotext")>=0?e("router-link",{attrs:{to:{name:"ARTICLES_LIST_TECHNOTEXT_ALL",params:{year:t.getTechnotextYear(s.type)}}}},[t._v("\n        "+t._s(t.msg(`ARTICLE_LABEL_${s.type}`))+"\n      ")]):s.data&&s.data.url?e("a",{attrs:{href:s.data.url,target:"_blank"}},[t._v("\n        "+t._s(t.msg(`ARTICLE_LABEL_${s.type}`))+"\n      ")]):"megapostType"===s.type&&s.data.value?e("span",[t._v("\n        "+t._s(t.msg("ARTICLE_LABEL_MEGAPOST_megapost"))+"\n      ")]):e("span",[t._v("\n        "+t._s(t.msg(`ARTICLE_LABEL_${s.type}`))+"\n      ")])],1)})),0):t._e(),t._v(" "),t.article.moderationComment?e("TMNotice",{attrs:{type:"warning"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TMWarningIcon",{staticClass:"tm-article__moderation-comment-icon"})]},proxy:!0},{key:"title",fn:function(){return[e("div",{staticClass:"tm-article__moderation-comment-header"},[e("div",{staticClass:"tm-article__moderation-comment-title"},[t._v("\n          "+t._s(t.msg("ARTICLE_MODERATOR_MESSAGE"))+"\n        ")]),t._v(" "),t.isDesktop?e("TMDatetime",{attrs:{date:new Date(t.article.moderationComment.timeCreated),"show-full-date-time":""}}):t._e()],1)]},proxy:!0}],null,!1,1832162755)},[t._v(" "),t._v(" "),e("div",{staticClass:"tm-article__moderation-comment-body",domProps:{innerHTML:t._s(t.article.moderationComment.textHtml)}})]):t._e(),t._v(" "),t.showLead&&t.article.leadData?e("div",{staticClass:"tm-article-body tm-article-snippet__lead"},[t.article.leadData.image?e("div",{staticClass:"tm-article-snippet__cover",class:t.objectFitClass},[e("img",{staticClass:"tm-article-snippet__lead-image",style:t.objectPositionStyle,attrs:{src:t.article.leadData.image.url}})]):t.article.leadData.imageUrl?e("img",{staticClass:"tm-article-snippet__lead-image",attrs:{src:t.article.leadData.imageUrl}}):t._e(),t._v(" "),t.article.leadData.textHtml?e("TMArticleFormattedBody",{attrs:{"article-text":t.article.leadData.textHtml,version:t.editorVersion}}):t._e(),t._v(" "),t.article.leadData.buttonTextHtml?e("TMArticleLink",{staticClass:"tm-article-snippet__readmore",attrs:{article:t.article}},[e("span",{domProps:{innerHTML:t._s(t.article.leadData.buttonTextHtml)}})]):t._e()],1):t._e()],1)},i=[],a=s(20629),o=s(61216),r=s(34317),l=s(74502),c=s(95582),m=s(57713),u=s(2813),d=s(33348),p=s(65873),_=s(52717),h=s(8065),g=s(63715);const T=()=>s.e(93).then(s.bind(s,20093)),v={name:"TMArticleSnippet",components:{TMDatetime:l.Z,TMNotice:m.Z,TMSvgImg:u.Z,TMUserInfo:d.Z,TMHubLink:c.Z,TMArticleLink:r.Z,TMWarningIcon:T,TMArticleFormattedBody:o.Z},props:{article:{default:()=>{},type:Object},tag:{type:String,default:"h2"},useLink:{type:Boolean,default:!1},fullArticle:{type:Boolean,default:!1},lang:{type:String,default:null},withHubs:{type:Boolean,default:null},withLabels:{type:Boolean,default:null},withLead:{type:Boolean,default:null},noBorder:Boolean,articleView:{type:String,default:null,validator(t){return["cards","list"].includes(t)}}},computed:{...(0,a.Se)("articlesList",{getGlobalArticleView:"getArticleView"}),...(0,a.Se)("global",["isDesktop"]),...(0,a.Se)("me",["isSuperAdmin"]),getArticleView(){return this.articleView||this.getGlobalArticleView},isMegapostV1(){return"megaproject"===this.article.postType&&1===this.editorVersion},isMegapostV2(){return"megaproject"===this.article.postType&&2===this.editorVersion},showHubs(){return null===this.withHubs?this.fullArticle||"cards"===this.getArticleView:this.withHubs},showLabels(){return null===this.withLabels?this.fullArticle||"cards"===this.getArticleView||this.isMegapostV2:this.withLabels},showLead(){return null===this.withLead?!this.fullArticle&&"cards"===this.getArticleView:this.withLead},editorVersion(){return parseInt(this.article.editorVersion,10)},leadDataImage(){const{article:{leadData:t}}=this;return t&&t.image},objectFitClass(){return this.leadDataImage&&this.leadDataImage.fit&&`tm-article-snippet__cover_${this.leadDataImage.fit}`},objectPositionStyle(){return this.leadDataImage&&`object-position: ${this.leadDataImage.positionX}% ${this.leadDataImage.positionY}%`},showEdit(){const{relatedData:t}=this.article;return t&&t.canEdit&&!this.isMegapost},isNewEditor(){const t=parseInt(this.article.editorVersion,10);return 2===t},showModeratorCheck(){return this.isSuperAdmin},editPublicationRoute(){return"megaproject"===this.article.postType&&this.isNewEditor?{name:"PUBLICATION_MEGAPOST_EDIT",params:{postId:this.article.id}}:{name:"sandbox"===this.article.postType?"PUBLICATION_EDIT_SANDBOX":"PUBLICATION_EDIT",params:{postId:this.article.id}}},desktopEditPublicationRoute(){return this.isMegapostV1?(0,g.c)(this.article.id):(0,_.B)(this.article)},canDeleteDraft(){return"draft"===this.article.status&&!this.article.timePublished}},methods:{bem:p.P,getDataTestID(t){const e="sandbox"===this.$route.meta.pageType||this.$route.meta.isSandboxPage;if(!e)return null;const s="sandbox";return`${s}_article_${t}`},getTechnotextYear(t){return parseInt(t.substring("technotext".length),10)},logClickEvent(){if(this.gaOptions){const{category:t,action:e,label:s}=this.gaOptions;(0,h.Kz)(t,e,s.post)}}}},f=v;var S=s(1001),E=(0,S.Z)(f,n,i,!1,null,null,null);const C=E.exports},35683:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",t._l(t.links,(function(t){return e("img",{key:t,staticStyle:{display:"none"},attrs:{height:"1",src:t,width:"1"}})})),0)},i=[];const a={name:"TMArticleTrackingPixels",props:{links:{type:Array,required:!0}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},56258:(t,e,s)=>{"use strict";s.d(e,{Z:()=>v});var n=function(){var t=this,e=t._self._c;return t.showFeedBlocks?e("div",{staticClass:"tm-article-feed-blocks"},[t.showPromoBlock?e("TMPromoBlock",{key:`promo_block_${t.position}`,attrs:{id:`promo_block_${t.position}`,"data-navigatable":"","ga-type":"feed_middle",tabindex:"0"}}):t.showAdBanner?e("TMAdfoxBanner",{key:`ads_block_${t.position}`,attrs:{"adfox-id":"164725660339535756","div-id":"articlesListBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"},variant:"leaderboard"}}):t.showRandomProjectBlock?e("TMRandomProjectBlock",{key:`project-blocks_${t.position}`,attrs:{id:`project-blocks_${t.position}`,"block-id":`project-blocks_${t.position}`,"data-navigatable":"",hubs:t.sortedHubs,location:"feed",tabindex:"0",tags:t.sortedTags}}):t.showStoriesBlock?e("TMStories",{key:`stories_block_${t.position}`,attrs:{id:`stories_block_${t.position}`,"ga-category":"stories_feed"}}):t._e()],1):t._e()},i=[],a=s(20629),o=s(19774),r=s(76121),l=s(14085),c=s(93764);const m=10,u={default:{allPositions:[4,7,m],promoBlockPositions:[4],adBannerPositions:[7],projectBlockPositions:[m],storiesBlockPositions:[]},startup:{allPositions:[4,7,17],promoBlockPositions:[4],adBannerPositions:[],projectBlockPositions:[7,17],storiesBlockPositions:[]},articles:{allPositions:[4,7,14],promoBlockPositions:[4],adBannerPositions:[7],projectBlockPositions:[],storiesBlockPositions:[14]},myFeed:{allPositions:[4,7,m,13,16],promoBlockPositions:[4],adBannerPositions:[7],projectBlockPositions:[m,13,16],storiesBlockPositions:[]}},d=new Set(["NEWS","NEWS_LIST_ALL","NEWS_LIST_ALL_PAGES","NEWS_LIST_ALL_SCORE","NEWS_LIST_ALL_SCORE_PAGES","NEWS_LIST_TOP","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD_PAGES","NEWS_LIST_BY_FLOW","NEWS_LIST_BY_FLOW_ALL","NEWS_LIST_BY_FLOW_ALL_PAGES","NEWS_LIST_BY_FLOW_SCORE","NEWS_LIST_BY_FLOW_SCORE_PAGES","NEWS_LIST_BY_FLOW_TOP","NEWS_LIST_BY_FLOW_TOP_PERIOD","NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES","NEWS_LIST_BY_COMPANY","NEWS_LIST_BY_COMPANY_PAGES"]),p=t=>{const e={};return t.forEach((t=>{e[t]=(e[t]||0)+1})),Object.keys(e).sort(((t,s)=>e[t]-e[s]))},_={name:"TMArticlesFeedBlocks",components:{TMAdfoxBanner:o.Z,TMPromoBlock:l.Z,TMRandomProjectBlock:r.Z,TMStories:c.Z},props:{rotationType:{type:String,default:"default"},position:{type:Number,required:!0}},computed:{...(0,a.Se)("articlesList",["getAllHubsTitles","getAllTagsNames"]),...(0,a.Se)("me",["userShowAdv"]),currentRotationConfig(){return u[this.rotationType]||u.default},isFlEnglish(){return"en"===this.langOptions.fl},hubs(){return this.getAllHubsTitles(this.$route)},tags(){return this.getAllTagsNames(this.$route)},sortedHubs(){if(!this.hubs)return null;let t=p(this.hubs);return this.$route.params.hubName&&(t=Array.from(new Set([this.$route.params.hubName,...t]))),t},sortedTags(){return this.tags?p(this.tags):null},showFeedBlocks(){return this.currentRotationConfig.allPositions.includes(this.position)},showPromoBlock(){return this.currentRotationConfig.promoBlockPositions.includes(this.position)&&!this.isFlEnglish},showAdBanner(){return this.currentRotationConfig.adBannerPositions.includes(this.position)&&this.userShowAdv},showRandomProjectBlock(){return this.currentRotationConfig.projectBlockPositions.includes(this.position)&&!this.isFlEnglish&&!(this.isNewsRoute&&this.position===m)},showStoriesBlock(){return this.currentRotationConfig.storiesBlockPositions.includes(this.position)},isNewsRoute(){return this.$route.matched.some((t=>d.has(t.name)))}}},h=_;var g=s(1001),T=(0,g.Z)(h,n,i,!1,null,null,null);const v=T.exports},68099:(t,e,s)=>{"use strict";s.d(e,{Z:()=>A});var n=function(){var t=this,e=t._self._c;return e("TMArticlesList",{attrs:{"articles-list":t.currentArticlesList,"is-loading":t.isLoading,"pages-count":t.currentPagesCount},scopedSlots:t._u([{key:"afterArticle",fn:function({position:s,currentPage:n}){return[t._t("afterArticle",(function(){return[e("TMArticlesFeedBlocks",{attrs:{position:s,"rotation-type":t.isArticles?"articles":"default"}})]}),{currentPage:n,position:s})]}},{key:"afterArticles",fn:function(){return[t.isUserShowSubscriptionBlock?e("TMSubscriptionBlock",{attrs:{id:"subcriptions_block","data-navigatable":"",tabindex:"0"}}):t._e()]},proxy:!0}],null,!0)})},i=[],a=s(20629),o=s(56258),r=s(56187),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-subscription"},[e("h2",{staticClass:"tm-subscription__title"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_TITLE"))+"\n  ")]),t._v(" "),e("p",[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_TEXT"))+"\n  ")]),t._v(" "),t.showThanks?e("div",{staticClass:"tm-subscription__thanks"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_THANKS"))+"\n  ")]):e("div",{staticClass:"tm-subscription__form"},[e("div",{staticClass:"tm-select__container"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.period,expression:"period"}],staticClass:"tm-subscription__select",attrs:{disabled:t.isLoading},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.period=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"day"}},[t._v("\n          "+t._s(t.i18nSubscriptionPeriod("D"))+"\n        ")]),t._v(" "),e("option",{attrs:{value:"week"}},[t._v("\n          "+t._s(t.i18nSubscriptionPeriod("W"))+"\n        ")]),t._v(" "),e("option",{attrs:{value:"month"}},[t._v("\n          "+t._s(t.i18nSubscriptionPeriod("M"))+"\n        ")])])]),t._v(" "),e("div",{staticClass:"tm-subscription__button-container"},[e("TMButtonBase",{staticClass:"tm-subscription__button",attrs:{"is-loading":t.isLoading,"style-size":"large","style-type":"solid",type:"submit"},on:{click:t.sendSubscriptionSettings}},[t._v("\n        "+t._s(t.msg("SUBSCRIPTION_SUBSCRIBE"))+"\n      ")])],1)]),t._v(" "),e("button",{staticClass:"tm-subscription__close",on:{click:function(e){return t.sendSubscriptionSettings("never")}}},[e("TMSvgImg",{staticClass:"tm-subscription__close-icon",attrs:{id:"close"}})],1)])},c=[],m=s(30089),u=s(2813),d=s(8065),p=s(19516);const _=!0,h=t=>{switch(t){case"day":return"subscribe_daily";case"week":return"subscribe_weekly";case"month":return"subscribe_monthly";case"never":return"close";default:return null}},g={name:"TMSubscriptionBlock",components:{TMSvgImg:u.Z,TMButtonBase:m.Z},data(){return{period:"week",showThanks:!1,isLoading:!1}},beforeDestroy(){this.showThanks&&this.init(_)},methods:{...(0,a.nv)("me",["init"]),i18nSubscriptionPeriod(t){return this.msg(`SUBSCRIPTION_PERIOD_${t}`)},sendSubscriptionSettings(t){if(this.showThanks&&"never"===t)return void this.init(_);this.isLoading=!0;const e=t||this.period,s={frequency:e};(0,d.Kz)("tm_block","digest_feed",h(e)),(0,p.cZ)(s).then((e=>{e.ok&&("never"===t?this.init(_):this.showThanks=!0)})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isLoading=!1}))}}},T=g;var v=s(1001),f=(0,v.Z)(T,l,c,!1,null,null,null);const S=f.exports;var E=s(28374);const C={name:"TMArticlesFeed",components:{TMArticlesFeedBlocks:o.Z,TMArticlesList:r.Z,TMSubscriptionBlock:S},props:{isArticles:{type:Boolean,default:!1}},computed:{...(0,a.rn)("me",["user"]),...(0,a.rn)("articlesList",["isLoading","pagesCount"]),...(0,a.Se)("articlesList",["getArticlesList"]),isUserShowSubscriptionBlock(){return this.user&&null===this.user.settings.miscSettings.digestSubscription},routeKey(){return(0,E.Z)(this.$route)},currentArticlesList(){return this.getArticlesList(this.routeKey)},currentPagesCount(){return this.pagesCount[this.routeKey]}}},I=C;var b=(0,v.Z)(I,n,i,!1,null,null,null);const A=b.exports},56187:(t,e,s)=>{"use strict";s.d(e,{Z:()=>P});var n=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("TMPlaceholder",{attrs:{modificator:"preview",times:7,type:"article"}}):t.articlesList&&t.articlesList.length?[e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.hotkeys,expression:"hotkeys",modifiers:{stop:!0}}],staticClass:"tm-articles-list"},[t._l(t.articlesList,(function(s,n){return[10===n?e("a",{key:`more_news_${n}`,attrs:{name:"more-news"}}):t._e(),t._v(" "),"voice"===s.postType&&s.leadData.textHtml?e("TMVoiceArticle",{key:s.id,staticClass:"tm-articles-list__item",attrs:{id:s.id,article:s,"data-navigatable":"",tabindex:"0"},on:{delete:function(e){return t.$emit("deleteVoice",s)}}}):e("article",{key:s.id+s.titleHtml,staticClass:"tm-articles-list__item",attrs:{id:s.id,"data-navigatable":"",tabindex:"0"}},["megaproject"===s.postType&&"1.0"===s.editorVersion?e("TMMegapostSnippet",{attrs:{article:s,"article-view":t.articleView}}):e("TMArticleSnippet",{attrs:{article:s,"article-view":t.articleView,"use-link":""},on:{delete:function(e){return t.$emit("deleteArticle",s)}}}),t._v(" "),s.statistics.readingCount?e("TMDataIcons",{ref:"counters",refInFor:!0,attrs:{article:s,"bookmark-module":t.bookmarkModule,"icons-list":["votes","comments","views","favorite"]}}):t._e()],1),t._v(" "),t.$scopedSlots.afterArticle?e("div",{key:`afterArticle_${n}`,staticClass:"tm-articles-list__after-article"},[t._t("afterArticle",null,{currentPage:t.currentPage,position:n+1})],2):t._e()]}))],2),t._v(" "),t.$slots.afterArticles?e("div",{staticClass:"tm-articles-list__after-articles"},[t._t("afterArticles")],2):t._e(),t._v(" "),t.pagesCount>1?e("TMPagination",{attrs:{"route-name":t.paginationRouteName,"total-pages":t.pagesCount}}):t._e()]:e("TMEmptyPlaceholder",[e("span",{domProps:{textContent:t._s(t.msg("EMPTY_POSTS_MESSAGE"))}})])],2)},i=[],a=s(20629),o=s(897),r=s(33557),l=s(46970),c=s(91259),m=s(40416),u=s(76437),d=function(){var t=this,e=t._self._c;return e("article",{staticClass:"tm-voice-article"},[e("div",{staticClass:"tm-voice-article__voice-controls"},[t.article.relatedData&&t.article.relatedData.canEdit?e("router-link",{staticClass:"tm-voice-article__voice-control tm-voice-article__edit-voice",attrs:{to:{name:"VOICE_EDIT",params:{voiceId:t.article.id}}}},[e("TMSvgImg",{attrs:{id:"edit",size:"20"}})],1):t._e(),t._v(" "),t.article.relatedData&&t.article.relatedData.canEdit&&!t.article.timePublished?e("button",{staticClass:"tm-voice-article__voice-control tm-voice-article__delete-voice",attrs:{title:t.msg("ARTICLE_DRAFT_DELETE")},on:{click:function(e){return t.$emit("delete")}}},[e("TMSvgImg",{attrs:{id:"trash",size:"20",title:t.msg("ARTICLE_DRAFT_DELETE")}})],1):t._e()],1),t._v(" "),e("TMArticleFormattedBody",{staticClass:"tm-voice-article__body",attrs:{"article-text":t.article.leadData.textHtml,"should-format":!1}})],1)},p=[],_=s(61216),h=s(2813);const g={name:"TMVoiceArticle",components:{TMSvgImg:h.Z,TMArticleFormattedBody:_.Z},props:{article:{type:Object,required:!0}}},T=g;var v=s(1001),f=(0,v.Z)(T,d,p,!1,null,null,null);const S=f.exports;var E=s(75444),C=s(23217),I=s(91256);function b(t){const e=`[name="${t}"]`,s=document.querySelector(e);s&&(0,I.kI)(s);const n=new MutationObserver((()=>{Array.from(document.querySelectorAll(e)).forEach((t=>{t.scrollIntoView(!0),n.disconnect()}))}));return n.observe(document.documentElement,{childList:!0,subtree:!0}),()=>n.disconnect()}const A={name:"TMArticlesList",components:{TMArticleSnippet:o.Z,TMDataIcons:r.Z,TMEmptyPlaceholder:l.Z,TMMegapostSnippet:c.Z,TMPagination:m.Z,TMPlaceholder:u.Z,TMVoiceArticle:S},props:{articlesList:{type:Array,required:!0},pagesCount:{type:Number,default:1},isLoading:{type:Boolean,default:!1},articleView:{type:String,default:null,validator(t){return["cards","list"].includes(t)}},bookmarkModule:{type:String,default:"articlesList"}},data(){return{disconnectObserver:null}},computed:{paginationRouteName(){const t=-1!==this.$route.name.indexOf("_PAGES");return t?this.$route.name:`${this.$route.name}_PAGES`},hotkeys(){const{toggleArticleView:t}=this;return(0,E.c)({toggleArticleView:t})},currentPage(){return Number(this.$route.params.pageNum)||1}},mounted(){this.setLastVisitedRoute(this.$route),this.$route.hash===`#${C.dY}`&&(this.disconnectObserver=b(C.dY))},beforeDestroy(){this.disconnectObserver&&this.disconnectObserver()},methods:{...(0,a.nv)("articlesList",["setLastVisitedRoute","toggleArticleView"])}},y=A;var L=(0,v.Z)(y,n,i,!1,null,null,null);const P=L.exports},9790:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMScrollLockTransition",{attrs:{name:"transition-fade"}},[t.isConfirmVisible?e("TMPopupBase",{attrs:{centered:""},on:{close:function(e){t.isConfirmVisible=!1}}},[e("div",{staticClass:"tm-confirmation-dialog"},[e("h2",{staticClass:"tm-confirmation-dialog__title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),t.message?e("p",{staticClass:"tm-confirmation-dialog__description"},[t._v("\n        "+t._s(t.message)+"\n      ")]):t._e(),t._v(" "),e("div",{staticClass:"tm-confirmation-dialog__actions"},[e("TMButtonBase",{staticClass:"tm-confirmation-dialog__action tm-confirmation-dialog__action_confirm",attrs:{"style-size":"small",type:"button"},on:{click:t.confirm}},[t._v("\n          "+t._s(t.confirmLabel)+"\n        ")]),t._v(" "),e("TMButtonBase",{staticClass:"tm-confirmation-dialog__action tm-confirmation-dialog__action_cancel",attrs:{"style-size":"small","style-type":"transparent",type:"button"},on:{click:t.cancel}},[t._v("\n          "+t._s(t.cancelLabel)+"\n        ")])],1)])]):t._e()],1)},i=[],a=s(30089),o=s(27481),r=s(75817);const l={name:"TMAsyncConfirmationDialog",components:{TMButtonBase:a.Z,TMPopupBase:o["default"],TMScrollLockTransition:r.Z},data(){return{title:void 0,message:void 0,confirmLabel:void 0,cancelLabel:void 0,resolvePromise:void 0,rejectPromise:void 0,isConfirmVisible:!1}},methods:{show(t={}){const{title:e,message:s,confirmLabel:n,cancelLabel:i}=t;return this.title=e,this.message=s,this.confirmLabel=n||this.msg("CONFIRM_OK_BUTTON_LABEL"),this.cancelLabel=i||this.msg("CONFIRM_CANCEL_BUTTON_LABEL"),this.isConfirmVisible=!0,new Promise(((t,e)=>{this.resolvePromise=t,this.rejectPromise=e}))},confirm(){this.isConfirmVisible=!1,this.resolvePromise(!0)},cancel(){this.isConfirmVisible=!1,this.resolvePromise(!1)}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},76262:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"tm-block",class:t.bem("tm-block",{spacing:t.spacing,variant:t.variant})},[t.title||"header-aside"in t.$slots?e("header",{staticClass:"tm-block__header",class:t.bem("tm-block__header",{variant:t.headerVariant})},[e("div",{staticClass:"tm-block__header-container"},[t.title?e(t.titleTag,{tag:"component",staticClass:"tm-block__title",class:t.bem("tm-block__title",{variant:t.titleVariant}),domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t._t("block-settings")],2),t._v(" "),"header-aside"in t.$slots?e("div",{staticClass:"tm-block__header-aside"},[t._t("header-aside")],2):t._e()]):t._e(),t._v(" "),t._t("body",(function(){return[e("div",{staticClass:"tm-block__body",class:t.bem("tm-block__body",{variant:t.bodyVariant})},[t._t("default")],2)]})),t._v(" "),t.$slots.footer?e("footer",{staticClass:"tm-block__footer"},[t._t("footer",(function(){return[t._t("default")]}))],2):t._e()],2)},i=[],a=s(65873),o=s(59436);const r={name:"TMBlock",props:{tag:{type:String,default:"section"},title:{type:String,default:null},titleTag:{type:String,default:"h2"},headerVariant:{type:String,default:null,validator:(0,o.H)(["borderless"])},titleVariant:{type:String,default:null,validator:(0,o.H)(["large"])},bodyVariant:{type:String,default:null,validator:(0,o.H)(["balanced","condensed","condensed-slim","stucked","island","equal","equal-small"])},spacing:{type:String,default:"bottom",validator:(0,o.H)(["top","bottom","around","none"])},variant:{type:String,default:null,validator:(0,o.H)(["border-bottom"])}},methods:{bem:a.P}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},50242:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("button",{staticClass:"bookmarks-button",attrs:{disabled:t.isProcessing,title:t.buttonTitle,type:"button"},on:{click:function(e){return t.$emit("toggle-bookmark")}}},[t.isProcessing?e("TMCircleLoader",{staticClass:"bookmarks-button__loader",attrs:{"circle-height":10,"circle-width":10,height:24,width:24}}):e("TMSvgIcon",{staticClass:"bookmarks-button__icon",class:{"bookmarks-button__icon_highlighted":t.isBookmarked},attrs:{id:"counter-favorite",size:"24",tag:"span",title:t.iconTitleAttr}}),t._v(" "),t.isCounterShown?e("span",{staticClass:"bookmarks-button__counter",class:{"bookmarks-button__counter_highlighted":t.isBookmarked},attrs:{title:t.msg("DATA_ICONS_BOOKMARKS_COUNT")}},[t._v("\n    "+t._s(t.bookmarksCount)+"\n  ")]):t._e()],1)},i=[],a=s(97481),o=s(62205);const r={name:"TMBookmarkButton",components:{TMCircleLoader:a.Z,TMSvgIcon:o.Z},props:{bookmarksCount:{type:Number,default:0},isBookmarked:Boolean,isProcessing:Boolean,isCounterShown:{type:Boolean,default:!0}},computed:{iconTitleAttr(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")},buttonTitle(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},46768:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMOverlay",{on:{close:function(e){return t.$emit("close")}}},[e("div",{ref:"wrapper",staticClass:"tm-bottom-sheet"},[t.noCloseButton?t._e():e("button",{staticClass:"tm-bottom-sheet__close",class:t.bem("tm-bottom-sheet__close",{card:t.card}),attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("TMSvgImg",{staticClass:"tm-bottom-sheet__close-icon",attrs:{id:"close-rounded",size:"24"}})],1),t._v(" "),e("div",{staticClass:"tm-bottom-sheet__header",class:t.bem("tm-bottom-sheet__header",{card:t.card})},[t.title?e("div",{staticClass:"tm-bottom-sheet__title",domProps:{textContent:t._s(t.title)}}):t._e()]),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-bottom-sheet__content",class:t.bem("tm-bottom-sheet__content",{card:t.card})},[t._t("default")],2):t._e(),t._v(" "),t._t("body")],2)])},i=[],a=s(62397),o=s(2813),r=s(65873);const l={name:"TMBottomSheet",components:{TMOverlay:a.Z,TMSvgImg:o.Z},props:{title:{type:String,default:null},card:Boolean,noCloseButton:Boolean},methods:{bem:r.P}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},77855:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-button-follow",on:{click:t.onClick}},[e("span",{staticClass:"tm-button-follow__unfollow"},[t._v("\n    ×\n  ")]),t._v(" "),e("button",{staticClass:"tm-button-follow__button tm-button-follow__button_big",class:t.className,attrs:{type:"button"}},[t._v("\n    "+t._s(t.buttonText)+"\n  ")])])},i=[],a=s(20629);const o={name:"TMButtonFollow",props:{useFollowLabel:Boolean,subscribed:Boolean},data(){return{computedSubscribed:this.subscribed}},computed:{...(0,a.Se)("i18n",["msg"]),i18n(){return{subscribe:this.useFollowLabel?this.msg("PROFILE_ACTION_FOLLOW"):this.msg("PROFILE_ACTION_SUBSCRIBE"),subscribed:this.useFollowLabel?this.msg("PROFILE_ACTION_FOLLOWING"):this.msg("PROFILE_ACTION_SUBSCRIBED")}},buttonText(){return this.computedSubscribed?this.i18n.subscribed:this.i18n.subscribe},className(){return{"tm-button-follow__button_is-active":this.computedSubscribed}}},watch:{subscribed(t){this.computedSubscribed=t}},methods:{onClick(){this.computedSubscribed=!this.computedSubscribed,this.$emit("onToggle")}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},97481:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lds-ring",style:t.styleVars},[e("div",{style:t.styleVars}),t._v(" "),e("div",{style:t.styleVars}),t._v(" "),e("div",{style:t.styleVars}),t._v(" "),e("div",{style:t.styleVars})])},i=[];const a={name:"TMCircleLoader",props:{width:{type:Number,default:15},height:{type:Number,default:15},color:{type:String,default:"#bbcdd6"},circleWidth:{type:Number,default:15},circleHeight:{type:Number,default:15}},computed:{styleVars(){return{"--circle-loader-width":`${this.width}px`,"--circle-loader-height":`${this.height}px`,"--circle-loader-circle-width":`${this.circleWidth}px`,"--circle-loader-circle-height":`${this.circleHeight}px`,"--circle-loader-circle-border-color":`${this.color}`}}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},49758:(t,e,s)=>{"use strict";s.d(e,{Z:()=>S});var n=function(){var t=this,e=t._self._c;return e("div",{class:t.bem("tm-comment-footer",{"is-pinned":t.isPinnedSection})},[t.comment.isReadonly?t._e():[t.hasMounted&&t.canVoteForComment&&t.voteAction?e("TMVotesLever",{staticClass:"tm-comment-footer__votes-switcher",attrs:{appearance:"comment","is-loading":t.isLoadingVote,"is-plusified":!0,"no-votes-title":t.msg("COMMENT_NOT_RATED"),score:t.comment.score,"vote-state":t.comment.vote.value||0,"votes-count":t.comment.votesCount},on:{downvote:function(e){return t.onVote("down")},upvote:function(e){return t.onVote("up")}}}):e("TMVotesMeter",{ref:"votesMeter",staticClass:"tm-comment-footer__votes-meter",attrs:{appearance:"comment","no-votes-title":t.msg("COMMENT_NOT_RATED"),score:t.comment.score||0,"vote-state":t.hasMounted&&t.comment.vote&&t.comment.vote.value||0,"votes-count":t.comment.votesCount}}),t._v(" "),t._t("button",(function(){return[e("TMArticleCommentsLink",{staticClass:"tm-comment-footer__button tm-comment-footer__button",attrs:{article:t.comment.post,"comment-id":t.comment.id}},[t._v("\n        "+t._s(t.msg("COMMENT_ACTION_LOOK"))+"\n      ")])]})),t._v(" "),t.favoriteAction?e("TMBookmarksButton",{ref:"favoriteButton",staticClass:"tm-comment-footer__button tm-comment-footer__button_with-icon",attrs:{"is-bookmarked":!!t.hasMounted&&t.comment.isFavorite,"is-counter-shown":!1,"is-processing":t.isLoadingFavorite},on:{"toggle-bookmark":t.favorite}}):t._e()],t._v(" "),t.popupToggleVisible?e("button",{ref:"popupButton",staticClass:"tm-comment__button tm-comment__button_with-icon",attrs:{"data-comment-popup":t.comment.id},on:{click:function(e){return t.$emit("openPopup")}}},[e("TMSvgImg",{staticClass:"tm-comment__icon tm-comment__icon_dots",attrs:{id:"dots"}})],1):e("div"),t._v(" "),t.adminControlsVisible?[e("button",{staticClass:"tm-comment-footer__button",attrs:{type:"button"},on:{click:function(e){return t.$emit("moderate",!0)}}},[t._v("\n      "+t._s(t.msg("COMMENT_ACTION_APPROVE"))+"\n    ")]),t._v(" "),e("button",{staticClass:"tm-comment-footer__button",attrs:{type:"button"},on:{click:function(e){return t.$emit("moderate",!1)}}},[t._v("\n      "+t._s(t.msg("COMMENT_ACTION_REJECT"))+"\n    ")])]:t._e()],2)},i=[],a=s(20629),o=s(99682),r=s(50242),l=s(2813),c=s(89369),m=s(41534),u=s(84291),d=s(65873),p=s(13836),_=s(8065);const h=()=>s.e(93).then(s.bind(s,20093)),g={name:"TMCommentFooter",components:{TMBookmarksButton:r.Z,TMSvgImg:l.Z,TMVotesLever:c.Z,TMVotesMeter:m.Z,TMWarningIcon:h,TMArticleCommentsLink:o.Z},props:{comment:{type:Object,required:!0,validator:u.gI},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},popupToggleVisible:Boolean,showModerationControls:Boolean},data(){return{isLoadingFavorite:!1,isLoadingVote:!1,hasMounted:!1}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),...(0,a.rn)("me",["user"]),article(){return this.comment.post},voteStateStr(){return(0,p.j)(this.comment.vote.value)},canVoteForComment(){return this.comment.vote&&this.comment.vote.isCanVote},adminControlsVisible(){const{isReadonly:t,isAuthor:e}=this.comment;return this.hasMounted&&t&&!e&&this.showModerationControls}},mounted(){this.hasMounted=!0},methods:{onVote(t){const e="up"===t?"plus":"minus";this.isLoadingVote=!0,this.voteAction({commentId:this.comment.id,direction:t}).then((()=>{(0,_.Kz)("comment",e,this.userAlias)})).catch((t=>{this.$toast(t.message)})).finally((()=>{this.isLoadingVote=!1}))},favorite(){if(!this.isLoggedIn)return void this.$toast.error(this.msg("AUTH_REQUIRED"));const t=(new Date).getTime(),e=1e3;this.isLoadingFavorite=!0;const{id:s,isFavorite:n}=this.comment;this.favoriteAction({commentId:s,isFavorite:!n}).then((()=>{const s=(new Date).getTime()-t,n=s<e?e-s:0;setTimeout((()=>{this.isLoadingFavorite=!1}),n)}))},bem:d.P}},T=g;var v=s(1001),f=(0,v.Z)(T,n,i,!1,null,null,null);const S=f.exports},13785:(t,e,s)=>{"use strict";s.d(e,{Z:()=>U});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comment",attrs:{"data-gallery-root":""}},[t.authorAliasPresent?e("header",{ref:"commentHeader",staticClass:"tm-comment__header",class:t.hasMounted?t.className:null,attrs:{"data-comment-header":"",tabindex:"-1"}},[e("div",{staticClass:"tm-comment__header-inner"},[e("TMUserInfo",{ref:"userInfo",staticClass:"tm-comment__user-info",attrs:{author:t.comment.author,avatar:t.comment.author.avatarUrl},on:{mouseenter:t.onUserMouseenter,mouseleave:t.onUserMouseleave}},[t._t("comment-link",(function(){return[e("a",{staticClass:"tm-comment__datetime",attrs:{href:`#comment_${t.comment.id}`}},[t._v("\n            "+t._s(t.msg("DATE_FORMAT",t.datetimeStr))+"\n          ")])]}),{datetimeStr:t.datetimeStr})],2)],1),t._v(" "),t.isCommentControlsShown&&!t.isPinnedSection?e("div",{ref:"commentButtons",staticClass:"tm-comment__buttons"},[t.comment.parentId?e("button",{ref:"scrollToParentButton",staticClass:"tm-comment__button tm-comment__button_with-icon",attrs:{type:"button"},on:{click:()=>{t.scrollTo(`#comment_${t.comment.parentId}`),t.setScrollParents({comment:t.comment})}}},[e("TMSvgImg",{staticClass:"tm-comment__icon",attrs:{id:"small-arrow",title:t.msg("GO_TO_PARENT_COMMENT")}})],1):t._e(),t._v(" "),t.getScrollParents&&t.getScrollParents[t.comment.id]?e("button",{ref:"scrollToChildButton",staticClass:"tm-comment__button tm-comment__button_with-icon",attrs:{type:"button"},on:{click:function(e){return t.scrollTo(`#comment_${t.getScrollParents[t.comment.id]}`)}}},[e("TMSvgImg",{staticClass:"tm-comment__icon tm-comment__icon_rotated",attrs:{id:"small-arrow",title:t.msg("GO_TO_CHILD_COMMENT")}})],1):t._e()]):t._e()]):t._e(),t._v(" "),e("div",{ref:"commentBody",staticClass:"tm-comment__body-content",class:{"tm-comment__body-content_muted":t.opacity,"tm-comment__body-content_empty":!t.authorAliasPresent,"tm-comment__body-content_v2":t.comment.editorVersion>1},style:t.opacity,domProps:{innerHTML:t._s(t.comment.message)}}),t._v(" "),e("transition",{attrs:{name:"transition-fade"}},[t.showUserInfoPopup?e("TMUserInfoPopup",{ref:"userInfoPopup",attrs:{root:t.$refs.userInfo.$el,"user-alias":t.comment.author.alias},on:{closeVotesDialog:function(e){t.votesDialogIsOpen=!1},openVotesDialog:function(e){t.votesDialogIsOpen=!0}}}):t._e()],1),t._v(" "),t.galleryImages.length?e("TMGallery",{ref:"commentGallary",staticClass:"tm-comment__gallery",attrs:{"images-list":t.galleryImages}}):t._e()],1)},i=[],a=s(20629),o=s(91296),r=s.n(o),l=s(93096),c=s.n(l),m=s(79911),u=s(99682),d=s(2813),p=s(33348),_=function(){var t=this,e=t._self._c;return e("TMPopover",{staticClass:"user-info-popup",attrs:{root:t.root}},[t.user?[e("div",{staticClass:"user-info-popup__wrapper"},[e("TMUserCard",{attrs:{"avatar-size":40,"is-donate-button-visible":!0,user:t.user,variant:"popover"},on:{closeVotesDialog:function(e){return t.$emit("closeVotesDialog")},openVotesDialog:function(e){return t.$emit("openVotesDialog")}}})],1),t._v(" "),e("div",{staticClass:"user-info-popup__footer"},[e("TMDescriptionList",{staticClass:"user-info-popup__stat",attrs:{title:`${t.msg("PROFILE_POSTS")}:`,variant:"inline"}},[t._v("\n        "+t._s(t.user.counterStats.postCount)+"\n      ")]),t._v(" "),e("TMDescriptionList",{staticClass:"user-info-popup__stat",attrs:{title:`${t.msg("PROFILE_COMMENTS")}:`,variant:"inline"}},[t._v("\n        "+t._s(t.user.counterStats.commentCount)+"\n      ")])],1)]:e("div",{staticClass:"user-info-popup__wrapper"},[e("TMUserInfoPopupPlaceholder")],1)],2)},h=[],g=s(58710),T=s(26887),v=s(78513),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info-popup-placeholder"},[t._m(0),t._v(" "),e("div",{staticClass:"user-info-popup-placeholder__category-info"},[e("span",{staticClass:"user-info-popup-placeholder__category-name",style:`width: ${t.getRandomNumberFromRange(80,150)}px`}),t._v(" "),e("div",{staticClass:"user-info-popup-placeholder__category-description",style:`width: ${t.getRandomNumberFromRange(30,210)}px`})])])},S=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info-popup-placeholder__user-profile-data"},[e("div",{staticClass:"user-info-popup-placeholder__category-avatar"})])}],E=s(21509);const C={name:"TMUserInfoPopupPlaceholder",methods:{getRandomNumberFromRange:E.r}},I=C;var b=s(1001),A=(0,b.Z)(I,f,S,!1,null,null,null);const y=A.exports,L={name:"TMUserInfoPopup",components:{TMUserInfoPopupPlaceholder:y,TMDescriptionList:g.Z,TMUserCard:v.Z,TMPopover:T.Z},props:{userAlias:{type:[Number,String],required:!0},root:{type:null,required:!0}},computed:{...(0,a.Se)("users",["getUserByAlias"]),user(){return this.getUserByAlias(this.userAlias)}},created(){this.loadUserInfo({alias:this.userAlias})},methods:{...(0,a.nv)("users",["loadUserInfo"])}},P=L;var O=(0,b.Z)(P,_,h,!1,null,null,null);const R=O.exports;var N=s(84291),k=s(27683),M=s(98339),w=s(5163),x=s(68668),D=s(83049);const B=()=>s.e(5121).then(s.bind(s,96321)),$={name:"TMComment",components:{TMGallery:B,TMSvgImg:d.Z,TMUserInfo:p.Z,TMArticleCommentsLink:u.Z,TMUserInfoPopup:R},props:{comment:{type:Object,required:!0,validator:N.gI},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,isPinnedSection:{type:Boolean,default:!1}},data(){return{userInfoPopupVisible:!1,userInfoTimer:null,shouldClosePopup:!1,galleryImages:[],hasMounted:!1,disconnectObserver:null,disposeLinks:null,votesDialogIsOpen:!1}},computed:{...(0,a.Se)("comments",["getScrollParents"]),...(0,a.Se)("i18n",["langOptions"]),showUserInfoPopup(){return!!this.votesDialogIsOpen||this.userPopoverEnabled&&this.userInfoPopupVisible},className(){return this.shouldDisplayStatus?{"tm-comment__header_is-by-op":this.comment.isPostAuthor,"tm-comment__header_is-mine":this.comment.isAuthor,"tm-comment__header_is-new":this.comment.isNew,"tm-comment__header_is-readonly":this.comment.isReadonly,"tm-comment__header_is-deleted":this.comment.isSuspended}:null},datetimeStr(){return(0,N.p6)(this.comment.timePublished)},opacity(){if(this.comment.score>=0||this.isHovered)return null;const t=90,e=10*this.comment.score,s=Math.abs(Math.max(-50,e));return{opacity:(t-s)/100}},handleMouseMoveThrottled(){return c()(this.handleMouseMove,200)},closeUserInfoPopupDebounced(){return r()((function(){this.shouldClosePopup&&this.closeUserInfoPopup()}),500)},authorAliasPresent(){var t;return null===(t=this.comment.author)||void 0===t?void 0:t.alias}},watch:{shouldClosePopup:"closeUserInfoPopupDebounced"},mounted(){this.hasMounted=!0,this.galleryImages=(0,x.N)(this.$refs.commentBody),(0,M.y)(this.$el),this.disconnectObserver=(0,k.O)(this.$refs.commentBody,this.msg("ERROR_IMAGE_WAS_NOT_LOADED")),this.disposeLinks=(0,w.W)(this.$el,((t,e)=>{t.preventDefault(),this.$router.push({path:e.pathname})}))},beforeDestroy(){this.disconnectObserver(),this.disposeLinks(),document.removeEventListener("mousemove",this.handleMouseMoveThrottled)},methods:{...(0,a.nv)("comments",["setScrollParents"]),scrollTo(t){(0,D.fo)(t),(0,m.l)(t)},openUserInfoPopup(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&(this.userInfoPopupVisible=!0,document.addEventListener("mousemove",this.handleMouseMoveThrottled))},closeUserInfoPopup(){this.userPopoverEnabled&&(this.userInfoPopupVisible=!1,this.shouldClosePopup=!1,document.removeEventListener("mousemove",this.handleMouseMoveThrottled))},onUserMouseenter(){this.userPopoverEnabled&&(clearTimeout(this.userInfoTimer),this.userInfoPopupVisible||(this.userInfoTimer=setTimeout(this.openUserInfoPopup,800)))},onUserMouseleave(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&clearTimeout(this.userInfoTimer)},handleMouseMove({clientX:t,clientY:e}){if(!this.$refs.userInfoPopup)return;const s=document.elementFromPoint(t,e),n=this.$refs.userInfoPopup.$el,i=this.$refs.userInfo.$el;this.shouldClosePopup=![n,i].some((t=>t.contains(s)))}}},F=$;var G=(0,b.Z)(F,n,i,!1,null,null,null);const U=G.exports},43296:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comments-wrapper"},[e("div",{staticClass:"tm-comments-wrapper__wrapper"},[e("header",{staticClass:"tm-comments-wrapper__header"},[e("h2",{staticClass:"tm-comments-wrapper__title"},[t._v("\n        "+t._s(t.msg("ARTICLE_COMMENTS_TITLE"))+"\n        "),t.commentsCount?e("span",{staticClass:"tm-comments-wrapper__comments-count"},[t._v("\n          "+t._s(t.commentsCount)+"\n        ")]):t._e()]),t._v(" "),t.$slots.headerAside?e("div",{staticClass:"tm-comments-wrapper__header-aside"},[t._t("headerAside")],2):t._e()]),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-comments-wrapper__inner"},[t._t("default")],2):t._e()]),t._v(" "),t._t("footer")],2)},i=[];const a={name:"TMCommentsWrapper",props:{commentsCount:{type:[String,Number],default:null}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},78275:(t,e,s)=>{"use strict";s.d(e,{Z:()=>Ct});var n=function(){var t=this,e=t._self._c;return e("TMCommentsWrapper",{attrs:{"comments-count":t.commentsCount},scopedSlots:t._u([{key:"headerAside",fn:function(){return[t._t("headerAside")]},proxy:!0},{key:"default",fn:function(){return[t.isLoading?e("TMPlaceholder",{attrs:{times:3,type:"comment"}}):[t._t("body"),t._v(" "),t.pinnedComments&&t.pinnedComments.length?e("TMPinnedComments",{attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,"complaint-action":t.complaintAction,"favorite-action":t.favoriteAction,"get-comment-link":t.getCommentLink,"pinned-comments":t.pinnedComments,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:function(e){return t.$emit("commentDelete",e)},expandLimiter:function(e){return t.$emit("expandLimiter",e)},moderate:t.moderateReadAndComment,pinUnpinComment:function(e){return t.$emit("pinUnpinComment",e)},showComplaintForm:t.showComplaintForm,showEditForm:t.showEditForm},scopedSlots:t._u([t.formTarget&&t.formTarget.isPinnedSection?{key:"footer",fn:function({comment:s}){return[t.formTarget.commentId===s.id&&"edit"===t.formTarget.type?e("div",{staticClass:"tm-comments__reply-form"},[e("div",{staticClass:"tm-comments__reply-form-wrapper"},[e("button",{staticClass:"tm-comments__close-button",attrs:{title:t.msg("CLOSE")},on:{click:function(e){return t.closeForm()}}},[e("TMSvgImg",{attrs:{id:"close",size:12}})],1),t._v(" "),e("TMCommentEditForm",{attrs:{comment:s,"edit-action":t.editAction,"post-id":t.postId},on:{close:t.closeForm,delete:function(e){return t.onDeleteComment(s.id)}}})],1)]):t._e()]}}:null],null,!0)}):t._e(),t._v(" "),t.comments.length?[e("div",{ref:"commentsList",staticClass:"tm-comments__tree",attrs:{"data-comments-list":""}},t._l(t.comments,(function(s){return e("TMCommentThread",{key:s.id,attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,comment:s,"comment-component":t.commentComponent,"complaint-action":t.complaintAction,"favorite-action":t.favoriteAction,"get-comment-link":t.getCommentLink,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:function(e){return t.$emit("commentDelete",e)},moderate:t.moderateReadAndComment,pinUnpinComment:function(e){return t.$emit("pinUnpinComment",e)},showComplaintForm:t.showComplaintForm,showEditForm:t.showEditForm,showReplyForm:t.showReplyForm},scopedSlots:t._u([t.formTarget&&!t.formTarget.isPinnedSection?{key:"footer",fn:function({comment:s}){return[t.formTarget.commentId===s.id?["reply"===t.formTarget.type?e("div",{staticClass:"tm-comments__reply-form"},[e("div",{staticClass:"tm-comments__reply-form-wrapper"},[e("button",{staticClass:"tm-comments__close-button",attrs:{title:t.msg("CLOSE")},on:{click:function(e){return t.closeForm()}}},[e("TMSvgImg",{attrs:{id:"close",size:12}})],1),t._v(" "),t.isLoggedIn&&t.unableToComment?e("TMNotice",{attrs:{type:"negative"}},[t._v("\n                      "+t._s(t.getCommentAccess.cantCommentReason)+"\n                    ")]):e("TMCommentReplyForm",{attrs:{autofocus:"","submit-action":t.commentSubmitAction,"target-comment":s},on:{close:t.closeForm}})],1)]):"edit"===t.formTarget.type?e("div",{staticClass:"tm-comments__reply-form"},[e("div",{staticClass:"tm-comments__reply-form-wrapper"},[e("button",{staticClass:"tm-comments__close-button",attrs:{title:t.msg("CLOSE")},on:{click:function(e){return t.closeForm()}}},[e("TMSvgImg",{attrs:{id:"close",size:12}})],1),t._v(" "),e("TMCommentEditForm",{attrs:{comment:s,"edit-action":t.editAction,"post-id":t.postId},on:{close:t.closeForm,delete:function(e){return t.onDeleteComment(s.id)}}})],1)]):t._e()]:t._e()]}}:null],null,!0)})})),1)]:e("div",{staticClass:"tm-comments__empty"},[e("span",{domProps:{innerHTML:t._s(t.msg("COMMENT_EMPTY"))}})]),t._v(" "),t._t("afterComments")],t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.complaintCommentId?e("TMPopup",{attrs:{title:t.msg("COMMENT_COMPLAINT_TITLE")},on:{close:function(e){t.complaintCommentId=null}}},[e("TMComplaintForm",{attrs:{autofocus:"true","submit-action":e=>t.commentComplaintAction(e,t.complaintCommentId)}})],1):t._e()],1)]},proxy:!0},!t.isLoading&&t.footerVisible?{key:"footer",fn:function(){return[t.notice?e("TMNotice",{staticClass:"tm-comments__comment-notice",attrs:{type:t.notice.type}},[e("span",{domProps:{innerHTML:t._s(t.notice.message)}})]):t.formTarget?t._e():e("TMCommentReplyForm",{attrs:{"submit-action":t.commentSubmitAction}})]},proxy:!0}:null],null,!0)})},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return t.originalMessageLoaded?e("TMCommentForm",{ref:"form",attrs:{autofocus:!0,"countdown-timer":t.timer,"initial-data":t.currentValue,"is-markdown":t.isMarkdown,"is-processing":t.disabled,label:t.msg("COMMENT_EDIT_FORM_TITLE"),readonly:t.disabled,"show-delete":"",value:t.currentValue},on:{close:function(e){return t.$emit("close")},delete:function(e){return t.$emit("delete",e)},preview:function(e){return t.$emit("preview",e)},submit:t.onSubmit}}):t._e()},r=[],l=function(){var t=this,e=t._self._c;return e(t.useMarkdown?"form":"div",{ref:"form",tag:"component",staticClass:"tm-comment-form",class:{"tm-comment-form_processing":t.isProcessing},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"tm-comment-form__field"},[t.label?e("label",{ref:"label",staticClass:"tm-comment-form__label",domProps:{innerHTML:t._s(t.label)}}):t._e(),t._v(" "),t.useMarkdown?t.commentPreview?e("TMComment",{staticClass:"tm-comment-form__preview",attrs:{comment:t.commentPreview}}):e("textarea",t._g({directives:[{name:"model",rawName:"v-model",value:t.markdownSource,expression:"markdownSource"},{name:"hotkey",rawName:"v-hotkey.stop",value:{c:t.scrollToCommentFormAndFocus},expression:"{ 'c': scrollToCommentFormAndFocus }",modifiers:{stop:!0}}],ref:"textarea",staticClass:"tm-comment-form__textarea",attrs:{autofocus:t.autofocus,cols:"30",rows:"5"},domProps:{value:t.markdownSource},on:{"!keydown":[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null}],input:function(e){e.target.composing||(t.markdownSource=e.target.value)}}},t.inputListeners)):e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{c:t.scrollToCommentFormAndFocus},expression:"{ 'c': scrollToCommentFormAndFocus }",modifiers:{stop:!0}}],staticClass:"tm-comment-form__editor",on:{"!keydown":[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null}]}},[t.renderEditor?e("WYSIWYG",{ref:"textarea",attrs:{"is-mobile":t.isMobile||t.isTouchDevice,lang:t.langOptions.hl,"props-config":t.WYSIWYGInitialProps,"use-test-ids":t.useTestIds},on:{loading:t.setFormLoading,update:t.onWYSIWYGUpdate}}):t._e()],1)],1),t._v(" "),e("div",{staticClass:"tm-comment-form__controls"},[e("div",{staticClass:"tm-comment-form__controls-buttons"},[e("button",{ref:"submitButton",staticClass:"tm-comment-form__button tm-comment-form__button_send",attrs:{disabled:t.disableFormButtons},on:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v("\n        "+t._s(t.msg("COMMENT_ACTION_SEND"))+"\n      ")]),t._v(" "),t.useMarkdown?e("button",{ref:"previewButton",staticClass:"tm-comment-form__button tm-comment-form__button_preview",attrs:{disabled:t.disableFormButtons,type:"button"},on:{click:t.togglePreview}},[t._v("\n        "+t._s(t.commentPreview?t.msg("COMMENT_ACTION_EDIT"):t.msg("COMMENT_ACTION_PREVIEW"))+"\n      ")]):t._e(),t._v(" "),t.isSuperAdmin&&t.showDelete?e("button",{ref:"suspendButton",staticClass:"tm-comment-form__button tm-comment-form__button_delete",attrs:{disabled:t.disableFormButtons,type:"button"},on:{click:t.suspendComment}},[t._v("\n        "+t._s(t.msg("COMMENT_ACTION_SUSPEND"))+"\n      ")]):t._e()]),t._v(" "),e("div",{staticClass:"tm-comment-form__controls-meta"},[!t.isModerator&&t.countdownTimer?e("span",{ref:"countdownTimer",staticClass:"tm-comment-form__countdown-timer"},[t._v("\n        "+t._s(t.formattedCountdownTimer)+"\n      ")]):t._e(),t._v(" "),e("TMLabeledCheckbox",{staticClass:"tm-comment-form__markdown-toggle",attrs:{disabled:!t.isTextareaEmpty,name:"useMarkdown"},on:{input:t.updateUserPreferredEditor},model:{value:t.useMarkdown,callback:function(e){t.useMarkdown=e},expression:"useMarkdown"}},[t._v("\n        Markdown\n      ")]),t._v(" "),e("router-link",{staticClass:"tm-comment-form__markdown-help",attrs:{to:"/docs/help/wysiwyg/#markdown-comments"}},[e("TMHelpIcon",{attrs:{title:t.msg("COMMENT_MARKDOWN_HELP")}})],1)],1)])])},c=[],m=s(20144),u=s(91296),d=s.n(u),p=s(75070),_=s(13785),h=s(98367),g=s(91256);function T(t){const e=Math.floor(parseInt(t,10)/3600),s=Math.floor(parseInt(t,10)/60)%60,n=Math.floor(parseInt(t,10))%60,i=t=>{const e=t>9?t:`0${t}`;return e};return`${i(e)}:${i(s)}:${i(n)}`}var v=s(61823),f=s(54226),S=s(71398);m["default"].component("WYSIWYG",(()=>s.e(6342).then(s.t.bind(s,76342,23))));const E=()=>s.e(8605).then(s.bind(s,18605)),C={name:"TMCommentForm",components:{TMComment:_.Z,TMLabeledCheckbox:p.Z,TMHelpIcon:E},inheritAttrs:!1,props:{isProcessing:Boolean,autofocus:Boolean,countdownTimer:{type:Number,default:null},label:{type:String,default:null},showDelete:Boolean,initialData:{type:String,default:null},isMarkdown:Boolean},data(){return{renderEditor:!1,WYSIWYGInitialProps:{embedHost:"https://embedd.srv.habr.com",imagesHost:(0,f.k)("publication/upload","v2"),mentionHost:(0,f.k)("publication/suggest-mention","v2"),imagesByUrlHost:(0,f.k)("publication/upload-url","v2"),extensions:[],initialJSON:this.initialData,autoFocus:this.autofocus},WYSIWYGData:{},WYSIWYGLoading:!1,useMarkdown:this.isMarkdown,markdownSource:this.initialData,commentPreview:null,previewLoading:!1}},computed:{...(0,a.Se)("me",["isSuperAdmin","isModerator"]),...(0,a.Se)("i18n",["langOptions"]),...(0,a.Se)("global",["isMobile"]),useTestIds(){return!1},disableFormButtons(){return this.isTextareaEmpty||this.WYSIWYGLoading||this.isProcessing||this.previewLoading},inputListeners(){return{...this.$listeners,input:t=>{this.$emit("input",t.target.value)}}},isTouchDevice(){return(0,h.b)()},isTextareaEmpty(){if(!this.useMarkdown){const t=this.WYSIWYGData.json&&this.WYSIWYGData.json.content.filter((t=>"paragraph"!==t.type)).length,e=this.WYSIWYGData.textContent||"";return!t&&!e.trim().length}return!this.markdownSource},formattedCountdownTimer(){return T(this.countdownTimer)}},mounted(){(0,S.e)().then((t=>{const{wysiwygRuleRefs:{postComment:e}}=t;this.WYSIWYGInitialProps.extensions=e.elements,this.renderEditor=!0})),this.useMarkdown&&this.autofocus&&this.$refs.textarea.focus(),window.addEventListener("beforeunload",this.handlePageLeave)},beforeDestroy(){window.removeEventListener("beforeunload",this.handlePageLeave)},methods:{...(0,a.nv)("me",["updateUseMarkdown"]),updateUserPreferredEditor:d()((function(t){this.updateUseMarkdown(t).catch((t=>{this.$toast.error(t.message)}))}),500),onWYSIWYGUpdate(t){this.WYSIWYGData=t},setFormLoading(t){this.WYSIWYGLoading=t},handlePageLeave(t){if(!this.isTextareaEmpty)return t.preventDefault(),t.returnValue="",!0},loadPreview(){this.previewLoading=!0;const t={articleId:this.$route.params.id,parentId:null,text:{source:this.markdownSource,editorVersion:2,isMarkdown:!0}};(0,v.FI)(this.$route.params.id,t).then((({data:t})=>{this.previewLoading=!1,this.commentPreview=t})).catch((t=>{this.previewLoading=!0,this.$toast.error(t.message)}))},clearPreview(){this.commentPreview=null},togglePreview(){this.commentPreview?(this.clearPreview(),this.$nextTick((()=>{this.$refs.textarea.focus()}))):this.loadPreview()},suspendComment(){const t=window.confirm(this.msg("COMMENT_ACTION_SUSPEND_CONFIRM"));t&&this.$emit("delete",this.markdownSource)},submitForm(){this.isTextareaEmpty||(this.commentPreview=null,this.useMarkdown?this.$emit("submit",{source:this.markdownSource,editorVersion:2,isMarkdown:!0}):this.$emit("submit",{source:JSON.stringify(this.WYSIWYGData.json),editorVersion:2}))},scrollToCommentFormAndFocus(t){this._inactive||(t.preventDefault(),(0,g.kI)(this.$refs.textarea.$el),this.useMarkdown?this.$refs.textarea.focus():this.$el.querySelector(".ProseMirror").focus())},reset(){this.renderEditor=!1,this.markdownSource=null,this.$refs.textarea.value=null,this.WYSIWYGData={},this.$nextTick((()=>{this.renderEditor=!0}))}}},I=C;var b=s(1001),A=(0,b.Z)(I,l,c,!1,null,null,null);const y=A.exports,L={name:"TMCommentEditForm",components:{TMCommentForm:y},props:{postId:{type:String,required:!0},comment:{type:Object,required:!0},editAction:{type:Function,required:!0}},data(){return{currentValue:null,isMarkdown:null,originalMessageLoaded:!1,disabled:!1,timer:null,counter:null,interval:null}},created(){(0,v.fp)(this.postId,this.comment.id).then((t=>{const{sourceMessage:e,isMarkdown:s}=t;this.currentValue=e,this.isMarkdown=s,this.originalMessageLoaded=!0,this.$nextTick((()=>{(0,g.kI)(this.$refs.form.$el)})),this.startTimer(new Date(this.comment.timeEditAllowedTill))})).catch((t=>{this.$toast.error(t.message)}))},beforeDestroy(){clearInterval(this.interval)},methods:{startTimer(t){this.timer=Math.trunc((t-new Date)/1e3),this.interval=setInterval(this.countDown,1e3)},countDown(){this.counter?this.timer>0?this.timer-=1:(clearInterval(this.interval),this.timer=null,this.counter=!1):this.counter=!0},onSubmit(t){this.disabled=!0,this.editAction({commentId:this.comment.id,value:t}).then((()=>{this.disabled=!1})).catch((t=>{throw this.disabled=!1,t}))}}},P=L;var O=(0,b.Z)(P,o,r,!1,null,null,null);const R=O.exports;var N=function(){var t=this,e=t._self._c;return e("TMCommentForm",{ref:"form",attrs:{autofocus:t.autofocus,"initial-data":null,"is-markdown":t.isMarkdown,"is-processing":t.disabled,label:t.label,readonly:t.disabled,value:null},on:{close:function(e){return t.$emit("close")},preview:function(e){return t.$emit("preview",e)},submit:t.onSubmit}})},k=[];const M={name:"TMCommentReplyForm",components:{TMCommentForm:y},props:{autofocus:Boolean,submitAction:{type:Function,required:!0},targetComment:{type:Object,default:null}},data(){return{currentValue:null,disabled:!1}},computed:{...(0,a.rn)("me",["user"]),isMarkdown(){return this.user.settings.miscSettings.useMarkdown},label(){if(!this.targetComment)return this.msg("COMMENT_BASE_FORM_TITLE");const t=this.targetComment.author.alias||this.targetComment.author.login,e=`&nbsp;<span class="tm-username">${t}</span>`;return`${this.msg("COMMENT_ACTION_REPLY")}${e}`},parentId(){return this.targetComment?this.targetComment.id:null}},methods:{onSubmit(t){this.disabled=!0,this.submitAction({value:t,parentId:this.parentId}).then((()=>{this.$refs.form&&this.$refs.form.reset(),this.disabled=!1,this.$emit("close")})).catch((t=>{throw this.disabled=!1,t}))}}},w=M;var x=(0,b.Z)(w,N,k,!1,null,null,null);const D=x.exports;var B=function(){var t=this,e=t._self._c;return e("section",{class:t.bem("tm-comment-thread",{"is-pinned":t.isPinnedSection})},[t.isCollapsed?[e("div",{staticClass:"tm-comment-thread__collapsed-root",attrs:{"data-comment-collapsed-thread":""}}),t._v(" "),e("button",{staticClass:"tm-comment-thread__breadcrumbs tm-comment-thread__breadcrumbs_collapsed",class:t.indentBreadcrumbsClass,on:{click:t.toggleCollapse}}),t._v(" "),e("button",{staticClass:"tm-comment-thread__collapsed",class:t.indentClass,on:{click:t.toggleCollapse}},[t._m(0),t._v(" "),e("div",{staticClass:"tm-comment-thread__collapsed-text",domProps:{textContent:t._s(t.collapsedText)}}),t._v(" "),e("div",{staticClass:"tm-comment-thread__collapsed-line"})])]:t._e(),t._v(" "),e(t.hasMounted&&t.comment.isNew?"div":"LazyHydrate",{tag:"component",attrs:{"when-visible":""}},[e("article",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],class:t.bem("tm-comment-thread__comment",{"is-pinned":t.isPinnedSection})},[e("a",{staticClass:"tm-comment-thread__target",attrs:{"data-comment-new":t.comment.isNew,name:t.isPinnedSection?`pinned-comment_${t.comment.id}`:`comment_${t.comment.id}`}}),t._v(" "),t.comment.author&&!t.isPinnedSection?e("button",{staticClass:"tm-comment-thread__breadcrumbs",class:t.indentBreadcrumbsClass,on:{click:t.toggleCollapse}},[e("div",{staticClass:"tm-comment-thread__circle"})]):t._e(),t._v(" "),t.comment.author?t._e():e("span",{staticClass:"tm-comment-thread__ufo",class:t.indentClass,domProps:{textContent:t._s(t.msg("COMMENT_PLACEHOLDER_EMPTY"))}}),t._v(" "),t.comment.author?[e("div",{class:t.indentClass,attrs:{"data-comment-body":t.comment.id}},[e(t.commentComponent||t.$options.components.TMComment,{tag:"component",attrs:{comment:t.comment,"is-pinned-section":t.isPinnedSection,"user-popover-enabled":""},scopedSlots:t._u([{key:"comment-link",fn:function({datetimeStr:s}){return[e("a",{staticClass:"tm-comment-thread__comment-link",attrs:{href:`#comment_${t.comment.id}`},on:{click:function(e){return e.preventDefault(),t.navigateToComment(t.comment.id)}}},[t._v("\n                "+t._s(t.msg("DATE_FORMAT",s))+"\n                "),t.comment.timeChanged?e("TMSvgImg",{staticClass:"tm-comment-thread__icon-pencil",attrs:{id:"pencil-small",title:t.msg("COMMENT_EDITED")}}):t._e()],1)]}}],null,!1,395305334)}),t._v(" "),t._t("footer",(function(){return[!t.comment.isSuspended&&t.comment.author&&t.comment.author.alias?e("TMCommentFooter",{attrs:{comment:t.comment,"favorite-action":t.favoriteAction,"is-pinned-section":t.isPinnedSection,"popup-toggle-visible":t.popupEnabled,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{moderate:function(e){return t.$emit("moderate",{comment:t.comment,isApprove:e})},openPopup:t.togglePopup},scopedSlots:t._u([{key:"button",fn:function(){return[t.isPinnedSection?e("button",{staticClass:"tm-comment-thread__button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.navigateToComment(t.comment.id,!0)}}},[t._v("\n                  "+t._s(t.msg("COMMENT_ACTION_LOOK"))+"\n                ")]):e("button",{staticClass:"tm-comment-thread__button",attrs:{type:"button"},on:{click:function(e){return t.$emit("showReplyForm",t.comment)}}},[t._v("\n                  "+t._s(t.msg("COMMENT_ACTION_REPLY"))+"\n                ")])]},proxy:!0}],null,!1,3572725708)}):t._e()]}),{comment:t.comment})],2)]:t._e()],2)]),t._v(" "),0===t.comment.children.length||t.isPinnedSection?t._e():[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],staticClass:"tm-comment-thread__children"},t._l(t.comment.children,(function(s){return e("TMCommentThread",t._g(t._b({key:s.id,attrs:{comment:s},scopedSlots:t._u([{key:"footer",fn:function({comment:e}){return[t._t("footer",null,{comment:e})]}}],null,!0)},"TMCommentThread",t.$props,!1),t.$listeners))})),1)],t._v(" "),t.popupVisible?e("TMCommentPopup",{attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,"can-send-complaint":Boolean(t.complaintAction),comment:t.comment,"comment-editable":t.commentEditable,"comment-link":t.getCommentLink?t.getCommentLink(t.comment):null,"is-pinned-comment":t.comment.isPinned,target:t.popupTargetElement},on:{close:t.closePopup,collapseBranch:function(e){t.toggleCollapse(t.comment),t.closePopup()},enterEditMode:function(e){t.$emit("showEditForm",{comment:t.comment,isPinnedSection:t.isPinnedSection}),t.closePopup()},linkCopied:t.closePopup,pinUnpinComment:function(e){t.$emit("pinUnpinComment",t.comment),t.closePopup()},sendComplaint:function(e){t.$emit("showComplaintForm",t.comment),t.closePopup()}}}):t._e()],2)},$=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comment-thread__circle-block"},[e("div",{staticClass:"tm-comment-thread__circle tm-comment-thread__circle_active"})])}],F=s(18887),G=s(79911),U=s(49758),V=function(){var t=this,e=t._self._c;return e("TMContextMenu",{attrs:{target:t.target},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[e("TMContextMenuList",[t.canPinUnpinComment?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("pinUnpinComment")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"pin-unpin",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.isPinnedComment?t.msg("COMMENT_ACTION_UNPIN_COMMENT"):t.msg("COMMENT_ACTION_PIN_COMMENT"))+"\n          ")]},proxy:!0}],null,!1,108370405)})],1):t._e(),t._v(" "),!t.isTablet&&t.isMobile&&t.comment.level>0&&t.comment.children.length?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("collapseBranch")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"collapse",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.msg("COMMENT_ACTION_COLLAPSE_BRANCH"))+"\n          ")]},proxy:!0}],null,!1,2982227464)})],1):t._e(),t._v(" "),t.commentLink?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.copyLink(t.comment)}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"copy",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.msg("COMMENT_ACTION_COPY_LINK"))+"\n          ")]},proxy:!0}],null,!1,2522470812)})],1):t._e(),t._v(" "),t.commentEditable?[t.isSuperAdmin&&1===t.comment.editorVersion?e("TMContextMenuListItem",{attrs:{href:t.getCp2EditFormLink(t.comment.id),tag:"a",target:"_blank"}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"pencil",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n              "+t._s(t.msg("COMMENT_ACTION_EDIT"))+"\n            ")]},proxy:!0}],null,!1,2572253346)})],1):e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("enterEditMode")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"pencil",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n              "+t._s(t.msg("COMMENT_ACTION_EDIT"))+"\n            ")]},proxy:!0}],null,!1,2572253346)})],1)]:t._e(),t._v(" "),t.canSendComplaint&&!t.comment.isSuspended?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("sendComplaint")}}},[e("TMAlignCenter",[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"report",size:"24",title:t.msg("COMMENT_COMPLAINT_TITLE")}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n              "+t._s(t.msg("COMMENT_COMPLAINT_TITLE"))+"\n            ")]},proxy:!0}],null,!1,3826254862)})],1)],1):t._e()],2)]},proxy:!0}])})},H=[],Z=s(39639),W=s(24318),Y=s(43300),q=s(91344),j=s(2813),K=s(85378);const z={name:"TMCommentPopup",components:{TMAlignCenter:Z.Z,TMContextMenuList:Y.Z,TMContextMenuListItem:q.Z,TMContextMenu:W.Z,TMSvgImg:j.Z},props:{comment:{type:Object,required:!0},commentLink:{type:String,default:null},commentEditable:{type:Boolean,default:!1},canSendComplaint:{type:Boolean,default:!1},target:{type:null,required:!0},canPinUnpinComment:{type:Boolean,default:!1},isPinnedComment:{type:Boolean,required:!0}},computed:{...(0,a.Se)("global",["isMobile","isTablet"]),...(0,a.Se)("me",["isSuperAdmin"])},methods:{copyLink(){try{(0,K.Z)(this.commentLink),this.$toast.success(this.msg("COMMENT_NOTICE_COPY_LINK_SUCCESS"))}catch(t){this.$toast.error(this.msg("COMMENT_NOTICE_COPY_LINK_ERROR"))}this.$emit("linkCopied")},getCp2EditFormLink(t){return`https://habr.com/kek/admin/comments_edit/?id=${t}`}}},Q=z;var X=(0,b.Z)(Q,V,H,!1,null,null,null);const J=X.exports;var tt=s(65873),et=s(83049);let st;const nt=()=>{if(st)return st;const t=localStorage.getItem("collapsedCommentIds");if(!t)return null;const e=JSON.parse(t);return st=e,e},it={name:"TMCommentThread",components:{TMCommentPopup:J,TMComment:_.Z,TMCommentFooter:U.Z,LazyHydrate:F.ZP,TMSvgImg:j.Z},props:{commentComponent:{type:Object,default:null},comment:{type:Object,required:!0},isAuthorized:{type:Boolean,default:!1},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},canPinUnpinComment:{type:Boolean,default:!1},showModerationControls:Boolean},data(){return{isCollapsed:!1,popupVisible:!1,popupTargetElement:null,hasMounted:!1}},computed:{collapsedText(){return this.msg("COMMENT_COLLAPSED",{count:this.hiddenCommentsCount})},hiddenCommentsCount(){return this.comment.children.reduce((function t(e,{children:s}){return s.length?s.reduce(t,e+1):e+1}),1)},indentClass(){if(this.isPinnedSection)return"";const t=10,e=Math.min(this.comment.level,t);return`tm-comment-thread__indent_l-${e}`},indentBreadcrumbsClass(){const t=10,e=Math.min(this.comment.level,t);return`tm-comment-thread__indent_b_l-${e}`},popupEnabled(){return Boolean(this.complaintAction||this.getCommentLink||this.commentEditable||this.comment.level>0&&this.comment.children.length)},commentEditable(){return this.comment.isCanEdit&&!this.comment.isSuspended}},mounted(){this.hasMounted=!0;const t=nt();t&&this.comment.id in t&&(this.isCollapsed=!0)},methods:{toggleCollapse(){this.isCollapsed=!this.isCollapsed;const{id:t}=this.comment;if(this.isCollapsed)try{const e=JSON.parse(localStorage.getItem("collapsedCommentIds")||"{}");localStorage.setItem("collapsedCommentIds",JSON.stringify({...e,[t]:1}))}catch(e){localStorage.setItem("collapsedCommentIds",JSON.stringify({[t]:1}))}else{const e=JSON.parse(localStorage.getItem("collapsedCommentIds")||"{}");delete e[t],localStorage.setItem("collapsedCommentIds",JSON.stringify(e))}},navigateToComment(t,e=!1){e&&!(0,et.m2)(t)&&this.$emit("expandLimiter");const s=`#comment_${t}`;(0,et.fo)(s).then((()=>(0,G.q)(s)))},togglePopup(){this.popupVisible=!this.popupVisible;let t=null;t=this.isPinnedSection?document.querySelector("[data-pinned-comments]"):document.querySelector("[data-comments-list]"),this.popupTargetElement=t.querySelector(`[data-comment-popup="${this.comment.id}"]`)},closePopup(){this.popupVisible=!1},bem:tt.P}},at=it;var ot=(0,b.Z)(at,B,$,!1,null,null,null);const rt=ot.exports;var lt=s(43296),ct=s(49211),mt=s(57713),ut=function(){var t=this,e=t._self._c;return e("section",{staticClass:"tm-pinned-comments",attrs:{"data-pinned-comments":""}},[e("div",{staticClass:"tm-pinned-comments__header"},[e("TMSvgImg",{staticClass:"tm-pinned-comments__icon",attrs:{id:"pinned",size:"24"}}),t._v(" "),e("span",{staticClass:"tm-pinned-comments__header-title"},[t._v(" "+t._s(t.msg("COMMENTS_PINNED"))+" ")])],1),t._v(" "),e("div",{staticClass:"tm-pinned-comments__wrapper"},t._l(t.pinnedComments,(function(s){return e("TMCommentThread",{key:s.id,attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,comment:s,"complaint-action":t.complaintAction,"favorite-action":t.favoriteAction,"get-comment-link":t.getCommentLink,"is-pinned-section":!0,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:function(e){return t.$emit("commentDelete",e)},expandLimiter:function(e){return t.$emit("expandLimiter",e)},moderate:function(e){return t.$emit("moderate",e)},pinUnpinComment:function(e){return t.$emit("pinUnpinComment",e)},showComplaintForm:function(e){return t.$emit("showComplaintForm",e)},showEditForm:function(e){return t.$emit("showEditForm",e)}},scopedSlots:t._u([{key:"footer",fn:function({comment:e}){return[t._t("footer",null,{comment:e})]}}],null,!0)},[t._v(" "),t._t("footer",null,{comment:s})],2)})),1)])},dt=[];const pt={name:"TMPinnedComments",components:{TMCommentThread:rt,TMSvgImg:j.Z},props:{pinnedComments:{type:Array,required:!0},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}}},_t=pt;var ht=(0,b.Z)(_t,ut,dt,!1,null,null,null);const gt=ht.exports;var Tt=s(76437),vt=s(47840);const ft={name:"TMComments",components:{TMCommentsWrapper:lt.Z,TMCommentReplyForm:D,TMCommentEditForm:R,TMPlaceholder:Tt.Z,TMSvgImg:j.Z,TMNotice:mt.Z,TMComplaintForm:ct.Z,TMCommentThread:rt,TMPopup:vt.Z,TMPinnedComments:gt},props:{comments:{type:Array,default:null},commentComponent:{type:Object,default:null},commentsCount:{type:[Number,String],default:null},pinnedComments:{type:Array,default:null},isLoading:{type:Boolean,default:!1},notice:{type:Object,default:null},commentSubmitAction:{type:Function,required:!0},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},footerVisible:{type:Boolean,default:!0},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}},data(){return{formTarget:null,firstUnreadId:null,complaintCommentId:null}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin"]),...(0,a.Se)("comments",["getCommentAccess"]),postId(){return this.$route.params.id},unableToComment(){return!(!this.getCommentAccess||"boolean"!==typeof this.getCommentAccess.isCanComment)&&!this.getCommentAccess.isCanComment},canSendComplaint(){return this.user&&this.user.settings.permissionSettings.canAddComplaints||this.isSuperAdmin}},methods:{...(0,a.nv)("comments",["updateComment","moderateComment"]),editAction({commentId:t,value:e}){const s=this.$route.params.id,n={isMarkdown:!0,text:e,parentId:t,timestamp:(new Date).getTime()};return(0,v.DF)(s,t,n).then((({data:{comment:t}})=>{this.updateComment({articleId:s,comment:t}),this.closeForm()})).catch((t=>{throw this.$toast.error(t.message),t}))},commentComplaintAction(t,e){return this.complaintAction({value:t,parentId:e}).then((()=>{this.complaintCommentId=null}))},moderateReadAndComment({comment:t,isApprove:e}){return this.moderateComment({isApprove:e,commentId:t.id,postId:this.$route.params.id})},showReplyForm(t){this.isLoggedIn?this.formTarget={commentId:t.id,type:"reply",isPinnedSection:!1}:this.$toast.error(this.msg("AUTH_REQUIRED"))},showEditForm({comment:t,isPinnedSection:e}){this.formTarget={commentId:t.id,type:"edit",isPinnedSection:e}},showComplaintForm(t){this.complaintCommentId=t.id},closeForm(){this.formTarget=null},onDeleteComment(t){this.$emit("commentDelete",t),this.closeForm()}}},St=ft;var Et=(0,b.Z)(St,n,i,!1,null,null,null);const Ct=Et.exports},52813:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"companies-admin-list"},t._l(t.companies,(function(s){return e("li",{key:s.alias,staticClass:"companies-admin-list__item"},[e(t.adminRouteDesktop?"a":"router-link",{tag:"component",staticClass:"companies-admin-list__link",attrs:{href:t.getCompanyAdminLink(s),to:t.getCompanyAdminLink(s)}},[e("TMEntityImage",{staticClass:"company-admin-dropdown__image",attrs:{alias:s.alias,image:s.imageUrl,type:"company"}}),t._v(" "),e("span",{domProps:{innerHTML:t._s(s.titleHtml)}})],1)],1)})),0)},i=[],a=s(72376);const o={name:"TMCompaniesAdminList",components:{TMEntityImage:a.Z},props:{companies:{type:Array,required:!0}},computed:{adminRouteDesktop(){return!0}},methods:{getCompanyAdminLink(t){return this.adminRouteDesktop?`https://habr.com/company/${t.alias}/admin/`:`/company/${t.alias}/admin/`}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},72153:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("ADMINISTRATION_BLOCK_TITLE")}},t._l(t.items,(function(s){return e("a",{key:s.link,staticClass:"tm-administration-block__link",attrs:{href:s.link,target:"_blank"}},[t._v("\n    "+t._s(s.title)+"\n  ")])})),0)},i=[],a=s(20629),o=s(76262);const r={name:"TMCompanyAdministrationBlock",components:{TMBlock:o.Z},props:{companyInfo:{type:Object,required:!0}},computed:{...(0,a.Se)("i18n",["langOptions"]),items(){const t=!1,e=`/company/${this.companyInfo.alias}/admin/`;return[{title:this.msg("ADMINISTRATION_BLOCK_CP"),link:t?e:`https://habr.com${e}`},{title:this.msg("ADMINISTRATION_BLOCK_CONTENT"),link:`https://company.habr.com/${this.langOptions.hl}/native-special/`},{title:this.msg("ADMINISTRATION_BLOCK_DOCS"),link:"/docs/companies/preparations/"}]}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},13136:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.companyInfo?e("TMBlock",{attrs:{title:t.msg("PROFILE_BLOCK_TITLE")}},[e("TMCompanyBasicInfo",{attrs:{"company-info":t.companyInfo,variant:"columns-nowrap"}})],1):t._e()},i=[],a=s(76262),o=s(6061);const r={name:"TMCompanyBasicInfoBlock",components:{TMCompanyBasicInfo:o.Z,TMBlock:a.Z},props:{companyInfo:{type:Object,default:null}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},6061:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-basic-info"},[t.companyInfo.siteUrl?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_WEBSITE"),variant:t.variant}},[e("a",{staticClass:"tm-company-basic-info__link",attrs:{href:t.companyInfo.siteUrl,target:"_blank"}},[t._v("\n      "+t._s(t.hostname)+"\n    ")])]):t._e(),t._v(" "),t.companyInfo.registrationDate?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_REGISTRATION_DATE"),variant:t.variant}},[e("TMDatetime",{attrs:{date:new Date(t.companyInfo.registrationDate)}})],1):t._e(),t._v(" "),t.companyInfo.foundationDate?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_FOUNDATION_DATE"),variant:t.variant}},[t.foundationHasFullDate?e("TMDatetime",{attrs:{date:t.foundationDate}}):e("span",[t._v("\n      "+t._s(t.foundationDate)+"\n    ")])],1):t._e(),t._v(" "),t.companyInfo.staffNumber?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_EMPLOYEES_COUNT"),variant:t.variant}},[t._v("\n    "+t._s(t.companyInfo.staffNumber)+"\n  ")]):t._e(),t._v(" "),t.companyInfo.location&&t.companyInfo.location.country?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_LOCATION"),variant:t.variant}},[t._v("\n    "+t._s(t.companyInfo.location.country.title)+"\n  ")]):t._e(),t._v(" "),t.companyInfo.representativeUser?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_REPRESENTIVE_USER"),variant:t.variant}},[e("router-link",{staticClass:"tm-company-basic-info__link",attrs:{to:t.representativeUserRoute}},[t._v("\n      "+t._s(t.representativeUserTitle)+"\n    ")])],1):t._e()],1)},i=[],a=s(20629),o=s(74502),r=s(58710);const l={name:"TMCompanyBasicInfo",components:{TMDescriptionList:r.Z,TMDatetime:o.Z},props:{companyInfo:{type:Object,default:null},variant:{type:String,default:"base"}},computed:{...(0,a.Se)("i18n",["msg"]),hostname(){const t=new URL(this.companyInfo.siteUrl);return t.hostname},foundationHasFullDate(){const{day:t,month:e,year:s}=this.companyInfo.foundationDate;return t&&e&&s},foundationDate(){const{day:t,month:e,year:s}=this.companyInfo.foundationDate;if(this.foundationHasFullDate){const n=parseInt(e,10)-1;return new Date(s,n,t)}return s},representativeUserTitle(){const{companyInfo:{representativeUser:t}}=this;return t.fullname||t.alias},representativeUserRoute(){return{name:"USER_PROFILE",params:{login:this.companyInfo.representativeUser.alias}}}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},73018:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return t.showCompanyBranding?e("div",{staticClass:"tm-company-card__branding",class:{"tm-company-card__branding_loading":t.imageLoading}},[t.imageLoading?e("div",{staticClass:"tm-company-card__branding-placeholder"},[t.error?e("div",{staticClass:"tm-company-card__branding-error"},[t._v("\n      "+t._s(t.msg("ERROR_MISSING_BRANDING_IMAGE"))+"\n    ")]):t._e()]):t._e(),t._v(" "),t.companyInfo.settings.branding.linkUrl?e("a",{attrs:{href:t.companyInfo.settings.branding.linkUrl}},[e("img",{staticClass:"tm-company-card__branding-image",attrs:{src:t.companyInfo.settings.branding.imageUrl,width:"100%"},on:{error:function(e){t.error=!0},load:function(e){t.imageLoading=!1}}})]):e("img",{staticClass:"tm-company-card__branding-image",attrs:{src:t.companyInfo.settings.branding.imageUrl,width:"100%"},on:{error:function(e){t.error=!0},load:function(e){t.imageLoading=!1}}})]):t._e()},i=[];const a={name:"TMCompanyBranding",props:{companyInfo:{type:Object,required:!0}},data(){return{imageLoading:!0,error:!1}},computed:{showCompanyBranding(){return this.companyInfo.settings&&this.companyInfo.settings.branding&&this.companyInfo.settings.branding.imageUrl}},mounted(){this.companyInfo.settings&&this.companyInfo.settings.branding&&this.companyInfo.settings.branding.pixelUrl&&this.initTrackingPixel()},methods:{initTrackingPixel(){const{pixelUrl:t}=this.companyInfo.settings.branding,e=new Image;e.src=t}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},37192:(t,e,s)=>{"use strict";s.d(e,{Z:()=>y});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-card"},[e("div",{staticClass:"tm-company-card__header"},[e("router-link",{staticClass:"tm-company-card__avatar",attrs:{to:t.profileRoute}},[e("TMEntityImage",{attrs:{alias:t.company.alias,image:t.company.imageUrl,size:48,type:"company"}})],1),t._v(" "),t.company.statistics?[null!=t.company.statistics.careerRating?e("TMGrade",{staticClass:"tm-company-card__rating",attrs:{alias:t.company.careerAlias,grade:t.company.statistics.careerRating}}):t._e(),t._v(" "),null!=t.company.statistics.rating?e("TMRating",{staticClass:"tm-company-card__rating",attrs:{score:t.company.statistics.rating}}):t._e(),t._v(" "),t.showSubscribers&&null!==t.company.statistics.subscribersCount?e("TMCompanySubscribers",{attrs:{"subscribers-count":t.company.statistics.subscribersCount}}):t._e()]:t._e()],2),t._v(" "),e("div",{staticClass:"tm-company-card__info"},[e("router-link",{staticClass:"tm-company-card__name",attrs:{to:t.profileRoute},domProps:{innerHTML:t._s(t.companyTitle)}}),t._v(" "),t.hasDescription?e("div",{staticClass:"tm-company-card__description",domProps:{innerHTML:t._s(t.company.descriptionHtml)}}):t._e()],1)])},i=[],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-subscribers"},[e("div",{staticClass:"tm-company-subscribers__count"},[t._v("\n    "+t._s(t.formattedCount)+"\n  ")]),t._v(" "),e("div",{staticClass:"tm-company-subscribers__label"},[t._v("\n    "+t._s(t.msg("SUBSCRIBERS"))+"\n  ")])])},o=[];const r={name:"TMCompanySubscribers",props:{subscribersCount:{type:Number,required:!0}},computed:{formattedCount(){const t=new Intl.NumberFormat(this.langOptions.hl),e=e=>t.format(e);return e(this.subscribersCount)}}},l=r;var c=s(1001),m=(0,c.Z)(l,a,o,!1,null,null,null);const u=m.exports;var d=s(72376),p=function(){var t=this,e=t._self._c;return e("a",{staticClass:"tm-grade",attrs:{href:`${t.$options.CAREER_HOST}/companies/${t.alias}`,rel:"noopener",target:"_blank"}},[e("TMRating",{attrs:{label:t.msg("POINTS_LABEL_GRADE_SHORT"),score:t.grade,variant:"grade"}},[e("TMSvgImg",{staticClass:"tm-svg-grade__icon",attrs:{id:"grade",size:"24",title:t.msg("POINTS_LABEL_GRADE")}})],1)],1)},_=[],h=s(51904),g=s(2813),T=s(77945);const v={name:"TMGrade",components:{TMSvgImg:g.Z,TMRating:h.Z},props:{grade:{type:Number,required:!0},alias:{type:String,required:!0}},CAREER_HOST:T.Yu},f=v;var S=(0,c.Z)(f,p,_,!1,null,null,null);const E=S.exports;var C=s(7748);const I={name:"TMCompanyCard",components:{TMCompanySubscribers:u,TMEntityImage:d.Z,TMRating:h.Z,TMGrade:E},props:{company:{type:Object,default:null},hasDescription:{type:Boolean,default:!0},showSubscribers:{type:Boolean,default:!1}},computed:{profileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias}}},companyTitle(){return this.company.titleHtml&&(0,C._)(this.company.titleHtml)}}},b=I;var A=(0,c.Z)(b,n,i,!1,null,null,null);const y=A.exports},3567:(t,e,s)=>{"use strict";s.d(e,{Z:()=>M});var n=function(){var t=this,e=t._self._c;return t.company?e("div",{staticClass:"tm-company-profile-card"},[e("TMCompanyCard",{staticClass:"tm-company-profile-card__info",attrs:{company:t.company}}),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-company-profile-card__buttons"},[e("TMButtonFollow",{staticClass:"tm-company-profile-card__button tm-company-profile-card__button_follow",attrs:{subscribed:t.isSubscribed},on:{onToggle:t.toggleFollowCompany}}),t._v(" "),t.workplaceInfo?e("TMCompanyEmployeeRequest",{staticClass:"tm-company-profile-card__button tm-company-profile-card__button_request",attrs:{company:t.company,"current-user":t.userAlias,"workplace-info":t.workplaceInfo}}):t._e(),t._v(" "),t.isSuperAdmin?e("div",{staticClass:"tm-company-profile-card__button tm-company-profile-card__button_admin"},[e("TMAdministrationLinks",{attrs:{links:t.companyLinksItems}})],1):t._e()],1):t._e()],1):t._e()},i=[],a=s(20629),o=s(77855),r=s(37192),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"company-employee-request"},[e("button",{staticClass:"company-employee-request__button",attrs:{type:"button"},on:{click:t.toggleButtonAction}},[e("span",{staticClass:"company-employee-request__button-inner",class:{"company-employee-request__button-inner_active":t.isButtonActive}},[t._v("\n      "+t._s(t.requestButtonText)+"\n    ")]),t._v(" "),t.isButtonActive?e("span",{staticClass:"company-employee-request__button-cancel"},[t._v("\n      ×\n    ")]):t._e()]),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isPopupVisible?e("TMEmployeeRequestPopup",{attrs:{company:t.company,"user-alias":t.currentUser},on:{closePopup:function(e){t.isPopupVisible=!1},setRequestData:e=>t.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:e})}}):t._e(),t._v(" "),e("TMAsyncConfirmationDialog",{ref:"confirmDialog"})],1)],1)},c=[],m=s(9790),u=function(){var t=this,e=t._self._c;return e("TMPopup",{staticClass:"employee-request-popup",attrs:{title:t.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_POPUP_TITLE")},on:{close:function(e){return t.$emit("closePopup")}}},[e("div",{staticClass:"employee-request-popup__content"},[e("div",{staticClass:"employee-request-popup__company-info"},[e("TMEntityImage",{staticClass:"employee-request-popup__company-logo",attrs:{alias:t.company.alias,image:t.company.imageUrl,size:36,type:"company"}}),t._v(" "),e("span",{staticClass:"employee-request-popup__company-name"},[t._v(t._s(t.company.titleHtml))])],1),t._v(" "),e("TMFormBuilder",{staticClass:"employee-request-popup__form",attrs:{disabled:t.isLoading,fields:t.formFields,"initial-data":t.initialData,lang:t.langOptions.hl,"server-errors":t.serverErrors,"submit-label":t.msg("SUBMIT_FORM_ACTION")},on:{submit:t.proceedForm}})],1)])},d=[],p=s(72376),_=s(30936),h=s(47840),g=s(36771),T=s(19516);const v={name:"TMEmployeeRequestPopup",components:{TMPopup:h.Z,TMEntityImage:p.Z,TMFormBuilder:_.Z},props:{company:{type:Object,default:null},userAlias:{type:String,required:!0}},data(){return{isLoading:!1,initialData:{messageText:""},serverErrors:{}}},computed:{formFields(){return[{className:"tm-textarea",label:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_LABEL_TEXT"),description:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_DESCRIPTION_TEXT"),name:"messageText",type:"BaseTextarea",disableCounter:!0,validation:{required:!0,maxLength:300},htmlAttrs:{placeholder:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_PLACEHOLDER_TEXT")}}]}},methods:{proceedForm(t){return this.isLoading=!0,this.serverErrors={},(0,T.w9)(this.userAlias,{company:this.company.alias,note:t.messageText}).then((t=>{this.isLoading=!1,this.initialData={messageText:""},t&&this.$emit("setRequestData",t),this.$emit("closePopup"),this.$toast.success(this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_SUBMIT_SUCCESS_MESSAGE"))})).catch((t=>{this.isLoading=!1;const e=(0,g.SJ)(t);"FORM_ERRORS"!==e?this.$toast.error(t.message):this.serverErrors=t.data}))}}},f=v;var S=s(1001),E=(0,S.Z)(f,u,d,!1,null,null,null);const C=E.exports;var I=s(12790);const b={name:"TMEmployeeRequest",components:{TMEmployeeRequestPopup:C,TMAsyncConfirmationDialog:m.Z},props:{company:{type:Object,default:null},currentUser:{type:String,required:!0},workplaceInfo:{type:Object,required:!0}},data(){return{isPopupVisible:!1}},computed:{isButtonActive(){return this.workplaceInfo.employeeRequest||this.workplaceInfo.isUserEmployee},requestButtonText(){return this.workplaceInfo.employeeRequest?this.msg("COMPANY_ADMIN_REQUEST_STATUS_WAITING"):this.msg("COMPANY_ADMIN_REQUEST_BUTTON_TEXT")}},methods:{...(0,a.nv)("companies",["updateWorkplaceInfo"]),toggleButtonAction(){this.workplaceInfo.employeeRequest?this.cancelRequest():this.workplaceInfo.isUserEmployee?this.deleteEmployee():this.isPopupVisible=!0},cancelRequest(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_MESSAGE",{companyName:this.company.titleHtml}),confirmLabel:this.msg("COMPANY_ADMIN_APPROVE_REQUEST_BUTTON_TEXT"),cancelLabel:this.msg("CONFIRM_CANCEL_BUTTON_LABEL")}).then((t=>{t&&(0,T.fK)(this.currentUser,this.workplaceInfo.employeeRequest.id).then((()=>{this.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_CANCEL_REQUEST_SUCCESS_MESSAGE"))})).catch((t=>this.$toast.error(t.message)))}))},deleteEmployee(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_REMOVE_EMPLOYEE_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_DECLINE_MESSAGE",{companyName:this.company.titleHtml})}).then((t=>{t&&(0,I.hS)(this.company.alias,this.currentUser).then((()=>{this.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_REMOVE_COMPANY_EMPLOYEE_SUCCESS_MESSAGE"))})).catch((t=>this.$toast.error(t.message)))}))}}},A=b;var y=(0,S.Z)(A,l,c,!1,null,null,null);const L=y.exports;var P=s(8065);const O=()=>s.e(2328).then(s.bind(s,38726)),R={name:"TMCompanyProfileCard",components:{TMCompanyCard:r.Z,TMButtonFollow:o.Z,TMAdministrationLinks:O,TMCompanyEmployeeRequest:L},props:{company:{type:Object,default:null}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),...(0,a.rn)("companies",["workplaceInfo"]),isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed},companyLinksItems(){const{alias:t}=this.company,e={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},s=`https://habr.com/kek/admin/company/${t}/`;return[{title:e[this.langOptions.hl].EDIT_PROFILE,link:s}]}},methods:{...(0,a.nv)("companies",["toggleSubscribeStatus"]),toggleFollowCompany(){return this.toggleSubscribeStatus(this.company.alias.toLowerCase()).then((()=>{this.isSubscribed&&(0,P.Kz)("subscribe","company",this.company.alias)}))}}},N=R;var k=(0,S.Z)(N,n,i,!1,null,null,null);const M=k.exports},92152:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-snippet"},[e("router-link",{staticClass:"tm-company-snippet__logo-link",attrs:{to:t.companyProfileRoute}},[e("TMEntityImage",{attrs:{alias:t.company.alias,image:t.company.imageUrl,size:40,type:"company"}})],1),t._v(" "),e("div",{staticClass:"tm-company-snippet__info"},[e("router-link",{staticClass:"tm-company-snippet__title",class:{"tm-company-snippet__title_subscribed":t.isSubscribed},attrs:{to:t.companyProfileRoute},domProps:{innerHTML:t._s(t.company.titleHtml)}}),t._v(" "),e("div",{staticClass:"tm-company-snippet__description",domProps:{innerHTML:t._s(t.company.descriptionHtml||t.msg("COMPANY"))}})],1)],1)},i=[],a=s(72376);const o={name:"TMCompanySnippet",components:{TMEntityImage:a.Z},props:{company:{type:Object,default:null}},computed:{companyProfileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias,hl:this.$route.params.hl}}},isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},454:(t,e,s)=>{"use strict";s.d(e,{Z:()=>P});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-widgets"},t._l(t.widgets,(function(s,n){return e(t.$options.presenters[s.type],{key:n,tag:"component",attrs:{type:s.type,"widget-data":s.data}})})),1)},i=[],a=s(20629),o=s(15376),r=s(56657),l=function(){var t=this,e=t._self._c;return e("TMBlock",{staticClass:"tm-widget-banners-slider",class:{"tm-widget-banners-slider_shadowed":t.renderShadow},attrs:{"header-variant":"borderless",title:t.msg("WIDGET_BANNER")}},[e("TMSwiper",{attrs:{"auto-height":"",autoplay:t.$options.autoplayParams,pagination:"","slides-per-view":1}},t._l(t.widgetData,(function(t,s){return e("TMSwiperSlide",{key:s},[e("TMWidgetBannerContent",{attrs:{"widget-data":t.data}})],1)})),1)],1)},c=[],m=s(76262),u=s(92960),d=s(2107),p=s(3379);const _=1e4,h={name:"TMWidgetBannersSlider",components:{TMBlock:m.Z,TMWidgetBannerContent:p.Z,TMSwiper:u["default"],TMSwiperSlide:d["default"]},props:{widgetData:{type:Array,required:!0}},autoplayParams:{delay:_,disableOnInteraction:!1},computed:{renderShadow(){return this.widgetData.length>12}}},g=h;var T=s(1001),v=(0,T.Z)(g,l,c,!1,null,null,null);const f=v.exports;var S=s(6266),E=s(7817),C=s(45288),I=s(33090),b=s(14223);const A={name:"TMCompanyWidgets",props:{companyAlias:{type:String,required:!0},widgetsAsSlider:{type:Boolean,default:!1}},presenters:{vk:b.Z,facebook:S.Z,twitter:I.Z,news:C.Z,links:E.Z,banner:r.Z,applications:o.Z,bannersSlider:f},computed:{...(0,a.Se)("global",["isDesktop"]),...(0,a.rn)("companies",["companiesWidgets"]),needShowSlider(){return this.widgetsAsSlider&&this.bannersWidgets.length>1},rawWidgets(){const t=this.companiesWidgets[this.companyAlias];return t?t.filter((t=>!!t.data&&(("news"!==t.type||0!==t.data.news.length)&&("links"!==t.type||0!==t.data.links.length)))):[]},bannersWidgets(){return this.rawWidgets.filter((t=>"banner"===t.type))},regularWidgets(){return this.rawWidgets.filter((t=>"banner"!==t.type))},widgets(){return this.needShowSlider?[{type:"bannersSlider",data:this.bannersWidgets},...this.regularWidgets]:this.rawWidgets}},mounted(){this.isDesktop&&this.loadCompanyWidgets(this.companyAlias)},methods:{...(0,a.nv)("companies",["loadCompanyWidgets"])}},y=A;var L=(0,T.Z)(y,n,i,!1,null,null,null);const P=L.exports},49211:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("form",{ref:"form",staticClass:"tm-complaint-form",class:{"tm-complaint-form_processing":t.disabled},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"tm-complaint-form__field"},["checkbox"===t.$attrs.type?e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"tm-complaint-form__input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.submitForm.apply(null,arguments):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.submitForm.apply(null,arguments):null}],change:function(e){var s=t.currentValue,n=e.target,i=!!n.checked;if(Array.isArray(s)){var a=null,o=t._i(s,a);n.checked?o<0&&(t.currentValue=s.concat([a])):o>-1&&(t.currentValue=s.slice(0,o).concat(s.slice(o+1)))}else t.currentValue=i}}},"input",t.$attrs,!1)):"radio"===t.$attrs.type?e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"tm-complaint-form__input",attrs:{disabled:t.disabled,type:"radio"},domProps:{checked:t._q(t.currentValue,null)},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.submitForm.apply(null,arguments):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.submitForm.apply(null,arguments):null}],change:function(e){t.currentValue=null}}},"input",t.$attrs,!1)):e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"tm-complaint-form__input",attrs:{disabled:t.disabled,type:t.$attrs.type},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.submitForm.apply(null,arguments):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.submitForm.apply(null,arguments):null}],input:function(e){e.target.composing||(t.currentValue=e.target.value)}}},"input",t.$attrs,!1)),t._v(" "),e("div",{staticClass:"tm-complaint-form__hint"},[t._v("\n      "+t._s(t.msg("COMMENT_COMPLAINT_HINT"))+"\n    ")])]),t._v(" "),e("div",{staticClass:"tm-complaint-form__controls"},[e("TMButtonBase",{attrs:{disabled:t.isTextareaEmpty||t.disabled},nativeOn:{click:function(e){return t.submitForm.apply(null,arguments)}}},[t._v("\n      "+t._s(t.msg("COMMENT_ACTION_SEND"))+"\n    ")])],1)])},i=[],a=s(30089);const o={name:"TMComplaintForm",components:{TMButtonBase:a.Z},inheritAttrs:!1,props:{submitAction:{type:Function,required:!0}},data(){return{currentValue:null,disabled:!1}},computed:{isTextareaEmpty(){return!this.currentValue}},mounted(){this.$attrs.autofocus&&this.$refs.input.focus()},methods:{submitForm(){this.disabled=!0,this.submitAction(this.currentValue).then((()=>{this.disabled=!1})).catch((t=>{throw this.disabled=!1,t}))}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},91344:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("li",{staticClass:"tm-context-menu-list__item"},[e(t.tag,t._b({tag:"component",class:t.itemClassNames},"component",t.$attrs,!1),[t._t("default")],2)],1)},i=[],a=s(65873);const o={name:"TMContextMenuListItem",inheritAttrs:!1,props:{tag:{type:String,default:"button"},variant:{type:String,default:null}},computed:{itemClassNames(){return["tm-context-menu-list__item-inner",...this.bem("tm-context-menu-list__item-inner",{[this.variant]:!0}),{"tm-context-menu-list__button":"button"===this.tag,"tm-context-menu-list__external-link":["a","router-link"].includes(this.tag)}]}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},43300:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tm-context-menu-list",class:t.bem("tm-context-menu-list",{variant:t.variant})},[t._t("default")],2)},i=[],a=s(65873);const o={name:"TMContextMenuList",props:{variant:{type:String,default:null}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},24318:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return!t.isTablet&&t.isMobile?e("TMScrollLockTransition",{attrs:{appear:"",name:"slide-fade"}},[e("TMBottomSheet",{on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"default",fn:function(){return[t._t("default")]},proxy:!0},{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)})],1):e("transition",{attrs:{appear:"",name:"transition-fade"}},[e("TMPopover",{attrs:{root:t.target,variant:"dropdown"},on:{close:function(e){return t.$emit("close")}}},[t._t("default"),t._v(" "),t._t("body")],2)],1)},i=[],a=s(20629),o=s(46768),r=s(26887),l=s(75817);const c={name:"TMContextMenu",components:{TMPopover:r.Z,TMBottomSheet:o.Z,TMScrollLockTransition:l.Z},props:{target:{type:null,required:!0}},computed:{...(0,a.Se)("global",["isMobile","isTablet"])}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},33557:(t,e,s)=>{"use strict";s.d(e,{Z:()=>z});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-data-icons"},[t.showIcon("rating")?e("TMArticleRating",{staticClass:"tm-data-icons__item",attrs:{article:t.article},on:{scoreClick:t.showVotesPopup}}):t._e(),t._v(" "),t.showIcon("votes")?e("TMVotesMeter",{staticClass:"tm-data-icons__item",attrs:{appearance:"article",score:t.article.statistics.score,"vote-state":t.voteState,"votes-count":t.article.statistics.votesCount},nativeOn:{click:function(e){return t.showVotesPopup.apply(null,arguments)}}}):t._e(),t._v(" "),t.showIcon("views")?e("TMIconCounter",{staticClass:"tm-data-icons__item",attrs:{abbreviated:"",counter:t.article.statistics.readingCount,"icon-id":"counter-views",title:t.msg("DATA_ICONS_VIEWS")}}):t._e(),t._v(" "),t.showIcon("favorite")?e("TMBookmarksButton",{staticClass:"tm-data-icons__item",attrs:{"bookmarks-count":t.article.statistics.favoritesCount,"is-bookmarked":t.isLoggedIn&&t.isBookmarked,"is-processing":t.isLoadingBookmark},on:{"toggle-bookmark":function(e){return t.onBookmarkClick(t.article)}}}):t._e(),t._v(" "),t.showIcon("comments")?e("TMArticleCommentsCounterLink",{staticClass:"tm-data-icons__item",attrs:{article:t.article,"comments-count":t.article.statistics.commentsCount,"ga-options":t.gaOptions,title:t.msg("DATA_ICONS_READ_COMMENTS"),"unread-count":t.unreadCommentsCount}}):t._e(),t._v(" "),t.showIcon("share")?e("TMSharing",{staticClass:"tm-data-icons__item",attrs:{article:t.article,title:t.msg("DATA_ICONS_SHARE")}}):t._e(),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.votesPopupVisible?e("TMPopup",{attrs:{title:t.msg("ARTICLE_REASON_TOTAL",t.votesStats)},on:{close:function(e){t.votesPopupVisible=!1}}},[e("TMArticleVoteStats",{attrs:{"reasons-map":t.reasonsMap,voting:t.votesStats}})],1):t._e()],1)],1)},i=[],a=s(20629),o=s(34948),r=s(43206),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-rating"},[t.article.relatedData&&t.article.relatedData.canVote?e("TMVotesLever",{staticClass:"tm-article-rating__votes-switcher",attrs:{appearance:"article","can-vote-minus":t.article.relatedData.canVoteMinus,"can-vote-plus":t.article.relatedData.canVotePlus,"is-loading":t.isVoteLoading||t.isLoadingReasonsList,"is-plusified":!0,score:t.article.statistics.score,"vote-state":t.voteState,"votes-count":t.article.statistics.votesCount},on:{downvote:t.showVotePopup,scoreClick:function(e){return t.$emit("scoreClick")},upvote:t.articleUpVote}}):e("TMVotesMeter",{staticClass:"tm-article-rating__votes-switcher",attrs:{appearance:"article",score:t.article.statistics.score,"vote-state":t.voteState,"votes-count":t.article.statistics.votesCount},nativeOn:{click:function(e){return t.$emit("scoreClick")}}}),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isOpenArticleVote?e("TMPopup",{attrs:{title:t.title},on:{close:t.closePopup}},[t.isOpenSuccessPopup?e("div",{domProps:{textContent:t._s(t.msg("ARTICLE_REASON_SUCCESS"))}}):e("TMMinusReason",{attrs:{"reasons-list":t.getReasonsList},on:{downVote:t.articleDownVote}})],1):t._e()],1)],1)},c=[],m=s(47851),u=s(47840),d=s(89369),p=s(41534),_=s(48001),h=s(8065);const g={name:"TMArticleRating",components:{TMVotesLever:d.Z,TMVotesMeter:p.Z,TMMinusReason:m.Z,TMPopup:u.Z},props:{article:_.sK},data(){return{isOpenArticleVote:!1,isOpenSuccessPopup:!1,title:null,isVoteLoading:!1,isLoadingReasonsList:!1}},computed:{...(0,a.Se)("me",["isSuperAdmin","userAlias","isLoggedIn"]),...(0,a.Se)("articlesList",["getReasonsList"]),voteState(){return this.isLoggedIn&&this.article.relatedData&&this.article.relatedData.vote.value||0},GAAction(){return this.article.metadata&&this.article.metadata.pageType}},methods:{...(0,a.nv)("articlesList",["downvote","upvote","loadReasonsList"]),articleUpVote(){this.isVoteLoading=!0,this.upvote({id:this.article.id}).then((()=>{(0,h.Kz)("voting",this.GAAction,"plus"),this.isVoteLoading=!1})).catch((t=>{this.isVoteLoading=!1,this.$toast.error(t.message)}))},articleDownVote(t){this.downvote({id:this.article.id,reason:t}).then((()=>{this.title=null,this.isOpenSuccessPopup=!0,setTimeout((()=>{this.isOpenSuccessPopup=!1,this.isOpenArticleVote=!1}),3e3),(0,h.Kz)("voting",this.GAAction,"minus")})).catch((t=>{this.$toast.error(t.message)}))},closePopup(){this.isOpenArticleVote=!1},showVotePopup(){this.isLoadingReasonsList=!0,this.loadReasonsList().then((()=>{this.isOpenArticleVote=this.isLoggedIn&&this.article.relatedData.canVote,this.title=this.msg("ARTICLE_REASON_POPUP_TITLE"),this.isLoadingReasonsList=!1})).catch((t=>{this.isLoadingReasonsList=!1,this.$toast.error(t.message)}))}}},T=g;var v=s(1001),f=(0,v.Z)(T,l,c,!1,null,null,null);const S=f.exports;var E=function(){var t=this,e=t._self._c;return t.reasonsList?e("div",{staticClass:"tm-article-vote-stats",style:{"--percent-value":t.percentValue}},[t.emptyResult?e("div",[t._v("\n    "+t._s(t.msg("ARTICLE_REASON_NO_DATA"))+"\n  ")]):[e("div",{staticClass:"tm-article-vote-stats__result-border"}),t._v(" "),e("h3",{staticClass:"tm-article-vote-stats__title"},[t._v("\n      "+t._s(t.msg("ARTICLE_REASON_SUBTITLE"))+"\n    ")]),t._v(" "),t._l(t.filteredReasons,(function(s){return e("div",{key:s.reasonId,staticClass:"tm-article-vote-stats__result-item"},[e("div",{staticClass:"tm-article-vote-stats__text"},[t._v("\n        "+t._s(t.getReasonTitle(s))+"\n      ")]),t._v(" "),e("div",{staticClass:"tm-article-vote-stats__percent"},[t._v("\n        "+t._s(s.percent)+"%\n      ")]),t._v(" "),e("div",{staticClass:"tm-article-vote-stats__result-line",style:{width:s.percent+"%"}})])}))]],2):t._e()},C=[];const I={name:"TMArticleVoteStats",props:{voting:{type:Object,required:!0},reasonsMap:{type:Array,required:!0}},computed:{...(0,a.rn)("articlesList",["reasonsList"]),emptyResult(){let t=0;return this.reasonsMap.forEach((e=>{t+=e.percent})),0===t},filteredReasons(){return this.reasonsMap.filter((t=>!!this.reasonsList[t.id]))},percentValue(){const{positive:t,total:e}=this.voting;return t/e*100+"%"}},mounted(){this.loadReasonsList().catch((t=>{this.$toast.error(t.message)}))},methods:{...(0,a.nv)("articlesList",["loadReasonsList"]),getReasonTitle({id:t}){return!!this.reasonsList[t]&&(this.reasonsList[t].title||"")}}},b=I;var A=(0,v.Z)(b,E,C,!1,null,null,null);const y=A.exports;var L=s(50242),P=function(){var t=this,e=t._self._c;return e("span",{staticClass:"tm-icon-counter"},[e("TMSvgImg",{staticClass:"tm-icon-counter__icon",attrs:{id:t.iconId,size:"24"}}),t._v(" "),e("span",{staticClass:"tm-icon-counter__value",domProps:{textContent:t._s(t.formattedCounter)}})],1)},O=[],R=s(2813),N=s(13836);const k={name:"TMIconCounter",components:{TMSvgImg:R.Z},props:{iconId:{type:String,required:!0},counter:{type:[String,Number],default:null},abbreviated:Boolean},computed:{formattedCounter(){return this.abbreviated?(0,N.O)(this.counter):this.counter}}},M=k;var w=(0,v.Z)(M,P,O,!1,null,null,null);const x=w.exports;var D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-sharing"},[e("button",{staticClass:"tm-sharing__button",attrs:{type:"button"},on:{click:t.invokeSharing}},[e("TMShareIcon",{staticClass:"tm-sharing__icon"})],1),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isOpenShare?e("TMPopup",{attrs:{title:t.msg("ARTICLE_SHARING_TITLE")},on:{close:t.closePopup}},[e("ul",{staticClass:"tm-sharing__socials"},t._l(t.socials,(function(s){return e("li",{key:s.key},[e("span",{staticClass:"tm-sharing__social",on:{click:s.action}},[t._v("\n            "+t._s(t.msg(s.key))+"\n          ")])])})),0)]):t._e()],1)],1)},B=[],$=s(85378),F=s(7748);const G=()=>s.e(2316).then(s.bind(s,26841)),U={name:"TMSharing",components:{TMShareIcon:G,TMPopup:u.Z},props:{article:_.sK},data(){return{isOpenShare:!1}},computed:{articleUrl(){return`https://habr.com/p/${this.article.id}/`},socials(){const t=encodeURIComponent(this.articleUrl),e=encodeURIComponent((0,F.V)(this.article.titleHtml));return[{key:"SOCIAL_COPY",action:this.copyLink},{key:"SOCIAL_FACEBOOK",action:()=>this.openLink(`https://www.facebook.com/sharer/sharer.php?u=${t}`)},{key:"SOCIAL_TWITTER",action:()=>this.openLink(`https://twitter.com/intent/tweet?text=${e}+${t}+via+%40habr_com`)},{key:"SOCIAL_VK",action:()=>this.openLink(`https://vk.com/share.php?url=${t}`)},{key:"SOCIAL_TELEGRAM",action:()=>this.openLink(`https://t.me/share/url?url=${t}&title=${e}`)},{key:"SOCIAL_POCKET",action:()=>this.openLink(`https://getpocket.com/edit?url=${t}`)}]}},methods:{openLink(t){window.open(t,"_blank"),this.closePopup()},copyLink(){const t=window.location.href;(0,$.Z)(t),this.closePopup(),this.$toast.success(this.msg("SOCIAL_COPIED"))},invokeSharing(){navigator.share?navigator.share({title:this.msg("SITENAME"),text:this.article.titleHtml,url:this.articleUrl}).catch((t=>{throw t})):this.isOpenShare=!0},closePopup(){this.isOpenShare=!1}}},V=U;var H=(0,v.Z)(V,D,B,!1,null,null,null);const Z=H.exports;var W=s(2384);const Y=["rating","votes","views","favorite","comments","share"],q={name:"TMDataIcons",components:{TMArticleVoteStats:y,TMPopup:u.Z,TMArticleCommentsCounterLink:r.Z,TMArticleRating:S,TMBookmarksButton:L.Z,TMIconCounter:x,TMSharing:Z,TMVotesMeter:p.Z},props:{article:{type:Object,default:null},iconsList:{type:Array,default:()=>[],validator:t=>t.every((t=>-1!==Y.indexOf(t)))},type:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},gaOptions:{type:Object,default:null}},data(){return{isLoadingBookmark:!1,votesPopupVisible:!1,reasonsMap:null,unreadCommentsCount:this.article.relatedData?this.article.relatedData.unreadCommentsCount:null}},computed:{...(0,a.rn)("articlesList",["articlesList"]),...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),isBookmarked(){return!this.isLoadingBookmark&&this.article.relatedData&&this.article.relatedData.bookmarked},GAAction(){return this.article.metadata&&this.article.metadata.pageType},voteState(){const{relatedData:t}=this.article;return t&&t.vote&&t.vote.value?t.vote.value:0},votesStats(){const{votesCount:t,score:e}=this.article.statistics;return{total:t,positive:(t+e)/2,negative:(t-e)/2}}},beforeMount(){if(!this.isLoggedIn){const{article:{id:t,statistics:e}}=this;(0,o.U2)(t).then(((t=0)=>{const s=Math.max(e.commentsCount-t,0);this.unreadCommentsCount=s}))}},methods:{...(0,a.nv)("articlesList",["toggleArticleBookmark"]),showIcon(t){return this.iconsList&&-1!==this.iconsList.indexOf(t)},onBookmarkClick(){this.isLoggedIn?(this.isLoadingBookmark=!0,this.toggleArticleBookmark({article:this.article,bookmarkModule:this.bookmarkModule}).then((()=>{this.article.relatedData.bookmarked&&(0,h.Kz)("favorites",this.GAAction,this.userAlias),this.isLoadingBookmark=!1}))):this.$toast.error(this.msg("AUTH_REQUIRED"))},showVotesPopup(){(this.isSuperAdmin||this.userAlias===this.article.author.alias)&&(0,W.Mc)(this.article.id).then((t=>{this.votesPopupVisible=!0,this.reasonsMap=t.data})).catch((t=>{this.$toast.error(t.message)}))}}},j=q;var K=(0,v.Z)(j,n,i,!1,null,null,null);const z=K.exports},74502:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return t.$scopedSlots.default?e("span",[t._t("default",null,{formattedDate:t.formattedDate})],2):e("time",{attrs:{datetime:t.jsDate.toISOString(),title:t.fullForm},domProps:{textContent:t._s(t.formattedDate)}})},i=[],a=s(16480);const o={name:"TMDatetime",props:{date:{required:!0,type:[String,Date]},showFullDateTime:Boolean,shortMonth:Boolean,absoluteDate:Boolean,hideToday:Boolean},computed:{jsDate(){return new Date(this.date)},time(){return(0,a.rp)(this.jsDate)},fullForm(){const t=(0,a.SI)(this.jsDate);return`${t}, ${this.time}`},isMoreThanOneYear(){const t=new Date;return t.getFullYear()-this.jsDate.getFullYear()>=1},textParams(){const t=new Date,e={time:this.time};if(!this.absoluteDate){if((0,a.zk)(this.jsDate,t))return this.hideToday?{name:"WHEN_AT",params:e}:{name:"WHEN_TODAY_AT",params:e};if((0,a.gO)(this.jsDate,t))return{name:"WHEN_YESTERDAY_AT",params:e}}const s=(this.absoluteDate||this.isMoreThanOneYear)&&this.jsDate.getFullYear(),n={day:this.jsDate.getDate().toString(),month:this.jsDate.getMonth().toString(),year:s,...e};return this.showFullDateTime?{name:this.shortMonth?"WHEN_FULL_DATE_SHORT_MONTH_AT":"WHEN_FULL_DATE_AT",params:n}:{name:"WHEN_FULL_DATE",params:n}},formattedDate(){return this.msg(this.textParams.name,this.textParams.params)}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},58710:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("dl",{staticClass:"tm-description-list",class:t.bem("tm-description-list",{variant:t.variant})},[e("dt",{staticClass:"tm-description-list__title",class:t.bem("tm-description-list__title",{variant:t.variant}),domProps:{textContent:t._s(t.title)}}),t._v(" "),e("dd",{staticClass:"tm-description-list__body",class:t.bem("tm-description-list__body",{variant:t.variant})},[t._t("default")],2)])},i=[],a=s(65873);const o={name:"TMDescriptionList",props:{title:{type:String,required:!0},variant:{type:String,default:"base"}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},85083:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.closeOptions},expression:"{ 'esc': closeOptions }"}],staticClass:"tm-dropdown",class:{"tm-dropdown_active":t.optionsVisible}},[e("div",{staticClass:"tm-dropdown__head"},[t._t("head",null,{toggle:t.toggleOptions})],2),t._v(" "),t.optionsVisible?e("div",{staticClass:"tm-dropdown__body",class:t.getClass,style:t.getOffset},[t._t("body",null,{visible:t.optionsVisible})],2):t._e()])},i=[];const a={name:"TMDropdown",props:{align:{type:String,default:"left"},bodyOffset:{type:Number,default:0},variant:{type:String,default:"default"}},data(){return{optionsVisible:!1}},computed:{getClass(){return{"tm-dropdown__body_left":"left"===this.align,"tm-dropdown__body_right":"right"===this.align,"tm-dropdown__body_center":"center"===this.align,"tm-dropdown__body_inline":"inline"===this.variant,"tm-dropdown__body_padding-none":"noBodyPadding"===this.variant}},getOffset(){return{[`margin-${this.align}`]:`${this.bodyOffset}px`}}},watch:{$route(t,e){t.path!==e.path&&this.optionsVisible&&(this.optionsVisible=!1)}},methods:{close(){this.optionsVisible=!1},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(t){this.optionsVisible&&!this.$el.contains(t.target)&&this.toggleOptions()}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},46970:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{class:t.bem("tm-empty-placeholder",{variant:t.variant})},[e("TMSvgImg",{class:t.bem("tm-empty-placeholder__image",{variant:t.variant}),attrs:{id:t.image}}),t._v(" "),e("div",{staticClass:"tm-empty-placeholder__text"},[t._t("default",(function(){return[t._v("\n      "+t._s(t.title||t.msg("EMPTY_POSTS_MESSAGE"))+"\n    ")]}))],2),t._v(" "),t._t("footer")],2)},i=[],a=s(2813),o=s(65873);const r={name:"TMEmptyPlaceholder",components:{TMSvgImg:a.Z},props:{title:{type:String,default:null},image:{type:String,default:"/img/empty-post-placeholder.svg#placeholder"},variant:{type:String,default:"default",validator(t){return["default","user-profile"].includes(t)}}},methods:{bem:o.P}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},72376:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-entity-image"},[t.hasPlaceholderImage?e("TMSvgImg",{staticClass:"tm-image-placeholder",class:`tm-image-placeholder_${t.color}`,attrs:{id:`placeholder-${t.type}`,color:t.color,height:t.size,size:t.size,type:t.type,width:t.size}}):e("img",{staticClass:"tm-entity-image__pic",attrs:{alt:"",height:t.size,loading:t.lazy?"lazy":null,src:t.image,width:t.size}})],1)},i=[],a=s(2813);const o={name:"TMEntityImage",components:{TMSvgImg:a.Z},props:{alias:{type:String,default:null},image:{type:String,default:null},type:{type:String,required:!0},lazy:{type:Boolean,default:!1},size:{type:[Number,String],default:null}},computed:{hasPlaceholderImage(){return!this.image||this.image.indexOf("stub-user-middle.gif")>-1||this.image.indexOf("stub-user-small.gif")>-1},color(){const t=["blue","pink","lilac","green"];return t[this.hashNumber%t.length]},hashNumber(){return this.alias?this.alias.split("").reduce(((t,e)=>t+e.charCodeAt(0)),0):0}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},16218:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-error-message"},[e("h1",{staticClass:"tm-error-message__title"},[t._t("title")],2),t._v(" "),e("div",{staticClass:"tm-error-message__body"},[t._t("message")],2),t._v(" "),e("div",[t._t("button")],2)])},i=[];const a={name:"TMErrorMessage"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},30936:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return t.isMounted?e("FormBuilder",t._g(t._b({attrs:{"initial-data":t.value||t.initialData},on:{"update:data":function(e){return t.$emit("input",e)}},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,s){return{key:s,fn:function(e){return[t._t(s,null,null,e)]}}}))],null,!0)},"FormBuilder",t.$attrs,!1),t.$listeners)):e("TMPlaceholder",{attrs:{times:2,type:"form"}})},i=[],a=s(76437);const o={name:"TMFormBuilder",components:{TMPlaceholder:a.Z,FormBuilder:()=>s.e(6235).then(s.t.bind(s,96235,23))},props:{value:{type:Object,default:null},initialData:{type:Object,default:null}},data(){return{isMounted:!1}},mounted(){this.isMounted=!0}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},97259:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return t.shouldFormat?e("div",{staticClass:"article-formatted-body",class:t.bem("article-formatted-body",{version:t.version}),domProps:{innerHTML:t._s(t.articleText)}}):e("div",{domProps:{innerHTML:t._s(t.articleText)}})},i=[],a=s(65873);const o={name:"TMFormattedText",props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},77745:(t,e,s)=>{"use strict";s.d(e,{Z:()=>D});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-header-user-menu"},[e("router-link",{staticClass:"tm-header-user-menu__item tm-header-user-menu__search",attrs:{to:t.toSearchPage}},[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_search",class:{"tm-header-user-menu__icon_dark":t.isDesktop&&!t.isPwa},attrs:{id:"search",size:"24"}})],1),t._v(" "),t.isLoggedIn?e("TMTrackerDropdown",{staticClass:"tm-header-user-menu__item"}):t._e(),t._v(" "),t.adminDropdownVisible?e("TMCompanyAdminDropdown",{staticClass:"tm-header-user-menu__item"}):t._e(),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-header-user-menu__item tm-header-user-menu__write"},[t.canPostVoice?e("TMDropdown",{attrs:{align:"right"},scopedSlots:t._u([{key:"head",fn:function({toggle:s}){return[e("button",{staticClass:"tm-header-user-menu__toggle",on:{click:function(e){t.isDesktop?s():t.editorPopupVisible=!0}}},[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_write",class:{"tm-header-user-menu__icon_dark":t.isDesktop&&!t.isPwa},attrs:{id:"write",size:"24"}})],1)]}},{key:"body",fn:function(){return[e("div",{staticClass:"tm-header-user-menu__popup-wrapper"},[e("TMNewPublicationLink",{staticClass:"tm-header-user-menu__popup-item"},[t._v("\n            "+t._s(t.msg("ICON_WRITE"))+"\n          ")]),t._v(" "),e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"VOICE"}}},[t._v("\n            "+t._s(t.msg("VOICE_TITLE"))+"\n          ")])],1)]},proxy:!0}],null,!1,1948468975)}):e("TMNewPublicationLink",[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_write",class:{"tm-header-user-menu__icon_dark":t.isDesktop||!t.isPwa},attrs:{id:"write",size:"24"}})],1),t._v(" "),t.editorPopupVisible?e("TMPopup",{on:{close:function(e){t.editorPopupVisible=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"tm-header-user-menu__popup-wrapper"},[e("TMNewPublicationLink",{staticClass:"tm-header-user-menu__popup-item",nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("ICON_WRITE"))+"\n          ")]),t._v(" "),e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_MEGAPOST"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("MEGAPOST_TITLE_NEW"))+"\n          ")]),t._v(" "),e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"VOICE"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("VOICE_TITLE"))+"\n          ")])],1)]},proxy:!0}],null,!1,346434852)}):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"tm-header-user-menu__item",class:{"tm-header-user-menu__user_desktop":t.isDesktop&&!t.isPwa}},[t.isDesktop&&!t.isPwa?e("TMDropdown",{attrs:{align:"right"},scopedSlots:t._u([{key:"head",fn:function({toggle:s}){return[t.isLoggedIn?e("TMEntityImage",{attrs:{alias:t.user.alias,"data-test-id":t.toggleTestId,image:t.user.avatarUrl,size:32,type:"user"},nativeOn:{click:function(t){return s.apply(null,arguments)}}}):e("TMSvgImg",{staticClass:"tm-header-user-menu__icon",class:{"tm-header-user-menu__icon_dark":t.isDesktop&&!t.isPwa},attrs:{id:"header-user",size:"24","svg-attrs":{"data-test-id":t.toggleTestId}},nativeOn:{click:function(t){return s.apply(null,arguments)}}}),t._v(" "),t.unreadCount?e("span",{staticClass:"tm-header-user-menu__conversations-count",domProps:{textContent:t._s(t.unreadCount)}}):t._e()]}},{key:"body",fn:function({visible:s}){return[s?e("TMUserMenu",{on:{openPageSettings:function(e){t.pageSettingsVisible=!0}}}):t._e()]}}],null,!1,3656102771)}):e("button",{staticClass:"tm-header-user-menu__toggle",class:{"tm-header-user-menu__toggle_has-conversations":t.unreadCount>0},attrs:{"data-test-id":t.toggleTestId},on:{click:function(e){t.overlayVisible=!0}}},[t.isLoggedIn?e("TMEntityImage",{attrs:{alias:t.user.alias,image:t.user.avatarUrl,size:t.isMobile&&!t.isTablet?24:32,type:"user"}}):e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_white",class:{"tm-header-user-menu__icon_dark":t.isDesktop&&!t.isPwa},attrs:{id:"header-user",size:24}})],1),t._v(" "),e("TMScrollLockTransition",{attrs:{name:"fade-sidebar"}},[t.overlayVisible?e("TMSidebar",{attrs:{position:"right"},on:{close:function(e){t.overlayVisible=!1}}},[e("TMUserMenu",{on:{close:function(e){t.overlayVisible=!1},openPageSettings:function(e){t.pageSettingsVisible=!0}}})],1):t._e()],1)],1),t._v(" "),e("TMScrollLockTransition",{attrs:{name:"transition-fade"}},[t.pageSettingsVisible?e("TMPopupBase",{on:{close:function(e){t.pageSettingsVisible=!1}}},[e("TMPageSettingsForm",{on:{closePopup:function(e){t.pageSettingsVisible=!1}}})],1):t._e()],1)],1)},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return e("TMDropdown",{staticClass:"company-admin-dropdown",attrs:{align:"right",variant:"noBodyPadding"},scopedSlots:t._u([{key:"head",fn:function({toggle:s}){return[1===t.companiesAdmin.length?e("a",{staticClass:"company-admin-dropdown__button",attrs:{href:t.companyAdminLink,title:t.msg("COMPANY_ADMIN")}},[e("TMSvgImg",{staticClass:"company-admin-dropdown__icon",attrs:{id:"company",size:"24"}})],1):e("button",{staticClass:"company-admin-dropdown__button",attrs:{title:t.msg("COMPANIES_ADMIN")},on:{click:s}},[e("TMSvgImg",{staticClass:"company-admin-dropdown__icon",attrs:{id:"company",size:"24"}}),t._v(" "),e("TMSvgImg",{staticClass:"company-admin-dropdown__icon company-admin-dropdown__icon_arrow",attrs:{id:"arrow-down",size:"20"}})],1)]}},{key:"body",fn:function(){return[e("div",{staticClass:"company-admin-dropdown__list"},[e("TMCompaniesAdminList",{attrs:{companies:t.companiesAdmin}})],1)]},proxy:!0}])})},r=[],l=s(52813),c=s(85083),m=s(2813);const u={name:"TMCompanyAdminDropdown",components:{TMCompaniesAdminList:l.Z,TMSvgImg:m.Z,TMDropdown:c.Z},computed:{...(0,a.Se)("me",["companiesAdmin"]),companyAdminLink(){return`https://habr.com/company/${this.companiesAdmin[0].alias}/admin/`}}},d=u;var p=s(1001),_=(0,p.Z)(d,o,r,!1,null,null,null);const h=_.exports;var g=s(72376),T=s(72209),v=s(47840),f=s(75817),S=s(79131),E=function(){var t=this,e=t._self._c;return t.isMounted?e("div",{staticClass:"tm-tracker-dropdown"},[t.isMounted&&t.isDesktop?e("TMDropdown",{attrs:{align:"right",variant:"noBodyPadding"},scopedSlots:t._u([{key:"head",fn:function({toggle:s}){return[e("button",{staticClass:"tm-tracker-dropdown__notifications-button",class:{"tm-tracker-dropdown__notifications-button_dark":!t.isPwa},attrs:{title:t.msg("TRACKER_TITLE")},on:{click:s}},[t.getUnviewedCount?e("span",{staticClass:"tm-tracker-dropdown__notifications-counter",class:t.bem("tm-tracker-dropdown__notifications-counter",{variant:"viewer"}),domProps:{textContent:t._s(`+${t.abbreviateNumber(t.getUnviewedCount)}`)}}):t.notificationsUnreadCount?e("span",{staticClass:"tm-tracker-dropdown__notifications-counter",domProps:{textContent:t._s(t.abbreviateNumber(t.notificationsUnreadCount))}}):t._e(),t._v(" "),e("TMSvgImg",{staticClass:"tm-tracker-dropdown__icon",attrs:{id:"notifications",size:"24"}})],1)]}},{key:"body",fn:function({visible:s}){return[s?e("TMUserNotificationsDropdown"):t._e()]}}],null,!1,645926585)}):e("router-link",{staticClass:"tm-tracker-dropdown__notifications-button",attrs:{title:t.msg("TRACKER_TITLE"),to:{name:"TRACKER"}}},[t.getUnviewedCount?e("span",{staticClass:"tm-tracker-dropdown__notifications-counter",class:t.bem("tm-tracker-dropdown__notifications-counter",{variant:"viewer"}),domProps:{textContent:t._s(`+${t.abbreviateNumber(t.getUnviewedCount)}`)}}):t.notificationsUnreadCount?e("span",{staticClass:"tm-tracker-dropdown__notifications-counter",domProps:{textContent:t._s(t.abbreviateNumber(t.notificationsUnreadCount))}}):t._e(),t._v(" "),e("TMSvgImg",{staticClass:"tm-tracker-dropdown__icon",attrs:{id:"notifications",size:"24"}})],1)],1):t._e()},C=[],I=s(65873),b=s(13836);const A=()=>Promise.all([s.e(8969),s.e(8355)]).then(s.bind(s,53573)),y={name:"TMTrackerDropdown",components:{TMSvgImg:m.Z,TMUserNotificationsDropdown:A,TMDropdown:c.Z},data(){return{isMounted:!1}},computed:{...(0,a.Se)("global",["isDesktop"]),...(0,a.Se)("i18n",["langOptions"]),...(0,a.Se)("me",["isLoggedIn"]),...(0,a.Se)("tracker",["getUnreadCount","getUnviewedCount"]),...(0,a.rn)("global",["isPwa"]),notificationsUnreadCount(){return this.getUnreadCount("all")}},mounted(){if(this.isMounted=!0,this.isLoggedIn){const{hl:t}=this.langOptions;this.loadNotifications({params:{hl:t},cacheKey:"dropdown"})}},methods:{...(0,a.nv)("tracker",["loadNotifications"]),abbreviateNumber(t){return(0,b.O)(t)},bem:I.P}},L=y;var P=(0,p.Z)(L,E,C,!1,null,null,null);const O=P.exports,R=()=>Promise.resolve().then(s.bind(s,27481)),N=()=>Promise.resolve().then(s.bind(s,71737)),k=()=>s.e(6444).then(s.bind(s,16444)),M={name:"TMHeaderUserMenu",components:{TMPageSettingsForm:N,TMPopupBase:R,TMNewPublicationLink:T.Z,TMScrollLockTransition:f.Z,TMPopup:v.Z,TMCompanyAdminDropdown:h,TMTrackerDropdown:O,TMDropdown:c.Z,TMSidebar:S.Z,TMEntityImage:g.Z,TMSvgImg:m.Z,TMUserMenu:k},data(){return{dropdownVisible:!1,overlayVisible:!1,pageSettingsVisible:!1,editorPopupVisible:!1}},computed:{...(0,a.rn)("conversations",["unreadCount"]),...(0,a.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,a.Se)("me",["isLoggedIn","companiesAdmin","canPostVoice"]),...(0,a.Se)("i18n",["langOptions"]),...(0,a.rn)("me",["user"]),...(0,a.rn)("global",["isPwa"]),toggleTestId(){return this.isLoggedIn?this.unreadCount>0?"menu-toggle-unread":"menu-toggle-user":"menu-toggle-guest"},toSearchPage(){return{name:"SEARCH_QUERY_RESULTS",params:{hl:this.langOptions.hl}}},adminDropdownVisible(){return this.isDesktop&&!this.isPwa&&this.isLoggedIn&&0!==this.companiesAdmin.length}},methods:{toggleOverlay(){this.overlayVisible=!this.overlayVisible},toggleDropdown(){this.dropdownVisible=!this.dropdownVisible}}},w=M;var x=(0,p.Z)(w,n,i,!1,null,null,null);const D=x.exports},95582:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:t.route}},[t._t("default")],2)},i=[],a=s(20629);const o={corporative:"ARTICLES_LIST_BY_COMPANY",collective:"HUB_PAGE"},r={name:"TMHubLink",props:{hub:{type:Object,required:!0}},computed:{...(0,a.Se)("i18n",["langOptions"]),route(){const{hub:{type:t,alias:e},langOptions:{hl:s}}=this;return{name:o[t]||o.collective,params:{name:e,hubName:e,hl:s}}}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},34841:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMSeparatedList",{attrs:{list:t.hubs,title:t.title},scopedSlots:t._u([{key:"default",fn:function({item:s}){return[e("TMHubLink",{staticClass:"tm-hubs-list__link",attrs:{hub:s},domProps:{innerHTML:t._s(s.title)}})]}}])})},i=[],a=s(95582),o=s(68861);const r={name:"TMHubsList",components:{TMSeparatedList:o.Z,TMHubLink:a.Z},props:{hubs:{type:Array,required:!0},title:{type:String,required:!0}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},46155:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-input-radio-labeled"},[e("label",{staticClass:"tm-input-radio-labeled__label"},[e("div",{staticClass:"tm-checkbox-labeled__input",attrs:{"data-test-id":`checkbox-labeled-input_${t.$attrs.name}`}},[e("TMInputRadioBase",t._b({staticClass:"tm-input-radio-labeled__real",attrs:{"checked-value":t.checkedValue},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}},"TMInputRadioBase",t.$attrs,!1)),t._v(" "),e("span",{staticClass:"tm-input-radio-labeled__fake"})],1),t._v(" "),t._t("default")],2)])},i=[],a=function(){var t=this,e=t._self._c;return e("input",{attrs:{type:"radio"},domProps:{checked:t.value===t.checkedValue},on:{change:t.onChange}})},o=[];const r={name:"TMInputRadioBase",props:{checkedValue:{type:String,default:null},value:{type:String,default:null}},methods:{onChange(){this.$emit("input",this.checkedValue)}}},l=r;var c=s(1001),m=(0,c.Z)(l,a,o,!1,null,null,null);const u=m.exports,d={name:"TMInputRadioLabeled",components:{TMInputRadioBase:u},inheritAttrs:!1,props:{checkedValue:{type:String,default:null},value:{type:String,default:null}},computed:{localValue:{get(){return this.value},set(t){this.$emit("input",t)}}}},p=d;var _=(0,c.Z)(p,n,i,!1,null,null,null);const h=_.exports},80089:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});const n={name:"TMIntersect",props:{threshold:{type:Array,required:!1,default:()=>[0,.2]},root:{type:"undefined"!==typeof HTMLElement?HTMLElement:Object,required:!1,default:null},rootMargin:{type:String,required:!1,default:"0px 0px 0px 0px"}},mounted(){if(this.observer=new IntersectionObserver((([{target:t,isIntersecting:e}])=>{const s=()=>this.observer.unobserve(t);e?this.$emit("enter",{unobserve:s}):this.$emit("leave",{unobserve:s})}),{threshold:this.threshold,root:this.root,rootMargin:this.rootMargin}),this.$slots.default&&this.$slots.default.length>1)throw new Error("You may only wrap one element in a <intersect> component.");if(!this.$slots.default||this.$slots.default.length<1)throw new Error("You must have one child inside a <intersect> component.");this.observer.observe(this.$slots.default[0].elm)},destroyed(){this.observer.disconnect()},render(){return this.$slots.default?this.$slots.default[0]:null}},i=n;var a,o,r=s(1001),l=(0,r.Z)(i,a,o,!1,null,null,null);const c=l.exports},37377:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return e("div",{ref:"sidebarWrapper",staticClass:"tm-layout-sidebar"},[t.showAdv?e("div",{ref:"adBlock",staticClass:"tm-layout-sidebar__ads",class:`tm-layout-sidebar__ads_${t.scrollMode}`},[t.userShowAdv&&t.showAdv?e("TMAdfoxBanner",{staticClass:"tm-layout-sidebar__banner tm-layout-sidebar__banner_top",attrs:{"adfox-id":"164725680533065327","div-id":"sidebarBanner",params:{pp:"g",ps:"fnps",p2:"hnxd"},variant:"half-page"}}):t._e()],1):e("div",{class:`tm-layout-sidebar__placeholder_${t.scrollMode}`}),t._v(" "),e("div",{ref:"sidebar",staticClass:"tm-sexy-sidebar",class:`tm-sexy-sidebar_${t.scrollMode}`,style:{"margin-top":`${t.sidebarMargin}px`}},[t._t("default"),t._v(" "),t.userShowAdv&&t.showAdv&&t.showBottomBanner?e("TMAdfoxBanner",{staticClass:"tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom",attrs:{"adfox-id":"164725691003361602","div-id":"sidebarBannerBottom",params:{pp:"i",ps:"fnps",p2:"hnxg"},variant:"medium-rectangle"}}):t._e()],2)])},i=[],a=s(20629),o=s(19774);const r="stick-top",l="stick-bottom",c="margin",m="initial",u=56,d={name:"TMLayoutSidebar",components:{TMAdfoxBanner:o.Z},props:{showAdv:{type:Boolean,default:!1},showBottomBanner:{type:Boolean,default:!0}},data(){return{prevScroll:0,sidebarMargin:0,scrollMode:m}},computed:{...(0,a.rn)("me",["user"]),...(0,a.Se)("me",["userShowAdv"]),scrollModeMarginOrInitial(){return-1!==[c,m].indexOf(this.scrollMode)}},mounted(){requestAnimationFrame((()=>{this.prevScroll=window.scrollY,this.handleScroll(),window.addEventListener("scroll",this.handleScroll,{passive:!0})}))},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const t=this.$refs.sidebar,e=document.querySelector(".tm-page__main > *");if(t&&e){const s=t.scrollHeight,n=window.innerHeight,i=e.scrollHeight,a=t.offsetTop,o=s+a;if(s<=n||o>i)return this.sidebarMargin=0,void(this.scrollMode=r);const{prevScroll:m}=this,{scrollY:d}=window,p=m>d,_=m<d,h=t.getBoundingClientRect(),g=h.y,T=s+g;_&&(this.scrollModeMarginOrInitial&&T<n&&(this.sidebarMargin=0,this.scrollMode=l),this.scrollMode===r&&(this.sidebarMargin=t.offsetTop,this.scrollMode=c)),p&&(this.scrollMode===l&&(this.sidebarMargin=t.offsetTop,this.scrollMode=c),this.scrollModeMarginOrInitial&&g-u>=0&&(this.sidebarMargin=0,this.scrollMode=r)),this.prevScroll=d}}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},94223:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("a",{attrs:{href:t.loginUrl,rel:"nofollow"}},[t._t("default")],2)},i=[];const a={name:"TMLoginLink",computed:{loginUrl(){const t=this.$route.path;return`https://habr.com/kek/v1/auth/habrahabr/?back=${t}&hl=${this.langOptions.hl}`}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},91259:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-megapost-snippet"},[e("div",{staticClass:"tm-megapost-snippet__wrapper",style:t.getBackgroundStyles},[e("div",{staticClass:"tm-megapost-snippet__tint"},[e("header",{staticClass:"tm-megapost-snippet__header"},[t.companyHub?e("router-link",{ref:"companyBlogName",staticClass:"tm-megapost-snippet__link tm-megapost-snippet__company-blog",attrs:{to:t.companyRoute}},[e("span",{domProps:{innerHTML:t._s(t.companyBlogName)}})]):t._e(),t._v(" "),e("TMArticleLink",{staticClass:"tm-megapost-snippet__link tm-megapost-snippet__date",attrs:{article:t.article}},[e("TMDatetime",{ref:"megapostPublishedDate",staticClass:"tm-megapost-snippet__datetime-published",attrs:{date:new Date(t.article.timePublished)}})],1)],1),t._v(" "),e("TMArticleLink",{staticClass:"tm-megapost-snippet__link tm-megapost-snippet__card",attrs:{article:t.article}},[e("h2",{ref:"megapostTitle",staticClass:"tm-megapost-snippet__title",domProps:{innerHTML:t._s(t.article.titleHtml)}})]),t._v(" "),0!==t.hubs.length?e("ul",{ref:"megapostHubs",staticClass:"tm-megapost-snippet__hubs"},t._l(t.hubs,(function(s){return e("li",{key:s.id,staticClass:"tm-megapost-snippet__hub"},[e("TMHubLink",{staticClass:"tm-megapost-snippet__link",attrs:{hub:s}},[e("span",{domProps:{innerHTML:t._s(s.titleHtml)}})])],1)})),0):t._e()],1)]),t._v(" "),t.showLead&&t.article.leadData?e("div",{staticClass:"tm-megapost-snippet__body"},[t.article.leadData.textHtml?e("TMArticleFormattedBody",{ref:"megapostLeadText",attrs:{"article-text":t.article.leadData.textHtml,version:t.editorVersion}}):t._e(),t._v(" "),t.article.leadData.buttonTextHtml?e("TMArticleLink",{ref:"megapostLeadReadMore",staticClass:"tm-megapost-snippet__readmore",attrs:{article:t.article}},[e("span",{domProps:{innerHTML:t._s(t.article.leadData.buttonTextHtml)}})]):t._e()],1):t._e()])},i=[],a=s(20629),o=s(61216),r=s(34317),l=s(74502),c=s(95582),m=s(28287);const u={name:"TMMegapostSnippet",components:{TMArticleFormattedBody:o.Z,TMHubLink:c.Z,TMDatetime:l.Z,TMArticleLink:r.Z},props:{article:{type:Object,default:()=>{}},articleView:{type:String,default:null,validator(t){return["cards","list"].includes(t)}}},computed:{...(0,a.Se)("articlesList",{getGlobalArticleView:"getArticleView"}),getArticleView(){return this.articleView||this.getGlobalArticleView},showLead(){return"cards"===this.getArticleView},getBackgroundStyles(){return!this.$isServer&&this.article.leadData&&this.article.leadData.imageUrl?{background:`url(${(0,m.V0)(this.article.leadData.imageUrl)}) no-repeat center center / cover`}:null},editorVersion(){return parseInt(this.article.editorVersion,10)},companyHub(){return this.article.isCorporative?this.article.hubs.find((t=>"corporative"===t.type)):null},companyBlogName(){return this.companyHub.titleHtml},companyRoute(){const{alias:t}=this.companyHub;return t?{name:"COMPANY_PROFILE_ROOT",params:{name:t}}:null},hubs(){return this.article.hubs.filter((t=>t!==this.companyHub))}}},d=u;var p=s(1001),_=(0,p.Z)(d,n,i,!1,null,null,null);const h=_.exports},47851:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-minus-reason"},[t.isMultiple?e("div",{staticClass:"tm-minus-reason__description"},[t._v("\n    "+t._s(t.msg("KARMA_REASON_DESCRIPTION"))+"\n  ")]):t._e(),t._v(" "),e("TMFormBuilder",{attrs:{fields:t.formFields,"initial-data":t.initialData,lang:t.langOptions.hl},on:{"update:data":t.onDataUpdate}}),t._v(" "),e("TMButtonBase",{staticClass:"tm-minus-reason__btn",attrs:{disabled:!t.reasonValue||0===t.reasonValue.length,"style-size":"small","style-type":"solid",type:"submit"},on:{click:function(e){return t.$emit("downVote",t.reasonValue)}}},[t._v("\n    "+t._s(t.msg("ARTICLE_REASON_BUTTON_SEND"))+"\n  ")])],1)},i=[],a=s(20629),o=s(30089),r=s(30936);const l={name:"TMMinusReason",components:{TMButtonBase:o.Z,TMFormBuilder:r.Z},props:{reasonsList:{type:Object,required:!0},isMultiple:{type:Boolean,default:!1}},data(){return{reasonValue:null,initialData:null}},computed:{...(0,a.Se)("i18n",["langOptions"]),formFields(){const t=[];if(this.isMultiple)Object.keys(this.reasonsList).forEach((e=>{const s=this.reasonsList[e];t.push({className:"tm-checkbox",name:s.id,label:s.title,type:"BaseCheckbox",validation:{required:!1}})}));else{const e=[];Object.keys(this.reasonsList).forEach((t=>{const s=this.reasonsList[t];e.push({name:s.title,value:s.id})})),t.push({className:"tm-radio",label:"",name:"reason",type:"BaseRadio",validation:{required:!0},options:e})}return t}},methods:{onDataUpdate(t){this.isMultiple?this.reasonValue=Object.keys(t).filter((e=>t[e])):this.reasonValue=t.reason}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},97502:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return t.mostReadingList&&t.mostReadingList.length?e("TMArticleListBlock",{attrs:{"bookmark-module":"mostReadingList","data-list":t.mostReadingList,"ga-options":t.mostReadingGaOptions(t.gaType),layout:t.layout,spacing:t.spacing,title:t.msg("TITLE_MOST_READING")},scopedSlots:t._u([t.hasLoaded&&t.mostReadingPromoLink?{key:"lastItem",fn:function(){return[e("TMPromoPostLink",{attrs:{"promo-post":t.mostReadingPromoLink},on:{click:t.onPromoLinkClick}})]},proxy:!0}:null],null,!0)}):t._e()},i=[],a=s(20629),o=s(70810),r=s(10011),l=s(8065);const c={name:"TMMostReadingBlock",components:{TMPromoPostLink:r.Z,TMArticleListBlock:o.Z},props:{gaType:{type:String,default:"post"},layout:{type:String,default:null},spacing:{type:String,default:"around"}},computed:{...(0,a.Se)("mostReadingList",["mostReadingList"]),...(0,a.rn)("mostReadingList",["promoPost"]),...(0,a.rn)("promoData",["hasLoaded"]),...(0,a.Se)("promoData",["mostReadingPromoLink"])},mounted(){this.$store.dispatch("mostReadingList/loadMostReadingList",{route:this.$route})},methods:{mostReadingGaOptions(t){return{category:"tm_block",action:`read_now,${t}`,label:{post:"post",comment:"comment"}}},mostReadingPromoGaOptions(t,e){return{category:"tm_block",action:`read_now,${t}`,label:{post:e,comment:e}}},onPromoLinkClick(){(0,l.Kz)(this.mostReadingPromoGaOptions(this.type,this.mostReadingPromoLink.link.url))}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},1641:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-navigation-dropdown",class:t.bem("tm-navigation-dropdown",{variant:t.variant})},[e("div",{staticClass:"tm-navigation-dropdown__wrapper"},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.closeOptions},expression:"{ 'esc': closeOptions }"}],ref:"button",staticClass:"tm-navigation-dropdown__button",class:t.bem("tm-navigation-dropdown__button",{variant:t.variant}),on:{click:t.toggleOptions}},[e("div",{staticClass:"tm-navigation-dropdown__button-text"},[t._v("\n        "+t._s(t.labelOfCurrentValue)+"\n      ")]),t._v(" "),e("TMSvgImg",{staticClass:"icon_dropdown-arrow",class:{"icon_dropdown-arrow-rotated":t.optionsVisible},attrs:{id:"arrow-down"}})],1),t._v(" "),t._t("default")],2),t._v(" "),e("ul",{ref:"options",staticClass:"tm-navigation-dropdown__options",class:t.getClass,style:t.getStyles},t._l(t.transformedOptions,(function(s,n){return e("li",{key:`${s.optionValue}_${n}`,staticClass:"tm-navigation-dropdown__option",class:t.activeOptionIndex===n&&"tm-navigation-dropdown__option_active"},[e("button",{class:t.bem("tm-navigation-dropdown__option-button",{variant:t.variant}),on:{click:function(e){return t.handleOptionClick(s)}}},[t._v("\n        "+t._s(s.label)+"\n        "),s.count?e("span",{staticClass:"tm-navigation-dropdown__option-count"},[t._v("\n          "+t._s(t.getCount(s.count))+"\n        ")]):t._e()])])})),0)])},i=[],a=s(20629),o=s(2813),r=s(65873),l=s(13836);const c={name:"TMNavigationDropdown",components:{TMSvgImg:o.Z},props:{sections:{type:Array,default:null},options:{type:Array,default:()=>[]},currentValue:{type:String,default:null},customTitle:{type:String,default:null},variant:{type:String,default:null}},data(){return{optionsVisible:!1,maxHeightStyles:null}},computed:{...(0,a.Se)("global",["isDesktop"]),...(0,a.rn)("global",["isPwa"]),transformedOptions(){return this.sections?this.sections.map((t=>({label:t.title,value:t.route.name,...t}))):this.options},activeOptionIndex(){let t=this.currentValue;const e="_PAGES";return this.currentValue&&-1!==this.currentValue.indexOf(e)&&(t=t.replace(e,"")),this.transformedOptions.findIndex((e=>e.value===t||e.optionValue===t))},getStyles(){return this.optionsVisible&&this.maxHeightStyles},labelOfCurrentValue(){if(this.sections){const t=this.sections.find((t=>{const e=t.route.name===this.$route.name;if(t.route.params&&this.$route.params){let s;const n=Object.keys(t.route.params);return 0===n.length?s=!0:(s=!1,n.forEach((e=>{s=this.$route.params[e]===t.route.params[e]}))),e&&s}return e}));if(t)return t.title}if(this.customTitle)return this.customTitle;const t=this.activeOptionIndex>0?this.activeOptionIndex:0;return this.transformedOptions[t].label},getClass(){return{"tm-navigation-dropdown__options_absolute":this.isDesktop}}},mounted(){this.$nextTick((()=>{this.maxHeightStyles=`max-height: ${this.$refs.options.scrollHeight}px`}))},methods:{getCount(t){return t&&0!==Number(t)?(0,l.O)(t):""},handleOptionClick(t){t.route?this.isPwa?this.$router.replace(t.route):this.$router.push(t.route):t.value!==this.currentValue&&(this.$emit("change",t),this.optionsVisible=!1,this.$refs.button.focus())},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(t){this.optionsVisible&&!this.$el.contains(t.target)&&this.toggleOptions()},bem:r.P}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},79082:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-navigation-filters-spoiler"},[e("div",{staticClass:"tm-navigation-filters-spoiler__wrapper"},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.closeOptions},expression:"{ 'esc': closeOptions }"}],ref:"button",staticClass:"tm-navigation-filters-spoiler__button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleOptions.apply(null,arguments)}}},[t._t("label"),t._v(" "),e("TMSvgImg",{staticClass:"icon_dropdown-arrow",class:{"icon_dropdown-arrow-rotated":t.visibleModel},attrs:{id:"arrow-down"}})],2),t._v(" "),t._t("afterButton")],2),t._v(" "),e("div",{ref:"content",class:t.bem("tm-navigation-filters-spoiler__content",{transitions:t.enableTransitions}),style:t.getStyles,on:{transitionend:function(e){return e.target!==e.currentTarget?null:t.onTransitionEnd.apply(null,arguments)}}},[t._t("content",null,{contentVisible:t.visibleModel})],2)])},i=[],a=s(2813),o=s(65873);const r={name:"TMNavigationFiltersSpoiler",components:{TMSvgImg:a.Z},props:{useVModel:{type:Boolean,default:!1},value:{type:Boolean,default:!1}},data(){return{contentVisible:!1,maxHeight:null,overflow:"hidden",enableTransitions:!1}},computed:{visibleModel:{get(){return this.useVModel?this.value:this.contentVisible},set(t){this.useVModel?this.$emit("input",t):this.contentVisible=t}},getStyles(){return this.visibleModel?{maxHeight:this.maxHeight,overflow:this.overflow}:null}},mounted(){this.useVModel&&this.value&&(this.overflow="visible"),this.calculateMaxHeight(),this.$nextTick((()=>{this.enableTransitions=!0}))},methods:{bem:o.P,onTransitionEnd(){this.visibleModel&&(this.overflow="visible")},calculateMaxHeight(){this.maxHeight=`${this.$refs.content.scrollHeight}px`},toggleOptions(){this.overflow="hidden",this.calculateMaxHeight(),this.visibleModel=!this.visibleModel},closeOptions(){this.visibleModel=!1}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},17133:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("TMNavigationFiltersSpoiler",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n    "+t._s(t.title)+"\n  ")]},proxy:!0},{key:"afterButton",fn:function(){return[t._t("default")]},proxy:!0},{key:"content",fn:function({contentVisible:s}){return[e("div",{staticClass:"tm-navigation-filters__options"},[t.options[t.rootActiveIndex]?e("div",{staticClass:"tm-navigation-filters__list-label"},[t._v("\n        "+t._s(t.options[t.rootActiveIndex].rootLabel)+"\n      ")]):t._e(),t._v(" "),e("ul",{staticClass:"tm-navigation-filters__list"},t._l(t.options,(function(n,i){return e("li",{key:`${n.label}`,staticClass:"tm-navigation-filters__option"},[e("button",{staticClass:"tm-navigation-filters__option-button",class:{"tm-navigation-filters__option-button_active":t.rootActiveIndex===i},attrs:{tabindex:t.getTabIndex(s)},on:{click:function(e){t.rootActiveIndex=i,t.mainActiveIndex=0}}},[t._v("\n            "+t._s(n.label)+"\n          ")])])})),0),t._v(" "),t.options[t.rootActiveIndex]&&t.options[t.rootActiveIndex].mainLabel?e("div",{staticClass:"tm-navigation-filters__list-label"},[t._v("\n        "+t._s(t.options[t.rootActiveIndex].mainLabel)+"\n      ")]):t._e(),t._v(" "),t.options[t.rootActiveIndex]&&t.options[t.rootActiveIndex].children?e("ul",{staticClass:"tm-navigation-filters__list"},t._l(t.options[t.rootActiveIndex].children,(function(n,i){return e("li",{key:`${n.label}`,staticClass:"tm-navigation-filters__option"},[e("button",{staticClass:"tm-navigation-filters__option-button",class:{"tm-navigation-filters__option-button_active":t.mainActiveIndex===i},attrs:{tabindex:t.getTabIndex(s)},on:{click:function(e){t.mainActiveIndex=i}}},[t._v("\n            "+t._s(n.label)+"\n          ")])])})),0):t._e(),t._v(" "),e("TMButtonBase",{staticClass:"tm-navigation-filters__apply",attrs:{"style-size":"small","style-type":"solid",tabindex:t.getTabIndex(s),type:"button"},on:{click:t.applyNavigationFilter}},[t._v("\n        "+t._s(t.msg("NAV_APPLY"))+"\n      ")])],1)]}}],null,!0)})},i=[],a=s(20629),o=s(30089),r=s(79082),l=s(2813);const c={name:"TMNavigationFilters",components:{TMSvgImg:l.Z,TMButtonBase:o.Z,TMNavigationFiltersSpoiler:r.Z},props:{options:{type:Array,required:!0}},data(){const t=this.options.findIndex((t=>this.isOptionActive(t))),e=t>-1&&this.options[t].children,s=e?e.map((t=>this.isOptionActive(t,!0))).lastIndexOf(!0):null;return{optionsVisible:!1,rootActiveIndex:t,mainActiveIndex:s}},computed:{...(0,a.rn)("global",["isPwa"]),getStyles(){return this.optionsVisible&&this.maxHeightStyles},title(){return this.$route.meta.navTitle?this.msg(this.$route.meta.navTitle,this.$route.params):""}},methods:{getTabIndex(t){return t?0:-1},isOptionActive(t,e=!1){const{value:s,params:n}=t;if(e&&n){const e=!!this.$route.matched.find((t=>t.name===s));let n;const i=Object.keys(t.params);return 0===i.length?n=!0:(n=!1,i.forEach((e=>{const s=this.$route.params&&"undefined"!==typeof this.$route.params[e]&&this.$route.params[e],i=t.params&&"undefined"!==typeof t.params[e]&&t.params[e];n=s===i}))),n&&e}return!!this.$route.matched.find((t=>t.name===s))},applyNavigationFilter(){const t=this.options[this.rootActiveIndex],e=t.children?t.children[this.mainActiveIndex]:t,s={name:e.value,params:e.params};this.$emit("applyFilter",s),this.isPwa?this.$router.replace(s):this.$router.push(s)}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},51832:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-navigation-search__input"},[e("TMInputTextDecorated",{ref:"input",attrs:{autocomplete:"off",maxlength:t.maxlength,name:"searchQuery",placeholder:t.placeholder||t.msg("SEARCH_INPUT_PLACEHOLDER"),value:t.value},on:{input:t.onInputChange}},[e("TMSvgIcon",{staticClass:"tm-search__icon",attrs:{slot:"after",id:"input-search"},slot:"after"})],1)],1)},i=[],a=s(91296),o=s.n(a),r=s(19237),l=s(62205);const c={name:"TMNavigationSearch",components:{TMInputTextDecorated:r.Z,TMSvgIcon:l.Z},props:{placeholder:{type:String,default:null},maxlength:{type:Number,default:50}},computed:{value:{get(){return this.$route.query.q}}},mounted(){void 0!==this.$route.query.q&&this.$refs.input.focus()},methods:{onInputChange:o()((function(t){if(t&&t.length<3)return;const e={query:{q:t},params:{pageNum:1}};this.$router.push(e)}),500)}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},72209:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.isLoggedIn?e("router-link",{attrs:{to:t.routerLinkTo}},[t._t("default")],2):e("TMLoginLink",[t._t("default")],2)},i=[],a=s(20629),o=s(94223);const r={name:"TMNewPublicationLink",components:{TMLoginLink:o.Z},props:{sandbox:{type:Boolean,default:!1}},computed:{...(0,a.Se)("me",["isLoggedIn"]),routerLinkTo(){return this.sandbox?{name:"PUBLICATION_SANDBOX"}:{name:"PUBLICATION",params:{hl:this.langOptions.hl}}}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},33389:(t,e,s)=>{"use strict";s.d(e,{Z:()=>et});var n=function(){var t=this,e=t._self._c;return t.showBlock?e("TMBlock",{attrs:{"header-variant":"borderless",title:t.msg("NAV_NEWS"),"title-tag":"h2"},scopedSlots:t._u([t.showTypeNav?{key:"block-settings",fn:function(){return[e("TMSmallTabs",{attrs:{"active-tab":t.selection,tabs:t.tabs},on:{change:t.setSelection}})]},proxy:!0}:null],null,!0)},[t._v(" "),e("keep-alive",[e("TMNewsBlockList",{key:t.selection,attrs:{"company-alias":t.companyAlias,"company-title":t.companyTitle,"flow-name":t.flowName,"hub-name":t.hubName,selection:t.selection},on:{"has-news-change":t.setShowBlock}})],1)],1):t._e()},i=[],a=s(76262),o=function(){var t=this,e=t._self._c;return e("TMNewsBlockLayout",{attrs:{"is-loading":t.isLoading,"show-placeholder":!t.pagesCount&&!t.newsItems.length},scopedSlots:t._u([{key:"items",fn:function(){return t._l(t.newsItems,(function(s){return e("TMNewsBlockItem",{key:s.id,staticClass:"tm-news-block__item",attrs:{"news-item":s},on:{"comments-click":function(e){return t.logClick("comments")},"title-click":function(e){return t.logClick("title")}}})}))},proxy:!0},{key:"footer",fn:function(){return[t.showLoadMore?e("button",{staticClass:"tm-news-block__all",attrs:{type:"button"},on:{click:t.onShowMoreClick}},[t._v("\n      "+t._s(t.msg("SHOW_MORE"))+"\n    ")]):e("router-link",{staticClass:"tm-news-block__all",attrs:{to:t.newsRoute},nativeOn:{click:function(e){return t.logClick("all_news")}}},[t._v("\n      "+t._s(t.allNewsText)+"\n    ")])]},proxy:!0}])})},r=[],l=s(20629),c=function(){var t=this,e=t._self._c;return e("li",{staticClass:"tm-news-block-item"},[e("h3",{staticClass:"tm-news-block-item__title"},[e("TMArticleLink",{staticClass:"tm-news-block-item__title-link tm-news-block-item__title",attrs:{article:t.newsItem},nativeOn:{"!click":function(e){return t.$emit("title-click")}}},[e("span",{domProps:{innerHTML:t._s(t.newsItem.titleHtml)}})])],1),t._v(" "),e("div",{staticClass:"tm-news-block-item__meta"},[e("TMDatetime",{staticClass:"tm-news-block-item__date",attrs:{date:new Date(t.newsItem.timePublished),"hide-today":!0,"show-full-date-time":!0}}),t._v(" "),e("TMArticleCommentsLink",{staticClass:"tm-news-block-item__comments-link",attrs:{article:t.newsItem},nativeOn:{"!click":function(e){return t.$emit("comments-click")}}},[e("span",{staticClass:"tm-news-block-item__comments"},[e("TMSvgImg",{staticClass:"tm-news-block-item__comments-icon",attrs:{id:"counter-comments",size:"24"}}),t._v(" "),e("span",[t._v("\n          "+t._s(t.newsItem.statistics.commentsCount)+"\n        ")]),t._v(" "),t.unreadCommentsCount?e("span",{staticClass:"tm-news-block-item__comments_unread"},[t._v("\n          "+t._s(t.unreadCommentsCount)+"\n        ")]):t._e()],1)])],1)])},m=[],u=s(34948),d=s(99682),p=s(34317),_=s(74502),h=s(2813),g=s(13836);const T={name:"TMNewsBlockItem",components:{TMSvgImg:h.Z,TMArticleCommentsLink:d.Z,TMDatetime:_.Z,TMArticleLink:p.Z},props:{newsItem:{type:Object,required:!0}},data(){return{unreadCommentsCount:null}},computed:{...(0,l.Se)("me",["isLoggedIn"])},beforeMount(){if(this.isLoggedIn){const{relatedData:t}=this.newsItem;t&&t.unreadCommentsCount&&(this.unreadCommentsCount=(0,g.j)(t.unreadCommentsCount))}else{const{newsItem:{id:t,statistics:e}}=this;(0,u.U2)(t).then(((t=0)=>{const s=Math.max(e.commentsCount-t,0);s&&(this.unreadCommentsCount=(0,g.j)(s))}))}}},v=T;var f=s(1001),S=(0,f.Z)(v,c,m,!1,null,null,null);const E=S.exports;var C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-news-block-layout"},[e("ul",{staticClass:"tm-news-block-layout__items"},[t.isLoading&&t.showPlaceholder?t._l(t.placeholdersCount,(function(t){return e("li",{key:t,staticClass:"tm-news-block-layout__item"},[e("TMNewsBlockItemPlaceholder")],1)})):t._t("items")],2),t._v(" "),e("div",{staticClass:"tm-news-block-layout__footer"},[t.isLoading&&!t.showPlaceholder?e("TMCircleLoader"):t._t("footer")],2)])},I=[],b=s(97481),A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"news-block-item-placeholder"},[e("div",{staticClass:"news-block-item-placeholder__header",style:{width:`${t.getRandomNumberFromRange(140,300)}px`}}),t._v(" "),e("div",{staticClass:"news-block-item-placeholder__meta",style:{width:`${t.getRandomNumberFromRange(240,280)}px`}})])},y=[],L=s(21509);const P={name:"TMNewsBlockItemPlaceholder",methods:{getRandomNumberFromRange:L.r}},O=P;var R=(0,f.Z)(O,A,y,!1,null,null,null);const N=R.exports,k={name:"TMNewsBlockLayout",components:{TMCircleLoader:b.Z,TMNewsBlockItemPlaceholder:N},props:{isLoading:{type:Boolean,default:!1},showPlaceholder:{type:Boolean,default:!1},placeholdersCount:{type:Number,default:5}}},M=k;var w=(0,f.Z)(M,C,I,!1,null,null,null);const x=w.exports;var D=s(8065),B=s(69811),$=s(54226);function F(t){return(0,B.Hm)((0,$.k)("news/context","v2"),t)}const G=5,U={name:"TMNewsBlockList",components:{TMNewsBlockItem:E,TMNewsBlockLayout:x},props:{selection:{type:String,default:"date",validator:t=>["rating","date"].includes(t)},hasNews:Boolean,companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},flowName:{type:String,default:null},hubName:{type:String,default:null}},data(){return{isLoading:!0,newsItems:[],pagesCount:null,currentOption:"all"}},computed:{...(0,l.Se)("i18n",["langOptions"]),allNewsText(){if(this.companyNews)return this.msg("NEWS_ALL_NEWS_COMPANY",{companyTitle:this.companyTitle});if(this.flowNews){const t=this.flowName.toUpperCase(),e=this.msg(`NAV_FLOW_${t}`);return this.msg("NEWS_ALL_NEWS_FLOW",{flowTitle:e})}return this.msg("NEWS_ALL_NEWS")},newsRouteName(){return this.companyNews?"NEWS_LIST_BY_COMPANY":this.flowNews?"NEWS_LIST_BY_FLOW":"NEWS"},newsRoute(){const t=this.routeHasHash?"#more-news":null;return{name:this.newsRouteName,params:{lang:this.langOptions.hl},...t?{hash:t}:{}}},routeHasHash(){return this.pagesCount>2},companyNews(){return Boolean(this.companyAlias)},flowNews(){return Boolean(this.flowName)},hubNews(){return Boolean(this.hubName)},contextParams(){return this.hubNews?{context_hub_alias:this.hubName}:this.flowNews?{context_flow_alias:this.flowName}:this.companyNews?{context_company_alias:this.companyAlias}:{}},showLoadMore(){return this.pagesCount>1&&this.newsItems.length===G}},mounted(){this.loadNews({pageNum:1})},methods:{loadNews({pageNum:t}){const e={...this.langOptions,...this.contextParams,selection:this.selection,extend_context:!1,per_page:G,page_num:t};this.isLoading=!0,F(e).then((t=>{if(t&&t.articleRefs&&t.articleIds){const e=t.articleIds.map((e=>t.articleRefs[e]));this.newsItems.push(...e),this.pagesCount=t.pagesCount}})).catch((t=>{this.newsItems.length&&this.$toast.error(t.message)})).finally((()=>{this.isLoading=!1,this.$emit("has-news-change",!!this.newsItems.length)}))},onShowMoreClick(){this.logClick("more"),this.loadNews({pageNum:2})},logClick(t){(0,D.Kz)("tm_block","news",t)}}},V=U;var H=(0,f.Z)(V,o,r,!1,null,null,null);const Z=H.exports;var W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-options-switch"},t._l(t.tabs,(function(s){return e("button",{key:s.value,staticClass:"tm-options-switch__item",class:t.bem("tm-options-switch__item",{active:t.isActive(s)}),attrs:{"data-active":t.isActive(s),disabled:t.isActive(s)},on:{click:function(e){return t.select(s)}}},[t._v("\n    "+t._s(s.label)+"\n  ")])})),0)},Y=[],q=s(65873);const j={name:"TMSmallTabs",model:{prop:"activeTab",event:"change"},props:{activeTab:{type:[String,Number],default:null},tabs:{type:Array,required:!0}},methods:{bem:q.P,select(t){this.$emit("change",t.value)},isActive(t){return t.value===this.activeTab}}},K=j;var z=(0,f.Z)(K,W,Y,!1,null,null,null);const Q=z.exports,X={name:"TMNewsBlock",components:{TMSmallTabs:Q,TMBlock:a.Z,TMNewsBlockList:Z},props:{companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},flowName:{type:String,default:null},hubName:{type:String,default:null},showTypeNav:{type:Boolean,default:!0}},data(){return{showBlock:!0,selection:"date"}},computed:{tabs(){return[{value:"date",label:this.msg("NAV_TITLE_LATEST").toLowerCase()},{value:"rating",label:this.msg("NAV_BEST").toLowerCase()}]}},methods:{setSelection(t){this.selection=t;const e="date"===t?"filter_all":"filter_best";this.logEvent(e)},setShowBlock(t){this.showBlock=t},logEvent(t){(0,D.Kz)("tm_block","news",t)}}},J=X;var tt=(0,f.Z)(J,n,i,!1,null,null,null);const et=tt.exports},57713:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-notice",class:`tm-notice_${t.type}`},[t.$slots.icon?e("div",{staticClass:"tm-notice__icon"},[t._t("icon")],2):t._e(),t._v(" "),e("div",{staticClass:"tm-notice__inner"},[t.$slots.title?e("div",{staticClass:"tm-notice__title"},[t._t("title")],2):t._e(),t._v(" "),e("div",{staticClass:"tm-notice__content"},[t._t("default")],2)])])},i=[];function a(t){const e=["info","negative","positive","neutral","warning"];return e.includes(t)}const o={required:!0,type:String,validator:a},r={name:"TMNotice",props:{type:o}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},7508:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-our-projects"},[e("TMServicesIcons",{staticStyle:{display:"none"}}),t._v(" "),e("div",{staticClass:"tm-our-projects__label"},[t._v("\n    "+t._s(t.msg("NAV_PROJECTS_SECTION_LABEL"))+"\n  ")]),t._v(" "),e("div",{staticClass:"tm-our-projects__items"},t._l(t.ourProjects,(function(s,n){return e("a",{key:`${s.name}_${n}`,staticClass:"tm-our-projects__item",attrs:{href:s.url,target:"_blank"}},[e("svg",{staticClass:"tm-our-projects__logo",class:`tm-our-projects__logo${s.logo}`,attrs:{height:s.heightSVG,width:s.widthSVG}},[e("title",[t._v(t._s(s.name))]),t._v(" "),e("use",{attrs:{"xlink:href":s.logo}})]),t._v(" "),t.showDescription?e("span",{staticClass:"tm-our-projects__description"},[t._v("\n        "+t._s(s.description)+"\n      ")]):t._e()])})),0)],1)},i=[],a=s(20629),o=s(62205),r=s(2813);const l="/img/services.76bc6599..svg",c={name:"TMOurProjects",components:{TMSvgIcon:o.Z,TMSvgImg:r.Z,TMServicesIcons:l},props:{showDescription:{type:Boolean,default:!1},useText:{type:Boolean,default:!1}},computed:{...(0,a.Se)("i18n",["msg","langOptions"]),ourProjects(){return[{name:this.msg("NAV_PROJECT_HABR"),description:this.msg("NAV_PROJECT_HABR_DESCR"),logo:`${l}#service-habrcom_ru`,url:"/",widthSVG:"52",heightSVG:"22"},{name:this.msg("NAV_PROJECT_TOSTER"),description:this.msg("NAV_PROJECT_TOSTER_DESCR"),logo:`${l}#service-qna_ru`,url:"https://qna.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"46",heightSVG:"18"},{name:this.msg("NAV_PROJECT_MOYKRUG"),description:this.msg("NAV_PROJECT_MOYKRUG_DESCR"),logo:`${l}#service-career_ru`,url:"https://career.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"84",heightSVG:"21"},{name:this.msg("NAV_PROJECT_FREELANSIM"),description:this.msg("NAV_PROJECT_FREELANSIM_DESCR"),logo:`${l}#service-freelance_ru`,url:"https://freelance.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"91",heightSVG:"21"}]}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},62397:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:()=>t.$emit("close")},expression:"{ esc: () => $emit('close') }"}],staticClass:"tm-overlay"},[e("div",{staticClass:"tm-overlay__background"}),t._v(" "),e("div",{ref:"inner",staticClass:"tm-overlay__inner",attrs:{"data-scroll-target":""},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClick.apply(null,arguments)},mousedown:t.onMousedown}},[t._t("default")],2)])},i=[];const a={name:"TMOverlay",data(){return{mouseTarget:null}},mounted(){this.mouseTarget=this.$refs.inner},methods:{onClick(){this.mouseTarget===this.$refs.inner&&this.$emit("close")},onMousedown(t){this.mouseTarget=t.target}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},71737:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>E});var n=function(){var t=this,e=t._self._c;return e("form",{staticClass:"tm-page-settings-form",on:{submit:t.onSubmit}},[e("div",{staticClass:"tm-page-settings-form__title"},[t._v("\n    "+t._s(t.getTranslation("SETTINGS_TITLE"))+"\n  ")]),t._v(" "),e("TMFieldset",{staticClass:"tm-page-settings-form__fieldset",attrs:{errors:[],title:t.getTranslation("SETTINGS_UI_TITLE")}},[e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{id:"uiRussian","checked-value":"ru",name:"ui"},on:{input:function(e){return t.checkboxCheck()}},model:{value:t.uiLang,callback:function(e){t.uiLang=e},expression:"uiLang"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_LANG_RUSSIAN"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{id:"uiEnglish","checked-value":"en",name:"ui"},on:{input:function(e){return t.checkboxCheck()}},model:{value:t.uiLang,callback:function(e){t.uiLang=e},expression:"uiLang"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_LANG_ENGLISH"))+"\n      ")])],1)]),t._v(" "),e("TMFieldset",{staticClass:"tm-page-settings-form__fieldset",attrs:{errors:t.articlesLangErrors,title:t.getTranslation("SETTINGS_ARTICLES_TITLE")}},[e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMLabeledCheckbox",{attrs:{name:"articlesRussian"},model:{value:t.articlesLangRussian,callback:function(e){t.articlesLangRussian=e},expression:"articlesLangRussian"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FL_LANG_RUSSIAN"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMLabeledCheckbox",{attrs:{name:"articlesEnglish"},model:{value:t.articlesLangEnglish,callback:function(e){t.articlesLangEnglish=e},expression:"articlesLangEnglish"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FL_LANG_ENGLISH"))+"\n      ")])],1)]),t._v(" "),e("TMFieldset",{staticClass:"tm-page-settings-form__fieldset",attrs:{errors:[],title:t.getTranslation("SETTINGS_FEED")}},[e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"cards",name:"feed"},model:{value:t.feed,callback:function(e){t.feed=e},expression:"feed"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FEED_CLASSIC"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"list",name:"feed"},model:{value:t.feed,callback:function(e){t.feed=e},expression:"feed"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FEED_COMPACT"))+"\n      ")])],1)]),t._v(" "),e("p",{staticClass:"tm-page-settings-form__controls"},[e("TMButtonBase",{staticClass:"tm-page-settings-form__submit",attrs:{disabled:Boolean(t.articlesLangErrors.length),"style-size":"large","style-type":"solid",type:"submit"}},[t._v("\n      "+t._s(t.getTranslation("SETTINGS_ACTION_SAVE"))+"\n    ")])],1)],1)},i=[],a=s(20629),o=s(46940),r=s.t(o,2),l=s(30089),c=s(44310),m=s(75070),u=s(52322),d=s(46155),p=s(46100);function _(t){return(0,u.d8)("fl",t,{expires:365})}function h(t){return(0,u.d8)("hl",t,{expires:365})}var g=s(19516);const T={name:"TMPageSettingsForm",components:{TMButtonBase:l.Z,TMFieldset:c.Z,TMInputRadioLabeled:d.Z,TMLabeledCheckbox:m.Z},data(){return{feed:this.$store.state.articlesList.view,isDirtyLang:!1}},computed:{articlesLangEnglish:(0,p.X)("articlesLangEnglish"),articlesLangRussian:(0,p.X)("articlesLangRussian"),uiLang:(0,p.X)("uiLang"),cookieFl(){return(0,u.ej)("fl")},...(0,a.Se)("i18n",["isEnglishContentEnabled","isRussianContentEnabled","msg"]),...(0,a.rn)("i18n",["hl","fl"]),...(0,a.rn)("settingsOther",["inputs"]),...(0,a.Se)("me",["isLoggedIn"]),...(0,a.Se)("settingsOther",["formData"]),...(0,a.rn)("global",["isPwa"]),...(0,a.rn)("articlesList",["view"]),articlesLangErrors(){return this.articlesLangEnglish||this.articlesLangRussian?[]:[this.getTranslation("SETTINGS_ARTICLES_ERROR")]}},beforeMount(){this.markDataLoaded()},mounted(){const t=[{name:"articlesLangEnglish",value:this.isEnglishContentEnabled},{name:"articlesLangRussian",value:this.isRussianContentEnabled},{name:"uiLang",value:this.hl}];t.forEach((({name:t,value:e})=>{this.setInputValue({name:t,value:e})}))},methods:{...(0,a.nv)("settingsOther",["setInputValue"]),...(0,a.nv)("ssr",["markDataLoaded"]),...(0,a.nv)("articlesList",["setArticleView"]),getTranslation(t){return this.uiLang?r[this.uiLang][t]:this.msg(t)},checkboxCheck(){if(!this.cookieFl){const t={ru:"articlesLangRussian",en:"articlesLangEnglish"};Object.keys(t).forEach((e=>{this.setInputValue({name:t[e],value:e===this.uiLang})}))}},reloadThePage(){this.isPwa?window.location="/pwa":window.location.reload(!0)},onSubmit(t){if(t.preventDefault(),!this.articlesLangErrors.length)if(this.feed!==this.view&&this.setArticleView({view:this.feed}),this.formData.fl!==this.fl||this.formData.hl!==this.hl)if(_(this.formData.fl),h(this.formData.hl),this.isLoggedIn){const t={hl:this.formData.hl,fl:[...this.articlesLangEnglish?["en"]:[],...this.articlesLangRussian?["ru"]:[]]};(0,g.KE)(t).then((()=>this.reloadThePage())).catch((t=>this.$toast.error(t)))}else this.reloadThePage();else this.$emit("closePopup")}}},v=T;var f=s(1001),S=(0,f.Z)(v,n,i,!1,null,null,null);const E=S.exports},47614:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-page-width",class:{"tm-page-width_no-padding":t.noPadding,"tm-page-width_full-width":t.fullWidth}},[t._t("default")],2)},i=[];const a={name:"TMPageWidth",props:{noPadding:{type:Boolean,default:!1},fullWidth:Boolean}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},39617:(t,e,s)=>{"use strict";s.d(e,{Z:()=>E});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-page",class:{"tm-page_wide":t.wide,"tm-page_no-top-margin":t.noTopMargin}},[e(t.wide?"div":"TMPageWidth",{tag:"component",attrs:{"no-padding":t.isTablet}},[t.$slots.header?e("div",{staticClass:"tm-page__header"},[t._t("header")],2):t._e(),t._v(" "),e("div",{staticClass:"tm-page__wrapper"},[e("div",{staticClass:"tm-page__main",class:{"tm-page__main_has-sidebar":Boolean(t.$slots.sidebar)}},[e("TMPullToRefresh",{attrs:{config:{pullDownHeight:60},"on-refresh":t.refreshData}},[t._t("default")],2)],1),t._v(" "),t.$slots.sidebar?e("div",{staticClass:"tm-page__sidebar"},[t._t("sidebar")],2):t._e()])])],1)},i=[],a=s(20629),o=s(47614),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pull-down"},[e("div",{staticClass:"pull-down__header",style:{height:t.pullDown.height+"px"}},[e("div",{staticClass:"pull-down__content",style:t.pullDownContentStyle},[t.isLoading?e("TMSvgImg",{staticClass:"icon_refresh pull-down_circle-animate",attrs:{id:"refresh",size:"24"}}):e("TMSvgImg",{class:t.labelClass,attrs:{id:"pull-arrow",size:"24"}})],1)]),t._v(" "),t._t("default")],2)},l=[],c=s(2813);const m={ERROR:-1,START:0,READY:1,REFRESH:2},u={error:"",start:"pull-down__arrow",ready:"pull-down__arrow_down",loading:""},d="height .2s ease",p={name:"TMPullToRefresh",components:{TMSvgImg:c.Z},props:{onRefresh:{type:Function,required:!0},config:{type:Object,default:()=>{}}},data(){return{pullDown:{status:0,height:0,msg:""},canPull:!1,currentConfig:this.config,lastY:null,touchPosition:{start:0,distance:0}}},computed:{label(){return this.pullDown.status===m.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},isLoading(){return this.pullDown.status===m.REFRESH},labelClass(){return this.pullDown.status===m.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},customLabels(){const t=void 0!==this.currentConfig.errorLabel?this.currentConfig.errorLabel:u.error,e=void 0!==this.currentConfig.startLabel?this.currentConfig.startLabel:u.start,s=void 0!==this.currentConfig.readyLabel?this.currentConfig.readyLabel:u.ready,n=void 0!==this.currentConfig.loadingLabel?this.currentConfig.loadingLabel:u.loading;return[t,e,s,n]},pullDownContentStyle(){return{bottom:(this.currentConfig.pullDownHeight-40)/2+"px"}}},mounted(){this.$nextTick((()=>{const t=this.$el,e=this.$el.querySelector(".pull-down__header");this.currentConfig.pullDownHeight=this.currentConfig.pullDownHeight||60,t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),t.addEventListener("touchend",this.handleTouchEnd),e.addEventListener("transitionend",this.handleTransitionEnd)}))},beforeDestroy(){const t=this.$el,e=this.$el.querySelector(".pull-down__header");t.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.removeEventListener("touchmove",this.handleTouchMove,{passive:!0}),t.removeEventListener("touchend",this.handleTouchEnd),e.removeEventListener("transitionend",this.handleTransitionEnd)},methods:{resetPullDown(t,e){const s=this.$el.querySelector(".pull-down__header"),n=t;e&&(s.style.transition=d),n.height=0,n.status=m.START},handleTouchStart(t){const e=window.scrollY<20,{baseOffset:s,focusOffset:n}=document.getSelection(),i=s!==n;this.canPull=e&&!i,this.touchPosition.start=t.touches.item(0).pageY,this.lastY=t.touches.item(0).pageY},handleTouchMove(t){const{currentY:e}=t.touches.item(0);if(!this.canPull||e>this.lastY)return void(this.lastY=e);let s=t.touches.item(0).pageY-this.touchPosition.start;s=s>80?80:s,s>10&&document.documentElement.setAttribute("data-pulling",!0),this.touchPosition.distance=s,this.pullDown.height=s,s>this.currentConfig.pullDownHeight?this.pullDown.status=m.READY:this.pullDown.status=m.START,this.lastY=e},handleTouchEnd(){const t=this.$el.querySelector(".pull-down__header");if(this.canPull=!1,t.style.transition=d,this.touchPosition.distance-this.$el.scrollTop>this.currentConfig.pullDownHeight)if(this.$el.scrollTop=0,this.pullDown.height=this.currentConfig.pullDownHeight,this.pullDown.status=m.REFRESH,this.onRefresh&&"function"===typeof this.onRefresh){const t=this.onRefresh();t&&t.then&&"function"===typeof t.then?t.then((()=>{this.resetPullDown(this.pullDown,!0)}),(t=>{let e=t;"string"!==typeof e&&(e=!1),this.pullDown.msg=e||this.customLabels[0],this.pullDown.status=m.ERROR,setTimeout((()=>{this.resetPullDown(this.pullDown,!0)}),1e3)})):this.resetPullDown(this.pullDown)}else this.resetPullDown(this.pullDown),console.warn("please use :on-refresh to pass onRefresh callback");else this.resetPullDown(this.pullDown);this.touchPosition.distance=0,this.touchPosition.start=0},handleTransitionEnd(){const t=this.$el.querySelector(".pull-down__header");t.style.transition=""}}},_=p;var h=s(1001),g=(0,h.Z)(_,r,l,!1,null,null,null);const T=g.exports,v={name:"TMPage",components:{TMPullToRefresh:T,TMPageWidth:o.Z},props:{wide:{type:Boolean,default:!1},noTopMargin:{type:Boolean,default:!1}},computed:{...(0,a.rn)("i18n",["hl"]),...(0,a.rn)("global",["isPwa"]),...(0,a.Se)("global",["isMobile","isTablet"])},methods:{...(0,a.nv)("pullRefresh",["toggleRefresh"]),refreshData(){return this.error&&this.$store.dispatch("ssr/reset"),this.toggleRefresh(!0),new Promise((t=>{setTimeout((()=>{t()}),1e3)}))}}},f=v;var S=(0,h.Z)(f,n,i,!1,null,null,null);const E=S.exports},40416:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return t.showPagination?e("div",{staticClass:"tm-pagination"},[e(t.navigation.prev?"router-link":"div",{key:"decrementLink",tag:"component",staticClass:"tm-pagination__navigation-link",class:{"tm-pagination__navigation-link_active":t.navigation.prev},attrs:{id:"pagination-prev-page","data-pagination-prev":"",event:"",rel:"prev",to:t.navigation.prev},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(t.navigation.prev)}}},[e("TMSvgImg",{staticClass:"tm-pagination__arrow tm-pagination__arrow_prev",attrs:{id:"arrow-back",size:"16"}}),t._v(" "),e("span",{staticClass:"tm-pagination__navigation-link-title"},[t._v("\n      "+t._s(t.msg("NAV_PREV_PAGE"))+"\n    ")])],1),t._v(" "),e("div",{staticClass:"tm-pagination__pages"},[t._l(t.previousPages,(function(s,n){return e("div",{key:n+"prev",staticClass:"tm-pagination__page-group"},[t._l(s,(function(s){return e("router-link",{key:s.title,staticClass:"tm-pagination__page",attrs:{event:"",to:s.route},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(s.route)}}},[t._v("\n        "+t._s(s.title)+"\n      ")])})),t._v(" "),0===n&&t.previousPages.length>1?e("span",{key:"skip-prev",staticClass:"tm-pagination__page tm-pagination__page_skip"},[t._v("\n        ...\n      ")]):t._e()],2)})),t._v(" "),e("span",{staticClass:"tm-pagination__page tm-pagination__page_current"},[t._v("\n      "+t._s(t.currentRoutePage)+"\n    ")]),t._v(" "),t._l(t.nextPages,(function(s,n){return e("div",{key:n+"next",staticClass:"tm-pagination__page-group"},[t._l(s,(function(s){return e("router-link",{key:s.title,staticClass:"tm-pagination__page",attrs:{event:"",to:s.route},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(s.route)}}},[t._v("\n        "+t._s(s.title)+"\n      ")])})),t._v(" "),0===n&&t.nextPages.length>1?e("span",{key:"skip-next",staticClass:"tm-pagination__page tm-pagination__page_skip"},[t._v("\n        ...\n      ")]):t._e()],2)}))],2),t._v(" "),e(t.navigation.next?"router-link":"div",{key:"incrementLink",tag:"component",staticClass:"tm-pagination__navigation-link",class:{"tm-pagination__navigation-link_active":t.navigation.next},attrs:{id:"pagination-next-page","data-pagination-next":"",event:"",rel:"next",to:t.navigation.next},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(t.navigation.next)}}},[e("span",{staticClass:"tm-pagination__navigation-link-title"},[t._v("\n      "+t._s(t.msg("NAV_NEXT_PAGE"))+"\n    ")]),t._v(" "),e("TMSvgImg",{staticClass:"tm-pagination__arrow tm-pagination__arrow_next",attrs:{id:"arrow-back",size:"16"}})],1)],1):t._e()},i=[],a=s(20629),o=s(2813);const r=t=>e=>({route:{...t,params:{pageNum:e}},title:e}),l={name:"TMPagination",components:{TMSvgImg:o.Z},props:{currentPage:{type:Number,default:null},routeName:{type:String,default:null},totalPages:{type:Number,required:!0},pagePadding:{type:Number,default:2},pagePaddingMobile:{type:Number,default:1}},computed:{...(0,a.rn)("global",["isPwa"]),route(){return{name:this.routeName||this.$route.name,query:this.$route.query}},navigation(){return{prev:this.currentRoutePage>1?{...this.route,params:{pageNum:this.currentRoutePage-1}}:null,next:this.isLastPage?null:{...this.route,params:{pageNum:this.currentRoutePage+1}}}},currentRoutePage(){return this.currentPage||Number(this.$route.params.pageNum)||1},isLastPage(){return this.currentRoutePage===this.totalPages},showPagination(){return this.totalPages>1},previousPages(){const{route:t,currentRoutePage:e,responsivePadding:s}=this;if(1===e)return[];const n=r(t);if(e-1-2*s<=1){const t=[];for(let s=1;s<e;s+=1)t.push(n(s));return[t]}const i=[];for(let o=1;o<=s;o+=1)i.push(n(o));const a=[];for(let o=e-s;o<e;o+=1)a.push(n(o));return[i,a]},nextPages(){const{route:t,currentRoutePage:e,responsivePadding:s,totalPages:n}=this;if(e===n)return[];const i=r(t);if(e+2*s>=n-1){const t=[];for(let s=e+1;s<=n;s+=1)t.push(i(s));return[t]}const a=[];for(let r=e+1;r<=e+s;r+=1)a.push(i(r));const o=[];for(let r=n-s+1;r<=n;r+=1)o.push(i(r));return[a,o]},...(0,a.Se)("global",["isMobile"]),responsivePadding(){const{pagePadding:t,pagePaddingMobile:e}=this;return this.isMobile?e:t}},methods:{handlePaginationClick(t){this.isPwa?this.$router.replace(t):this.$router.push(t)}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},27687:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return t.showPinnedPost?e("div",{staticClass:"tm-pinned-post"},[e("div",{staticClass:"tm-pinned-post__toggle",on:{click:t.togglePinnedPost}},[e("TMSvgImg",{staticClass:"tm-pinned-post__icon",attrs:{id:"pin"}}),t._v(" "),e("span",{staticClass:"tm-pinned-post__toggle-title",domProps:{innerHTML:t._s(t.pinnedPost.expanded?t.msg("PINNED_POST"):t.pinnedPost.title)}}),t._v(" "),e("TMSvgImg",{staticClass:"tm-pinned-post__icon tm-pinned-post__icon_collapse",attrs:{id:t.pinnedPost.expanded?"collapse_pin":"expand"}})],1),t._v(" "),t.pinnedPost.expanded?e("a",{staticClass:"tm-pinned-post__info",attrs:{href:t.pinnedPost.link},on:{click:function(e){return t.logClickEvent({category:"tm_block",action:"top_post",label:"go"})}}},[e("div",{staticClass:"tm-pinned-post__text"},[e("h2",{staticClass:"tm-pinned-post__title",domProps:{innerHTML:t._s(t.pinnedPost.title)}}),t._v(" "),e("div",{staticClass:"tm-pinned-post__descr",domProps:{innerHTML:t._s(t.pinnedPost.description)}})]),t._v(" "),e("img",{staticClass:"tm-pinned-post__image",attrs:{src:t.pinnedPost.image}})]):t._e()]):t._e()},i=[],a=s(20629),o=s(52322),r=s(2813),l=s(37522),c=s(8065);const m="habr-web-collapsed-pinned",u={name:"TMPinnedPost",components:{TMSvgImg:r.Z},asyncData({store:t}){return"en"===t.getters["i18n/langOptions"].fl?Promise.resolve():t.dispatch("pinnedPost/loadPinnedPost").catch((t=>{(0,l.T)(t)}))},computed:{...(0,a.rn)("pinnedPost",["pinnedPost"]),showPinnedPost(){const t=this.$route.meta&&this.$route.meta.showPinnedPost;return this.pinnedPost&&t}},methods:{...(0,a.nv)("pinnedPost",["setExpanded"]),logClickEvent:({category:t,action:e,label:s})=>(0,c.Kz)(t,e,s),togglePinnedPost(){const t=!this.pinnedPost.expanded;this.setExpanded(t),this.pinnedPost.expanded||this.logClickEvent({category:"tm_block",action:"top_post",label:"close"}),(0,o.d8)(m,t?null:this.pinnedPost.id,{expires:365})}}},d=u;var p=s(1001),_=(0,p.Z)(d,n,i,!1,null,null,null);const h=_.exports},76437:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",["article"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-article-${s}`,class:`tm-placeholder tm-placeholder_article tm-placeholder_article_${t.modificator}`},[t._m(0,!0),t._v(" "),t._l(2,(function(n){return e("div",{key:`placeholder-article-title-${s}-${n}`,class:`\n          tm-placeholder__article-title\n          tm-placeholder__article-title_${t.modificator}\n          loads\n        `})})),t._v(" "),"preview"===t.modificator?e("div",{staticClass:"tm-placeholder__counters"},t._l(4,(function(t){return e("div",{key:`placeholder-icon-${t}`,staticClass:"tm-placeholder__icon loads"})})),0):t._e(),t._v(" "),"article-comments"===t.modificator?e("div",{staticClass:"tm-placeholder__counters"},t._l(3,(function(t){return e("div",{key:`placeholder-icon-${t}`,staticClass:"tm-placeholder__icon loads"})})),0):t._e()],2)})):t._e(),t._v(" "),"articleBody"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_article-body"},[e("div",{staticClass:"tm-placeholder__article-img loads"}),t._v(" "),t._l(20,(function(s){return e("div",{key:`placeholder-article-body-${s}`,staticClass:"tm-placeholder__line loads",style:`width:${t.generateRandomWidth(80,100)}%;`})}))],2):t._e(),t._v(" "),"hubs"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_hubs"},t._l(t.times,(function(t){return e("div",{key:`placeholder-hub-${t}`,staticClass:"tm-placeholder__hub loads"})})),0):t._e(),t._v(" "),"categories"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_categories"},t._l(t.times,(function(s){return e("div",{key:`placeholder-category-${s}`,staticClass:"tm-placeholder__category"},[e("div",{staticClass:"tm-placeholder__category-avatar"}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-info"},[e("span",{staticClass:"tm-placeholder__category-name",style:`width: ${t.generateRandomWidth(38,200)}px`}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-desctiption",style:`width: ${t.generateRandomWidth(50,110)}px`})])])})),0):t._e(),t._v(" "),"preset"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-preset-${s}`,staticClass:"tm-placeholder tm-placeholder_preset"},[e("div",{staticClass:"tm-placeholder__preset-header"},[e("div",{staticClass:"tm-placeholder__preset-title loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__preset-icons"},t._l(2,(function(t){return e("div",{key:`placeholder-preset-icon-${t}`,staticClass:"tm-placeholder__preset-icon tm-placeholder__icon loads"})})),0)]),t._v(" "),t._l(3,(function(s){return e("div",{key:`placeholder-preset-line-${s}`,staticClass:"tm-placeholder__line loads",style:`width:${t.generateRandomWidth(80,100)}%;`})})),t._v(" "),e("div",{staticClass:"tm-placeholder__preset-button loads"})],2)})):t._e(),t._v(" "),"conversations"===t.type?e("div",{staticClass:"tm-placeholder__conversations"},t._l(t.times,(function(s){return e("div",{key:`placeholder-conversations-${s}`,class:`\n        tm-placeholder\n        tm-placeholder__conversation\n        tm-placeholder__conversation_${t.modificator}\n      `},[e("div",{staticClass:"tm-placeholder__conversation-userpic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__conversation-body"},[e("div",{staticClass:"tm-placeholder__conversation-meta"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_username loads",style:`width:${t.generateRandomWidth(5,20)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_date loads",style:`width:${t.generateRandomWidth(5,20)}%;`})]),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_conversations loads",style:`width:${t.generateRandomWidth(60,80)}%;`})])])})),0):t._e(),t._v(" "),"messages"===t.type?e("div",{staticClass:"tm-placeholder__messages"},t._l(t.times,(function(s){return e("div",{key:`placeholder-messages-${s}`,class:`tm-placeholder tm-placeholder__message tm-placeholder__message_${t.modificator}`},[e("div",{staticClass:"tm-placeholder__message-meta"},[e("div",{staticClass:"tm-placeholder__message-userpic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_message-date loads",style:`width:${t.generateRandomWidth(5,20)}%;`})]),t._v(" "),t._l(3,(function(s){return e("div",{key:`placeholder-message-line-${s}`,staticClass:"tm-placeholder__line tm-placeholder__line_messages loads",style:`width:${t.generateRandomWidth(80,100)}%;`})}))],2)})),0):t._e(),t._v(" "),"static"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_static"},[t._m(1),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-tabs"},t._l(3,(function(s){return e("div",{key:`placeholder-preset-static-${s}`,staticClass:"tm-placeholder__static-page-tab loads",style:`width:${t.generateRandomWidth(80,100)}px;`})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content"},[e("div",{staticClass:"tm-placeholder__static-page-content-headling loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(60,80)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(12,(function(s){return e("div",{key:`placeholder-preset-static-2-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(6,(function(s){return e("div",{key:`placeholder-preset-static-3-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0)])]):t._e(),t._v(" "),"static_section_name"===t.type?e("div",{staticClass:"tm-placeholder__static-page-section-name"},[e("div",{staticClass:"tm-placeholder__static-page-headling loads"})]):t._e(),t._v(" "),"static_dropdown"===t.type?e("div",{staticClass:"tm-placeholder__static-page-tabs"},[e("div",{staticClass:"tm-placeholder__static-page-headling loads"})]):t._e(),t._v(" "),"static_tabs"===t.type?e("div",{staticClass:"tm-placeholder__static-page-tabs"},t._l(3,(function(s){return e("div",{key:`placeholder-preset-static-${s}`,staticClass:"tm-placeholder__static-page-tab loads",style:`width:${t.generateRandomWidth(80,100)}px;`})})),0):t._e(),t._v(" "),"static_article"===t.type?e("div",{staticClass:"tm-placeholder__static-page-content"},[e("div",{staticClass:"tm-placeholder__static-page-content-headling loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(60,80)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(12,(function(s){return e("div",{key:`ps-text-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(6,(function(s){return e("div",{key:`ps-text-2-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0)]):t._e(),t._v(" "),"comment"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-article-${s}`,class:`tm-placeholder tm-placeholder__comment tm-placeholder__comment_${t.modificator}`},["user-comment"===t.modificator?e("div",{staticClass:"tm-placeholder__comment-article"},t._l(2,(function(t){return e("div",{key:`placeholder-article-title-${s}-${t}`,class:"tm-placeholder__article-title loads"})})),0):t._e(),t._v(" "),t._m(2,!0),t._v(" "),t._l(2,(function(n){return e("div",{key:`placeholder-article-title-${s}-${n}`,staticClass:"tm-placeholder__article-title loads",style:`width:${t.generateRandomWidth(80,100)}%;`})}))],2)})):t._e(),t._v(" "),"form"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-form-${s}`,staticClass:"tm-placeholder loads",class:t.bem("tm-placeholder__form",{modificator:t.modificator})})})):t._e(),t._v(" "),"profileInfo"===t.type?t._l(12,(function(s){return e("div",{key:`placeholder-form-${s}`,staticClass:"tm-placeholder tm-placeholder__line loads",style:`width:${t.generateRandomWidth(20,80)}%;`})})):t._e(),t._v(" "),"userProfileCard"===t.type?[e("div",{staticClass:"tm-placeholder tm-placeholder_user-profile"},[t._m(3),t._v(" "),e("div",{staticClass:"tm-placeholder__category-info"},[e("span",{staticClass:"tm-placeholder__category-name",style:`width: ${t.generateRandomWidth(38,300)}px`}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:`width: ${t.generateRandomWidth(50,210)}px`})])]),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-tabs"},t._l(4,(function(s){return e("div",{key:`placeholder-preset-static-${s}`,staticClass:"tm-placeholder__static-page-tab loads",style:`width:${t.generateRandomWidth(80,100)}px;`})})),0)]:t._e(),t._v(" "),"hubProfileCard"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_user-profile"},[t._m(4),t._v(" "),e("div",{staticClass:"tm-placeholder__category-info"},[e("span",{staticClass:"tm-placeholder__category-name",style:`width: ${t.generateRandomWidth(38,300)}px`}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:`width: ${t.generateRandomWidth(50,210)}px`})])]):t._e(),t._v(" "),"inset_salary"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-salary"},[t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7)]):t._e(),t._v(" "),"inset_tasks"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-tasks"},[t._m(8),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t._m(9,!0),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(10)]):t._e(),t._v(" "),"inset_questions"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-questions"},[t._m(11),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"}),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(12)]):t._e(),t._v(" "),"inset_courses"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-courses"},[t._m(13),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t._m(14,!0),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(15)]):t._e(),t._v(" "),"inset_vacancies"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-vacancies"},[t._m(16),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t._m(17,!0),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(18)]):t._e(),t._v(" "),"promo_block"===t.type?e("div",{staticClass:"tm-placeholder-promo"},[t._m(19),t._v(" "),t._m(20)]):t._e(),t._v(" "),"articleCards"===t.type?e("div",{staticClass:"tm-placeholder-article-cards"},t._l(t.times,(function(s){return e("div",{key:s,staticClass:"tm-placeholder-article-card"},[t._m(21,!0),t._v(" "),t._m(22,!0),t._v(" "),e("div",{staticClass:"tm-placeholder-article-card__icons tm-placeholder__counters"},t._l(4,(function(s){return e("div",{key:`placeholder-icon-${s}`,staticClass:"tm-placeholder-data-icon"},[e("div",{staticClass:"tm-placeholder__icon tm-placeholder__icon_large loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_icon-text"})])})),0)])})),0):t._e(),t._v(" "),"gallery"===t.type?[e("div",{staticClass:"tm-placeholder tm-placeholder_gallery"},[e("div",{staticClass:"tm-placeholder__gallery-thumbs"},t._l(4,(function(t){return e("div",{key:`placeholder-gallery-thumb-${t}`,staticClass:"tm-placeholder__gallery-thumb loads"})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__gallery-body loads"})])]:t._e(),t._v(" "),"banner"===t.type?[e("div",{staticClass:"tm-placeholder tm-placeholder_banner loads"})]:t._e(),t._v(" "),"table"===t.type?e("div",{staticClass:"tm-placeholder-table"},t._l(t.times,(function(s){return e("div",{key:s,staticClass:"tm-placeholder-table__row"},t._l(t.extra,(function(t,s){return e("div",{key:s,staticClass:"tm-placeholder__line loads",style:t?{flexBasis:`${t}px`}:{flexShrink:"1"}})})),0)})),0):t._e(),t._v(" "),"line"===t.type?e("div",{staticClass:"tm-placeholder__line loads"}):t._e()],2)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user"},[e("div",{staticClass:"tm-placeholder__user-pic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-date loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__static-page-section-name"},[e("div",{staticClass:"tm-placeholder__static-page-headling loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user"},[e("div",{staticClass:"tm-placeholder__user-pic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-date loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-score loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user-profile-data"},[e("div",{staticClass:"tm-placeholder__category-avatar tm-placeholder__userinfo-avatar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user-profile-data"},[e("div",{staticClass:"tm-placeholder__category-avatar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-salary__body"},[e("div",{staticClass:"tm-placeholder-salary__text"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_salary_average"}),t._v(" "),e("div",{staticClass:"tm-placeholder-salary__description"},[e("div",{staticClass:"tm-placeholder__line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line loads"})])]),t._v(" "),e("div",{staticClass:"tm-placeholder-salary__image loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer tm-placeholder-inset__footer_salary"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-list__title-container"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-list__title-container"},[e("div",{staticClass:"tm-placeholder__company-avatar"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-list__title-container"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-promo__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_promo-title"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-promo__body"},[e("div",{staticClass:"tm-placeholder-promo__posts"},[e("div",{staticClass:"tm-placeholder-promo__post"},[e("div",{staticClass:"tm-placeholder-promo__image"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_post-title"})]),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__post"},[e("div",{staticClass:"tm-placeholder-promo__image"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_post-title"})]),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__post"},[e("div",{staticClass:"tm-placeholder-promo__image"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_post-title"})])]),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__dots"},[e("div",{staticClass:"tm-placeholder-promo__dot"}),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__dot"}),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__dot"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user"},[e("div",{staticClass:"tm-placeholder__user-pic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-date loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-article-card__title"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder-article-card__title-line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder-article-card__title-line loads"})])}],a=s(65873),o=s(21509);const r={article:!0,articleBody:!0,articleCards:!0,hubs:!0,categories:!0,preset:!0,conversations:!0,messages:!0,static:!0,static_section_name:!0,static_dropdown:!0,static_tabs:!0,static_article:!0,comment:!0,form:!0,profileInfo:!0,userProfileCard:!0,hubProfileCard:!0,inset_salary:!0,inset_tasks:!0,inset_questions:!0,inset_courses:!0,inset_vacancies:!0,promo_block:!0,gallery:!0,banner:!0,table:!0,line:!0},l={name:"TMPlaceholder",props:{type:{type:String,validator(t){return t in r},default:null},times:{type:Number,default:1},modificator:{type:String,default:""},extra:{type:null,default:null}},methods:{generateRandomWidth:o.r,bem:a.P}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},26887:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:()=>t.$emit("close")},expression:"{ esc: () => $emit('close') }"}],ref:"wrapper",staticClass:"tm-popover",class:t.bem("tm-popover",{variant:t.variant})},[t._t("default")],2)},i=[],a=s(95551),o=s(65873);const r={name:"TMPopover",props:{placement:{type:String,default:"bottom-start"},offset:{type:Array,default:()=>[0,8]},root:{type:"undefined"===typeof window?null:HTMLElement,required:!0},variant:{type:String,default:null}},data(){return{popper:null}},mounted(){document.addEventListener("click",this.handleOuterClick),this.popper=(0,a.fi)(this.root,this.$refs.wrapper,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}}]})},beforeDestroy(){if(document.removeEventListener("click",this.handleOuterClick),!this.popper)return;const t=this.$refs.wrapper;getComputedStyle(t).transition?(t.addEventListener("transitionend",(()=>{this.popper.destroy()})),t.addEventListener("transitioncancel",(()=>{this.popper.destroy()}))):this.popper.destroy()},methods:{bem:o.P,handleOuterClick(t){this.root.contains(t.target)||this.$refs.wrapper.contains(t.target)||this.$emit("close")}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},27481:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMOverlay",{on:{close:t.close}},[e("div",{staticClass:"tm-popup-base__wrapper",class:t.bem("tm-popup-base__wrapper",{centered:t.centered})},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.close},expression:"{ esc: close }"}],staticClass:"tm-popup-base__close",on:{click:t.close}},[e("TMSvgImg",{staticClass:"tm-popup-base__close-icon",attrs:{id:"close"}})],1),t._v(" "),e("div",{staticClass:"tm-popup-base__body"},[t._t("default")],2)])])},i=[],a=s(62397),o=s(2813),r=s(65873);const l={name:"TMPopupBase",components:{TMOverlay:a.Z,TMSvgImg:o.Z},props:{centered:{type:Boolean,default:!1}},methods:{bem:r.P,close(){this.$emit("close")}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},40969:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>g});var n=function(){var t=this,e=t._self._c;return e("TMPopup",{attrs:{title:t.msg("ARTICLE_DONATE_POPUP")},on:{close:function(e){return t.$emit("close")}}},t._l(t.payments,(function(s){return e("div",{key:s,staticClass:"tm-popup__item-payment"},[e("a",{staticClass:"tm-popup__link-payment",attrs:{href:t.getUrl(s),target:"_blank"},on:{click:t.logGa}},[t._v("\n      "+t._s(t.getTitle(s))+"\n    ")])])})),0)},i=[],a=s(20629),o=s(71737),r=s(47840),l=s(2813),c=s(8065);const m={paymentWebmoney:"SETTINGS_PROFILE_WEBMONEY",paymentPayPalMe:"SETTINGS_PROFILE_PAYPAL",paymentYandexMoney:"SETTINGS_PROFILE_YANDEX_MONEY"},u={paymentWebmoney:"https://pay.web.money/",paymentPayPalMe:"https://www.paypal.me/",paymentYandexMoney:"https://yoomoney.ru/to/"},d={name:"TMPopupPayments",components:{TMPageSettingsForm:o["default"],TMSvgImg:l.Z,TMPopup:r.Z},computed:{...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("me",["userAlias"]),article(){return this.getArticleById(this.$route.params.id)},payments(){const t=[],{paymentDetails:e}=this.article.author;return e&&Object.keys(e).forEach((s=>{e[s]&&t.push(s)})),t}},methods:{logGa(){(0,c.Kz)("donation","pay_receiver",this.article.author.alias),(0,c.Kz)("donation","pay_sender",this.userAlias||"%guest%")},getUrl(t){return`${u[t]}${this.article.author.paymentDetails[t]}`},getTitle(t){return this.msg(m[t])}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},47840:(t,e,s)=>{"use strict";s.d(e,{Z:()=>S});var n=function(){var t=this,e=t._self._c;return!t.isTablet&&t.isMobile?e("TMScrollLockTransition",{attrs:{appear:"",name:"slide-fade"}},[e("TMBottomSheet",{attrs:{title:t.title},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},[t._t("default")],2)],1):e("TMScrollLockTransition",{attrs:{appear:"",name:"transition-fade"}},[e("TMModalWindow",{attrs:{title:t.title},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},[t._t("default")],2)],1)},i=[],a=s(20629),o=s(46768),r=function(){var t=this,e=t._self._c;return e("TMOverlay",{on:{close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"tm-modal-window"},[e("div",{staticClass:"tm-modal-window__header"},[e("button",{staticClass:"tm-modal-window__close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("TMSvgImg",{attrs:{id:"close",size:"12"}})],1),t._v(" "),t.title?e("div",{staticClass:"tm-modal-window__title",domProps:{textContent:t._s(t.title)}}):t._e()]),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-modal-window__content"},[t._t("default")],2):t._e(),t._v(" "),t._t("body")],2)])},l=[],c=s(62397),m=s(2813);const u={name:"TMModalWindow",components:{TMSvgImg:m.Z,TMOverlay:c.Z},props:{title:{type:String,default:null}}},d=u;var p=s(1001),_=(0,p.Z)(d,r,l,!1,null,null,null);const h=_.exports;var g=s(75817);const T={name:"TMPopup",components:{TMModalWindow:h,TMBottomSheet:o.Z,TMScrollLockTransition:g.Z},props:{title:{type:String,default:null}},computed:{...(0,a.Se)("global",["isMobile","isTablet"])}},v=T;var f=(0,p.Z)(v,n,i,!1,null,null,null);const S=f.exports},73814:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tm-project-block-items"},t._l(t.preparedItems,(function(s,n){return e("li",{key:n,staticClass:"tm-project-block-items__item"},[e("a",{staticClass:"tm-project-block-items__detail tm-project-block-items__title",attrs:{href:t.getItemUrl(s),rel:"noopener",target:"_blank"},on:{click:function(e){return t.$emit("click",e)}}},[t.imageVisible&&s.imageUrl?e("img",{staticClass:"tm-project-block-items__image",attrs:{alt:"",src:s.imageUrl}}):t._e(),t._v(t._s(s.title)+"\n    ")]),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(s.properties,(function(s){return e("span",{key:s,staticClass:"tm-project-block-items__property-item"},[t._v(t._s(s))])})),0)])})),0)},i=[],a=s(20629),o=s(72923),r=s.n(o);const l=t=>t.every((t=>{const e=r().map(t,{itemUrl:r().nonEmptyString,properties:r().array,title:r().nonEmptyString});return e})),c={type:Array,required:!0,validator:l},m={name:"TMProjectBlockItems",props:{items:c,imageVisible:{type:Boolean,default:!1},searchParams:{type:Object,default:null}},computed:{...(0,a.Se)("articlesList",["compactView"]),preparedItems(){return this.compactView?this.items.slice(0,3):this.items}},methods:{getItemUrl(t){const e=new URL(t.itemUrl);return Object.keys(this.searchParams).forEach((t=>e.searchParams.append(t,this.searchParams[t]))),e.href}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},50174:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-project-block",class:t.bem("tm-project-block",{variant:t.variant})},[e("div",{staticClass:"tm-project-block__header"},[e("div",{staticClass:"tm-project-block__title"},[e("a",{staticClass:"tm-project-block__title-link",attrs:{href:t.titleLink,rel:"noopener",target:"_blank"},domProps:{textContent:t._s(t.title)},on:{click:function(e){return t.$emit("click",e)}}})])]),t._v(" "),e("div",{staticClass:"tm-project-block__content"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"tm-project-block__footer"},[e("a",{staticClass:"tm-project-block__link",attrs:{href:t.footerLink,rel:"noopener",target:"_blank"},domProps:{textContent:t._s(t.footerTitle)},on:{click:function(e){return t.$emit("click",e)}}})])])},i=[],a=s(65873);const o={name:"TMProjectBlock",props:{title:{type:String,required:!0},titleLink:{type:String,required:!0},footerTitle:{type:String,required:!0},footerLink:{type:String,required:!0},variant:{type:String,default:null}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},76121:(t,e,s)=>{"use strict";s.d(e,{Z:()=>ot});var n=function(){var t=this,e=t._self._c;return t.currentBlockName?e(t.currentBlock,{tag:"component",attrs:{hubs:t.hubs,location:t.location,tags:t.tags},on:{loadFailed:t.resetBlock,loadedEmpty:t.resetBlock}}):t._e()},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("COURSES_ALL"),title:t.msg("COURSES_TITLE"),"title-link":t.titleLink,variant:"courses"},on:{click:function(e){return t.logGa("courses")}}},[e("TMProjectBlockItems",{attrs:{"image-visible":"",items:t.items,"search-params":t.$options.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_courses"}}):t._e()},r=[],l=s(76437),c=s(50174),m=s(73814),u=s(30434),d=s(8065),p=s(97660);const _={medium:"habr_block",source:"habr_mob",campaign:"courses_postlist"},h={name:"TMProjectBlockCourses",components:{TMProjectBlockItems:m.Z,TMProjectBlock:c.Z,TMPlaceholder:l.Z},itemParams:u.Z.toUtm({..._,content:"course"}),props:{location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null}},data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`career_courses_${this.location}`},titleLink(){const t=u.Z.toUtm({..._,content:"courses"}),e=new URL("https://career.habr.com/courses");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=u.Z.toUtm({..._,content:"courses_all"}),e=new URL("https://career.habr.com/courses");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{tags:t,hubs:e,langOptions:{hl:s}}=this;(0,p.Sr)({tags:t,hubs:e,hl:s}).then((({items:t})=>{this.items=t,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,d.Kz)("tm_block",this.gaAction,t)}}},g=h;var T=s(1001),v=(0,T.Z)(g,o,r,!1,null,null,null);const f=v.exports;var S=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("QUESTIONS_ALL"),title:t.msg("QUESTIONS_TITLE"),"title-link":t.titleLink,variant:"questions"},on:{click:function(e){return t.logGa("questions")}}},[e("TMProjectBlockItems",{attrs:{items:t.items,"search-params":t.$options.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_questions"}}):t._e()},E=[];const C={medium:"habr_block",source:"habr_mob",campaign:"questions_postlist"},I={name:"TMProjectBlockQuestions",components:{TMProjectBlockItems:m.Z,TMProjectBlock:c.Z,TMPlaceholder:l.Z},itemParams:u.Z.toUtm({...C,content:"question"}),props:{location:{type:String,required:!0},tags:{type:Array,required:!0}},data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`qna_${this.location}`},titleLink(){const t=u.Z.toUtm({...C,content:"questions"}),e=new URL("https://qna.habr.com/questions");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=u.Z.toUtm({...C,content:"questions_all"}),e=new URL("https://qna.habr.com/questions");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{tags:t,langOptions:{hl:e}}=this;(0,p.NN)({tags:t,hl:e}).then((({items:t})=>{this.items=t,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,d.Kz)("tm_block",this.gaAction,t)}}},b=I;var A=(0,T.Z)(b,S,E,!1,null,null,null);const y=A.exports;var L=function(){var t=this,e=t._self._c;return e("div",[!t.isLoading&&t.salaryData?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("SALARY_ALL"),title:t.msg("SALARY_TITLE"),"title-link":t.titleLink,variant:"salary"},on:{click:function(e){return t.logGa("salary")}}},[e("TMSalaryDistribution",{attrs:{"salary-data":t.salaryData}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_salary"}}):t._e()],1)},P=[],O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-salary-distribution"},[e("div",{staticClass:"tm-salary-distribution__description"},[e("div",{staticClass:"tm-salary-distribution__amount",domProps:{innerHTML:t._s(t.msg("SALARY_DISTRIBUTION_CURRENCY",{amount:t.salaryAverageFormatted}))}}),t._v(" "),e("p",{staticClass:"tm-salary-distribution__description-text",domProps:{innerHTML:t._s(t.msg("SALARY_DISTRIBUTION_DESCRIPTION",{profilesAmount:t.salaryData.profilesAmount,halfYear:t.salaryData.halfYear,year:t.salaryData.year}))}})]),t._v(" "),e("div",{ref:"salaryChart",staticClass:"tm-salary-distribution__salary-chart"},[t.isTooltipShown?e("TMTooltip",{attrs:{content:t.tooltipContent,"flip-options":t.tooltipFlipOptions,placement:"top-start",root:t.tooltipRoot}}):t._e(),t._v(" "),e("svg",{staticClass:"salary-chart",attrs:{height:t.chartHeight,width:t.chartWidth,xmlns:"http://www.w3.org/2000/svg"}},[e("g",{staticClass:"salary-chart__bars"},t._l(t.stats,(function(s,n){return e("rect",{key:`bar-${n}-${s.percent}`,ref:"statBar",refInFor:!0,staticClass:"salary-chart__bar",attrs:{height:t.getBarHeight(s.percent),width:t.barWidth-t.barsGap,x:t.barWidth*n+t.xPadding+t.barsGap,y:t.chartHeight-t.getBarHeight(s.percent)},on:{mouseout:t.hideTooltip,mouseover:e=>t.showTooltip(e,s)}})})),0),t._v(" "),e("g",{staticClass:"salary-chart__grid",attrs:{id:"xGrid"}},[e("line",{attrs:{x1:"15",x2:t.chartWidth-t.xPadding,y1:t.chartHeight,y2:t.chartHeight}}),t._v(" "),e("line",{attrs:{x1:"15",x2:"15",y1:t.chartHeight,y2:t.chartHeight+7}}),t._v(" "),e("line",{attrs:{x1:t.chartWidth-t.xPadding,x2:t.chartWidth-t.xPadding,y1:t.chartHeight,y2:t.chartHeight+7}})]),t._v(" "),e("g",{staticClass:"salary-chart__x-labels"},t._l(t.xLabels,(function(s,n){return e("text",{key:`step${s}`,attrs:{x:t.xLabelsStep*n+t.xPadding,y:t.chartHeight+20}},[t._v("\n          "+t._s(s)+"k\n        ")])})),0)])],1)])},R=[],N=s(93096),k=s.n(N),M=function(){var t=this,e=t._self._c;return e("div",{ref:"tooltip",staticClass:"tm-tooltip",domProps:{innerHTML:t._s(t.content)}})},w=[],x=s(95551);const D={name:"TMTooltip",props:{placement:{type:String,default:"bottom-start"},offset:{type:Array,default:()=>[0,8]},root:{type:null,required:!0},content:{type:String,default:""},flipOptions:{type:Object,default:null}},data(){return{tooltip:null}},mounted(){this.tooltip=(0,x.fi)(this.root,this.$refs.tooltip,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}},{name:"flip",options:this.flipOptions}]}),this.tooltip.update()},beforeDestroy(){this.tooltip&&this.tooltip.destroy()}},B=D;var $=(0,T.Z)(B,M,w,!1,null,null,null);const F=$.exports,G={name:"TMSalaryDistribution",components:{TMTooltip:F},props:{salaryData:{type:Object,required:!0}},data(){return{tooltipRoot:null,tooltipContent:"",isTooltipShown:!1,chartHeight:160,chartWidth:420,xPadding:15,barsGap:4}},computed:{...(0,a.Se)("global",["isMobile"]),stats(){const t=this.salaryData.labels.map((t=>t.split("-").map((t=>`${parseInt(t/1e3,10)}k`)).join(" - ")));return this.salaryData.data.map(((e,s)=>({percent:e,count:t[s]})))},chartPaddings(){return 2*(this.xPadding+this.barsGap)},barWidth(){return(this.chartWidth-this.chartPaddings)/this.stats.length},xLabelsStepsCount(){return this.isMobile?this.stats.length/2:this.stats.length},xLabels(){const t=[],e=this.getRoundedValue(this.salaryData.min),s=this.getRoundedValue(this.salaryData.max)+5,n=Math.ceil((s-e)/this.xLabelsStepsCount);for(let i=e;i<=s;i+=n)t.push(i);return t},xLabelsStep(){return(this.chartWidth-this.chartPaddings)/this.xLabelsStepsCount},salaryAverageFormatted(){return this.salaryData.average.toLocaleString("ru-RU")},tooltipFlipOptions(){return{boundary:this.$refs.salaryChart,fallbackPlacements:["top-start","top-end"]}}},mounted(){window.addEventListener("resize",this.onResizeThrottled,!1),this.onResizeThrottled()},beforeDestroy(){window.removeEventListener("resize",this.onResizeThrottled)},methods:{getRoundedValue(t){return parseInt(parseInt(t,10)/1e3,10)},getBarHeight(t){const e=Math.abs(this.stats[0].percent),s=Math.abs(this.stats[this.stats.length-1].percent);return this.chartHeight*Math.abs(t)/(e+s)},showTooltip(t,e){this.tooltipRoot=t.target,this.tooltipContent=this.msg("SALARY_DISTRIBUTION_PERCENT",{count:e.count,percent:e.percent}),this.isTooltipShown=!0},hideTooltip(){this.isTooltipShown=!1},updateChartWidth(){const t=this.$refs.salaryChart,e=t.getBoundingClientRect().width;this.chartWidth=e},onResizeThrottled:k()((function(){this.updateChartWidth()}),100)}},U=G;var V=(0,T.Z)(U,O,R,!1,null,null,null);const H=V.exports,Z={medium:"habr_block",source:"habr_mob",campaign:"salary_postlist"},W={name:"TMProjectBlockSalary",components:{TMPlaceholder:l.Z,TMSalaryDistribution:H,TMProjectBlock:c.Z},inheritAttrs:!1,props:{location:{type:String,required:!0}},data(){return{isLoading:!0,salaryData:null}},computed:{baseUrl(){return this.salaryData.sourceUrl},titleLink(){const t=u.Z.toUtm({...Z,content:"salary"}),e=new URL(this.baseUrl);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=u.Z.toUtm({...Z,content:"salary_all"}),e=new URL(this.baseUrl);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){(0,p.l9)().then((t=>{this.isLoading=!1,this.salaryData=t,t||this.$emit("loadedEmpty")})).catch((()=>{this.isLoading=!1,this.$emit("loadFailed")}))},methods:{logGa(t){(0,d.Kz)("tm_block",`career_${this.location}`,t)}}},Y=W;var q=(0,T.Z)(Y,L,P,!1,null,null,null);const j=q.exports;var K=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("TASKS_ALL"),title:t.msg("TASKS_TITLE"),"title-link":t.titleLink,variant:"tasks"},on:{click:function(e){return t.logGa("tasks")}}},[e("TMProjectBlockItems",{attrs:{items:t.items,"search-params":t.$options.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_tasks"}}):t._e()},z=[];const Q={medium:"habr_block",source:"habr_mob",campaign:"tasks_postlist"},X={name:"TMProjectBlockTasks",components:{TMProjectBlockItems:m.Z,TMProjectBlock:c.Z,TMPlaceholder:l.Z},itemParams:u.Z.toUtm({...Q,content:"task"}),props:{location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null}},data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`freelance_${this.location}`},titleLink(){const t=u.Z.toUtm({...Q,content:"tasks"}),e=new URL("https://freelance.habr.com/tasks");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=u.Z.toUtm({...Q,content:"tasks_all"}),e=new URL("https://freelance.habr.com/tasks");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{tags:t,hubs:e,langOptions:{hl:s}}=this;(0,p.ge)({tags:t,hubs:e,hl:s}).then((({items:t})=>{this.items=t,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,d.Kz)("tm_block",this.gaAction,t)}}},J=X;var tt=(0,T.Z)(J,K,z,!1,null,null,null);const et=tt.exports;var st=s(61828);const nt={name:"TMRandomProjectBlock",props:{blocks:{type:Object,default:()=>({courses:f,questions:y,salary:j,tasks:et,vacancies:st.Z})},location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null},blockId:{type:String,required:!0}},data(){return{currentBlockName:null,failedBlocks:[]}},computed:{...(0,a.Se)("projectsBlocks",["getRandomBlockName","getRegisteredBlockById"]),currentBlock(){return this.blocks[this.currentBlockName]}},created(){this.currentBlockName=this.getRegisteredBlockById(this.blockId),this.currentBlockName||(this.currentBlockName=this.getRandomBlockName(Object.keys(this.blocks)),this.currentBlockName&&this.registerBlock({name:this.currentBlockName,id:this.blockId}))},beforeDestroy(){this.unregisterBlock(this.currentBlockName),this.failedBlocks.forEach((t=>this.unregisterBlock(t)))},deactivated(){this.failedBlocks.forEach((t=>this.unregisterBlock(t)))},methods:{...(0,a.OI)("projectsBlocks",["registerBlock","unregisterBlock"]),resetBlock(){this.failedBlocks.push(this.currentBlockName),this.currentBlockName=this.getRandomBlockName(Object.keys(this.blocks)),this.currentBlockName&&this.registerBlock({name:this.currentBlockName,id:this.blockId})}}},it=nt;var at=(0,T.Z)(it,n,i,!1,null,null,null);const ot=at.exports},61828:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("VACANCIES_ALL"),title:t.msg("VACANCIES_TITLE",{company:t.companyTitle?t.companyTitle:"none"}),"title-link":t.titleLink,variant:"vacancies"},on:{click:function(e){return t.logGa("vacancies")}}},[e("TMProjectBlockItems",{attrs:{items:t.items,"search-params":t.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_vacancies"}}):t._e()},i=[],a=s(76437),o=s(50174),r=s(73814),l=s(30434),c=s(89029),m=s(8065),u=s(97660);const d={name:"TMProjectBlockVacancies",components:{TMProjectBlockItems:r.Z,TMProjectBlock:o.Z,TMPlaceholder:a.Z},props:{location:{type:String,required:!0},companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},careerAlias:{type:String,default:null},hubs:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},data(){return{isLoading:!0,items:null}},computed:{isCompanyVacancies(){return this.careerAlias&&this.companyAlias},utm(){let t="vacancies_postlist";return this.isCompanyVacancies&&(t="vacancies_postlist_company"),{medium:"habr_block",source:"habr_mob",campaign:t}},itemParams(){return l.Z.toUtm({...this.utm,content:"vacancy"})},gaAction(){let t=`career_${this.location}`;return this.isCompanyVacancies&&(t+="_company"),t},baseLink(){return(0,c.E)(this.careerAlias)},titleLink(){const t=l.Z.toUtm({...this.utm,content:"vacancies"}),e=new URL(this.baseLink);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=l.Z.toUtm({...this.utm,content:"vacancies_all"}),e=new URL(this.baseLink);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{companyAlias:t,tags:e,hubs:s,langOptions:{hl:n}}=this;(0,u.uC)({companyAlias:t,tags:e,hubs:s,hl:n}).then((({items:t})=>{this.items=t,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,m.Kz)("tm_block",this.gaAction,t)}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},14085:(t,e,s)=>{"use strict";s.d(e,{Z:()=>S});var n=function(){var t=this,e=t._self._c;return e("div",[!t.isLoading&&t.promoBlockPosts?e("TMBlock",{attrs:{spacing:t.isArticleLayout?"around":"bottom",title:t.msg("PROMO_BLOCK_TITLE")},scopedSlots:t._u([{key:"header-aside",fn:function(){return[t.isDesktop&&"ru"===t.langOptions.hl?e("a",{staticClass:"tm-block-extralink",attrs:{href:"https://tmtm.ru/megapost/",target:"_blank"}},[t._v("\n        "+t._s(t.msg("PROMO_BLOCK_ADD"))+"\n      ")]):t._e()]},proxy:!0},{key:"default",fn:function(){return[e(t.isSmallestMobile?"TMSwiper":"div",{tag:"component",staticClass:"tm-promo-block__content-wrapper",attrs:{"data-test-id":t.isSmallestMobile?"swiper-slider":null,pagination:"","slides-per-view":1}},t._l(t.promoBlockPosts,(function(s){return e(t.isSmallestMobile?"TMSwiperSlide":"div",{key:s.link.url,tag:"component",staticClass:"tm-promo-block__item-wrapper"},[e("TMIntersect",{attrs:{threshold:[.5]},on:{enter:function(e){return t.trackView(s)}}},[e("a",{staticClass:"tm-promo-block__item tm-article-title__link",attrs:{href:s.link.url,rel:"nofollow "+(s.external?"sponsored":"")},on:{click:function(e){return t.logClickToGa(s.link.url)}}},[e("header",{staticClass:"tm-promo-block__head"},[e("div",{staticClass:"tm-promo-block__image-wrapper"},[e("img",{staticClass:"tm-promo-block__image",attrs:{alt:"",src:t.promoImage(s.image.url)}})]),t._v(" "),s.label?e("div",{staticClass:"tm-promo-block__label"},[t._v("\n                  "+t._s(s.label)+"\n                  "),s.external?e("TMExternalIcon",{staticClass:"tm-block-promo__external"}):t._e()],1):t._e()]),t._v(" "),e("div",{staticClass:"tm-promo-block__info"},[e("h3",{staticClass:"tm-promo-block__title",domProps:{innerHTML:t._s(s.title)}})])])])],1)})),1)]},proxy:!0}],null,!1,1765953917)}):t.isLoading||!t.hasLoaded||t.promoBlockPosts?e("TMPlaceholder",{attrs:{type:"promo_block"}}):t._e()],1)},i=[],a=s(20629),o=s(76262),r=s(80089),l=s(76437),c=s(42052),m=s(8065),u=s(28287),d=s(92698);const p=()=>s.e(3040).then(s.bind(s,83040)),_=()=>Promise.resolve().then(s.bind(s,92960)),h=()=>Promise.resolve().then(s.bind(s,2107)),g={name:"TMPromoBlock",components:{TMPlaceholder:l.Z,TMIntersect:r.Z,TMBlock:o.Z,TMExternalIcon:p,TMSwiper:_,TMSwiperSlide:h},props:{layout:{default:"articles-list",type:String},gaType:{type:String,default:null}},data(){return{isSmallestMobile:!1,matcher:null,trackedItems:[]}},computed:{...(0,a.Se)("global",["isDesktop"]),...(0,a.Se)("promoData",["promoBlockPosts"]),...(0,a.rn)("promoData",["isLoading","hasLoaded"]),...(0,a.Se)("i18n",["langOptions"]),isArticlesListLayout(){return"articles-list"===this.layout},isArticleLayout(){return"article"===this.layout}},mounted(){this.matcher=window.matchMedia("(max-width: 413px)"),this.matcher.addListener(this.onMediaTriggered),this.isSmallestMobile=this.matcher.matches},beforeDestroy(){this.matcher.removeListener(this.onMediaTriggered)},methods:{onMediaTriggered(t){this.isSmallestMobile=t.matches},logClickToGa(t){if(this.gaType){const{category:e,action:s,label:n}=(0,c.lP)(this.gaType,t);(0,m.Kz)(e,s,n)}else this.isArticleLayout?(0,m.Kz)("tm_block","promo,post",t):(0,m.Kz)("tm_block","promo,feed_middle",t)},promoImage(t){const e=this.isDesktop?390:120;return(0,u.dv)(t,e)},trackView({events:t}){const e=t&&t.view;e&&!this.trackedItems.includes(e)&&(this.trackedItems.push(e),(0,d.s)([e]))}}},T=g;var v=s(1001),f=(0,v.Z)(T,n,i,!1,null,null,null);const S=f.exports},10011:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("TMIntersect",{attrs:{threshold:[.5]},on:{enter:t.trackView}},[e("div",{staticClass:"tm-promo-post-link",class:t.bem("tm-promo-post-link",{appearance:t.appearance})},[e("a",{staticClass:"tm-promo-post-link__link",class:t.bem("tm-promo-post-link__link",{appearance:t.appearance}),attrs:{href:t.promoPost.link.url},domProps:{textContent:t._s(t.promoPost.title)},on:{click:function(e){return t.$emit("click")}}}),t._v(" "),e("div",{staticClass:"tm-promo-post-link__label"},[t._v("\n      "+t._s(t.promoPost.label)+"\n      "),t.promoPost.external?e("TMExternalIcon",{staticClass:"tm-promo-post-link__external",attrs:{height:"12",width:"12"}}):t._e()],1)])])},i=[],a=s(80089),o=s(65873),r=s(92698);const l=()=>s.e(3040).then(s.bind(s,83040)),c={name:"TMPromoPostLink",components:{TMIntersect:a.Z,TMExternalIcon:l},props:{appearance:{type:String,default:"most-reading"},promoPost:{type:Object,required:!0}},data(){return{tracked:!1}},methods:{bem:o.P,trackView(){const t=this.promoPost.events&&this.promoPost.events.view;t&&!this.tracked&&(this.tracked=!0,(0,r.s)([t]))}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},51904:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-rating"},[e("div",{staticClass:"tm-rating__header"},[t._t("default"),t._v(" "),e("div",{staticClass:"tm-rating__counter",class:t.bem("tm-rating__counter",{variant:t.variant}),domProps:{textContent:t._s(t.score||0)}})],2),t._v(" "),e("div",{staticClass:"tm-rating__text",class:t.bem("tm-rating__text",{variant:t.variant})},[t._v("\n    "+t._s(t.label||t.msg("POINTS_LABEL_RATING"))+"\n  ")])])},i=[],a=s(65873);const o={name:"TMRating",props:{score:{type:Number,default:0},label:{type:String,default:null},variant:{type:String,default:null}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},66736:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.hasRss?e("button",{staticClass:"tm-rss-button",class:`tm-rss-button_${t.variant}`},[e("TMSvgIcon",{staticClass:"tm-rss-button__icon",attrs:{id:"rss"},on:{click:t.copyRssLink}})],1):t._e()},i=[],a=s(62205),o=s(85378);const r={name:"TMRssButton",components:{TMSvgIcon:a.Z},props:{variant:{type:String,default:"default"}},computed:{hasRss(){return Boolean(this.$route.meta.rssLink)}},methods:{copyRssLink(){const t=document.querySelector('link[name="rss"]');if(t){const e=t.getAttribute("href");(0,o.Z)(e),this.$toast.success(this.msg("SOCIAL_COPIED"))}}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},75817:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("transition",{attrs:{appear:t.appear,name:t.name},on:{"after-leave":t.onHide,enter:t.onShow,"enter-cancelled":t.onCancel,"leave-cancelled":t.onCancel}},[t._t("default")],2)},i=[],a=s(67891);const o={name:"TMScrollLockTransition",props:{appear:{type:Boolean,default:!1},name:{type:String,required:!0}},methods:{onShow(){(0,a.disableBodyScroll)(this.$children[0].$el.querySelector("[data-scroll-target]"),{reserveScrollBarGap:!0})},onHide(){(0,a.clearAllBodyScrollLocks)()},onCancel(){(0,a.clearAllBodyScrollLocks)()}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},44274:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-section-name"},[t.backRouteName?e("div",{staticClass:"tm-section-name__back",on:{click:t.goBack}},[e("TMSvgImg",{staticClass:"icon_arrow-back icon_arrow-back_section",attrs:{id:"arrow-back"}}),t._v(" "),e("h1",{staticClass:"tm-section-name__text"},[t._v("\n      "+t._s(t.name)+"\n    ")])],1):t.route?e("router-link",{staticClass:"tm-section-name__link",attrs:{to:t.route}},[t._v("\n    "+t._s(t.name)+"\n  ")]):e("h1",{staticClass:"tm-section-name__text"},[t._v("\n    "+t._s(t.name)+"\n  ")]),t._v(" "),t._t("default")],2)},i=[],a=s(2813);const o={name:"TMSectionName",components:{TMSvgImg:a.Z},props:{name:{required:!0,type:String},route:{type:Object,default:null},backRouteName:{default:null,type:String},backRouteQuery:{default:null,type:Object}},methods:{goBack(){this.backRouteName?this.$router.push({name:this.backRouteName,query:this.backRouteQuery}):this.$router.go(-1)}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},68861:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-separated-list"},[t.title?e("span",{staticClass:"tm-separated-list__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),e("ul",{staticClass:"tm-separated-list__list"},t._l(t.list,(function(s,n){return e("li",{key:n,staticClass:"tm-separated-list__item"},[t._t("default",null,{item:s})],2)})),0)])},i=[];const a={name:"TMSeparatedList",props:{list:{type:Array,required:!0},title:{type:String,default:null}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},79131:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("TMOverlay",{staticClass:"tm-sidebar",class:`tm-sidebar_${t.position}`,on:{close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"tm-sidebar__wrapper",class:`tm-sidebar__wrapper_${t.position}`,style:t.style},[e("div",{staticClass:"tm-sidebar__container"},[t._t("default")],2)])])},i=[],a=s(20629),o=s(62397),r=s(51566);const l={right:"isRight",left:"isLeft"},c={name:"TMSidebarModal",components:{TMOverlay:o.Z},props:{position:{required:!0,type:String}},data(){return{delta:0,swipeListener:null}},computed:{...(0,a.rn)("viewport",["width"]),parallax(){const t=2;return Math.abs(this.delta)/this.width/t},style(){return"left"===this.position&&this.delta>0?{transform:`translateX(${-100*this.parallax}%)`}:"right"===this.position&&this.delta<0?{transform:`translateX(${100*this.parallax}%)`}:null}},watch:{$route(){this.$emit("close")}},beforeDestroy(){(0,r.y)(this.swipeListener)},mounted(){this.swipeListener=(0,r.i)((t=>{this.delta=t.delta,t[l[this.position]]&&this.$emit("close")}))}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},93764:(t,e,s)=>{"use strict";s.d(e,{Z:()=>ct});var n=function(){var t=this,e=t._self._c;return t.isShowBlock?e("TMBlock",{staticClass:"tm-stories-block",attrs:{"body-variant":t.isSidebar?"equal-small":"equal","data-navigatable":"",spacing:"top",tabindex:"0",title:t.msg("TITLE_STORIES")}},[t.isSorting?e("TMStoriesEmpty"):e("TMSwiper",{staticClass:"tm-stories",attrs:{breakpoints:t.breakpoints,navigation:"","slides-per-view":t.isSidebar?2.05:5.3,"space-between":t.isSidebar?12:20}},t._l(t.sortedStories,(function(s,n){return e("TMSwiperSlide",{key:s.id},[e("TMStoriesCard",{attrs:{"is-viewed":t.viewedStoriesIds.has(s.id),story:s},on:{openStory:function(e){return t.openStory(n)}}})],1)})),1),t._v(" "),t.isStoriesView?e("TMStoriesView",{attrs:{"active-story-index":t.currentStoryIndex,"ga-category":t.gaCategory,stories:t.sortedStories},on:{close:function(e){return t.closeView()},saveView:t.saveView}}):t._e()],1):t._e()},i=[],a=s(20629),o=s(76262),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-stories-card"},[e("button",{class:t.bem("tm-stories-card__image-block",{loading:t.imageLoading}),on:{click:function(e){return t.$emit("openStory")}}},[e("img",{staticClass:"tm-stories-card__image",attrs:{alt:"",src:t.getResizedImg(t.story.slides[0].image)},on:{load:function(e){t.imageLoading=!1}}}),t._v(" "),e("div",{staticClass:"tm-stories-card__gradient"}),t._v(" "),t.isViewed?e("div",{staticClass:"tm-stories-card__overlay"}):t._e(),t._v(" "),t.isViewed?t._e():e(t.story.author.link?"a":"span",{tag:"component",staticClass:"tm-stories-card__author",attrs:{href:t.story.author.link},on:{click:function(t){t.stopPropagation()}}},[e("img",{staticClass:"tm-stories-card__author-logo",attrs:{alt:"author-logo",src:t.story.author.logo}})])],1),t._v(" "),e("div",{class:t.bem("tm-stories-card__title",{viewed:t.isViewed}),domProps:{textContent:t._s(t.story.title)}})])},l=[],c=s(65873),m=s(28287);const u={name:"TMStoriesCard",props:{story:{type:Object,required:!0},isViewed:{type:Boolean,default:!1}},data(){return{imageLoading:!0}},methods:{bem:c.P,getResizedImg(t){const e=390;return(0,m.dv)(t,e)}}},d=u;var p=s(1001),_=(0,p.Z)(d,r,l,!1,null,null,null);const h=_.exports;var g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-stories-empty"},t._l(t.cards,(function(s,n){return e("div",{key:n,staticClass:"tm-stories-card-empty"},[e("div",{staticClass:"tm-stories-card-empty__image"}),t._v(" "),t._m(0,!0)])})),0)},T=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-stories-card-empty__title"},[e("div",{staticClass:"tm-stories-card-empty__title-block"}),t._v(" "),e("div",{staticClass:"tm-stories-card-empty__title-block"}),t._v(" "),e("div",{staticClass:"tm-stories-card-empty__title-block"})])}];const v={name:"TMStoriesEmpty",data(){return{cards:[1,2,3,4,5,6]}}},f=v;var S=(0,p.Z)(f,g,T,!1,null,null,null);const E=S.exports;var C=function(){var t=this,e=t._self._c;return e("Portal",{attrs:{to:"overlays"}},[e("div",{staticClass:"tm-stories-view"},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.close},expression:"{ 'esc': close }"}],staticClass:"tm-stories-view__close",on:{click:t.close}},[e("TMSvgIcon",{staticClass:"tm-stories-view__close-icon",attrs:{id:"close",size:"16",title:t.msg("CLOSE")}})],1),t._v(" "),e("div",{staticClass:"tm-stories-view__bg",on:{click:t.close}}),t._v(" "),null!==t.isSmallestMobile?[t.isSmallestMobile?e("TMSwiper",{attrs:{"active-slide":t.currentStoryIndex,"initial-slide":t.currentStoryIndex,"slides-per-view":1},on:{slideChange:t.slideChange}},t._l(t.stories,(function(s,n){return e("TMSwiperSlide",{key:s.id},[e("TMStory",{attrs:{"data-story-card":"","ga-category":t.gaCategory,"is-active":n===t.currentStoryIndex,"is-first":0===n,"is-last":n===t.stories.length-1,story:s},on:{changeActiveStory:function(e){t.currentStoryIndex=n},close:function(e){return t.$emit("close")},nextStory:t.nextStory,prevStory:t.prevStory,saveView:function(e){return t.$emit("saveView",s.id)}}})],1)})),1):e("div",{staticClass:"tm-stories-view__slider",style:`right: ${t.rightPosition}`},t._l(t.stories,(function(s,n){return e("TMStory",{key:s.id,attrs:{"data-story-card":"","ga-category":t.gaCategory,"is-active":n===t.currentStoryIndex,"is-first":0===n,"is-last":n===t.stories.length-1,story:s},on:{changeActiveStory:function(e){t.currentStoryIndex=n},close:function(e){return t.$emit("close")},nextStory:t.nextStory,prevStory:t.prevStory,saveView:function(e){return t.$emit("saveView",s.id)}}})})),1)]:t._e()],2)])},I=[],b=s(93096),A=s.n(b),y=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:t.hotkeys,expression:"hotkeys"}],class:t.bem("tm-story-container",{hidden:!t.isActive})},[t.isActive?[t.showLeftButton?e("div",{staticClass:"tm-story__button tm-story__button_left",on:{click:t.prevSlide}},[e("TMSvgIcon",{staticClass:"tm-story__button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_LEFT")}})],1):t._e(),t._v(" "),t.showRightButton?e("div",{staticClass:"tm-story__button tm-story__button_right",on:{click:t.nextSlide}},[e("TMSvgIcon",{staticClass:"tm-story__button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_RIGHT")}})],1):t._e()]:t._e(),t._v(" "),e("div",{ref:"story",staticClass:"tm-story"},[t._l(t.visibleSlidesImages,(function(s,n){return e("img",{key:n,class:t.bem("tm-story__image",{hidden:s!==t.activeSlide.image}),attrs:{alt:"",src:t.getResizedImg(s)},on:{error:function(e){return t.errorImage(n,s)},load:function(e){return t.loadImage(n,s)}}})})),t._v(" "),t.imageLoading?e("TMSpinner"):t._e(),t._v(" "),e("div",{staticClass:"tm-story__gradient"}),t._v(" "),t.isActive?[e("div",{staticClass:"tm-story__area tm-story__area_left",on:{click:function(e){return t.prevSlide(null,!0)}}}),t._v(" "),e("div",{staticClass:"tm-story__area tm-story__area_right",on:{click:function(e){return t.nextSlide(null,!0)}}}),t._v(" "),t.imageLoading?t._e():e("TMStoryProgressBar",{attrs:{"active-slide-index":t.activeSlideIndex,"is-paused":t.isPaused,slides:t.story.slides}}),t._v(" "),e("button",{staticClass:"tm-story__close",on:{click:function(e){return t.$emit("close")}}},[e("TMSvgIcon",{attrs:{id:"close-rounded",size:"24",title:t.msg("CLOSE")}})],1)]:e("div",{staticClass:"tm-story__overlay",on:{click:t.changeActiveStory}}),t._v(" "),e("div",{staticClass:"tm-story__author"},[e(t.story.author.link?"a":"span",{tag:"component",staticClass:"tm-story__author-logo",attrs:{href:t.story.author.link}},[e("img",{attrs:{alt:"story-author",src:t.story.author.logo}})]),t._v(" "),e(t.story.author.link?"a":"span",{tag:"component",staticClass:"tm-story__author-name",attrs:{href:t.story.author.link}},[t._v("\n        "+t._s(t.story.author.title)+"\n      ")])],1),t._v(" "),t.isActive&&t.activeSlide.button?e("a",{class:t.bem("tm-story__link",{color:t.activeSlide.button.colorType}),attrs:{href:t.activeSlide.button.link},on:{click:t.logGaButton,mouseup:function(e){return"button"in e&&1!==e.button?null:t.logGaButton.apply(null,arguments)}}},[e("span",[t._v(t._s(t.activeSlide.button.title))]),t._v(" "),e("TMSvgIcon",{staticClass:"tm-story__link-icon",attrs:{id:"arrow-link",size:"11",title:t.activeSlide.button.title}})],1):t._e()],2)],2)},L=[],P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-spinner"},[e("svg",{staticClass:"spinner",attrs:{height:"66px",viewBox:"0 0 66 66",width:"66px",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"path",attrs:{cx:"33",cy:"33",fill:"none",r:"30","stroke-linecap":"round","stroke-width":"6"}})])])},O=[];const R={name:"TMSpinner"},N=R;var k=(0,p.Z)(N,P,O,!1,null,null,null);const M=k.exports;var w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-story-progress-bar"},t._l(t.slides,(function(s,n){return e("div",{key:s.id,staticClass:"tm-story-progress-bar__item",style:`width: calc(100%/${t.slides.length} - 4px);`},[e("div",{class:t.bem("tm-story-progress-bar__item-progress",{active:n===t.activeSlideIndex,future:n>t.activeSlideIndex,paused:t.isPaused&&n===t.activeSlideIndex})})])})),0)},x=[];const D={name:"TMStoryProgressBar",props:{slides:{type:Array,required:!0},isPaused:{type:Boolean},activeSlideIndex:{type:Number,required:!0}},methods:{bem:c.P}},B=D;var $=(0,p.Z)(B,w,x,!1,null,null,null);const F=$.exports;var G=s(62205),U=s(8065);const V="new",H="pending",Z="loaded",W="error",Y={name:"TMStory",components:{TMSvgIcon:G.Z,TMStoryProgressBar:F,TMSpinner:M},props:{story:{type:Object,required:!0},isActive:{type:Boolean,default:!1},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},gaCategory:{type:String,required:!0}},data(){const t={};for(let e=0;e<this.story.slides.length;e+=1){const s=this.story.slides[e];t[s.image]=0===e?H:V}return{activeSlideIndex:0,timer:1e3,counter:!1,interval:0,isPaused:!1,pauseTimeStamp:0,playTimeStamp:0,imageLoading:!0,slidesImages:t}},computed:{...(0,a.Se)("global",["isMobile"]),activeSlide(){return this.story.slides[this.activeSlideIndex]},showLeftButton(){return!this.isFirst||0!==this.activeSlideIndex},showRightButton(){return!this.isLast||this.activeSlideIndex!==this.story.slides.length-1},hotkeys(){return this.isActive?{space:this.toggleTimer,right:this.nextSlide,left:this.prevSlide,up:this.prevStory,down:this.nextStory}:{}},isShortClick(){return this.playTimeStamp-this.pauseTimeStamp<300},visibleSlidesImages(){return Object.keys(this.slidesImages).filter((t=>this.slidesImages[t]!==V))}},watch:{isActive(){this.isActive?(this.startTimer(),this.saveView(),this.logGaStory(),this.logGaSlide(),this.loadNextImage(this.activeSlideIndex)):(clearInterval(this.interval),this.interval=0)},imageLoading(){this.isActive&&!this.imageLoading&&this.startSlide()}},beforeDestroy(){clearInterval(this.interval),this.$refs.story.removeEventListener("mousedown",this.pause),this.$refs.story.removeEventListener("mouseup",this.play),this.$refs.story.removeEventListener("touchstart",this.pause),this.$refs.story.removeEventListener("touchend",this.play),this.$refs.story.removeEventListener("contextmenu",this.closeContextMenu)},mounted(){this.isActive&&this.logGaStory(),this.$refs.story.addEventListener("mousedown",this.pause),this.$refs.story.addEventListener("mouseup",this.play),this.$refs.story.addEventListener("touchstart",this.pause,{passive:!0}),this.$refs.story.addEventListener("touchend",this.play,{passive:!0}),this.$refs.story.addEventListener("contextmenu",this.closeContextMenu)},methods:{bem:c.P,loadImage(t,e){t===this.activeSlideIndex&&(this.imageLoading=!1),this.slidesImages[e]=Z,this.loadNextImage(t)},errorImage(t,e){this.slidesImages[e]=W,this.loadNextImage(t)},loadNextImage(t){if(!this.isActive||t===this.story.slides.length-1)return;const e=this.story.slides[t+1];this.slidesImages[e.image]===V&&(this.slidesImages[e.image]=H)},getResizedImg(t){const e=780;return(0,m.dv)(t,e)},toggleTimer(){this.isPaused=!this.isPaused},pause(t){this.pauseTimeStamp=t.timeStamp,this.isPaused=!0},play(t){this.playTimeStamp=t.timeStamp,this.isPaused=!1},closeContextMenu(t){this.isMobile&&t.preventDefault()},nextSlide(t,e=!1){e&&!this.isShortClick||this.changeActiveSlide(1)},prevSlide(t,e=!1){e&&!this.isShortClick||this.changeActiveSlide(-1)},nextStory(){this.$emit("nextStory")},prevStory(){this.$emit("prevStory")},changeActiveStory(){this.$emit("changeActiveStory")},changeActiveSlide(t){this.activeSlideIndex+t<0?this.prevStory():this.activeSlideIndex+t>this.story.slides.length-1?this.nextStory():(this.activeSlideIndex+=t,this.slidesImages[this.activeSlide.image]===V&&(this.slidesImages[this.activeSlide.image]=H),this.slidesImages[this.activeSlide.image]===Z?this.startSlide():(this.imageLoading=!0,this.isPaused=!0))},startSlide(){this.isPaused=!1,this.saveView(),this.logGaSlide(),this.startTimer()},startTimer(){this.timer=1e3,this.interval||(this.interval=setInterval(this.countDown,10))},countDown(){this.isPaused||(this.counter?this.timer>0?this.timer-=1:(this.timer=0,this.counter=!1,this.nextSlide()):this.counter=!0)},saveView(){this.story.slides.length-1===this.activeSlideIndex&&this.$emit("saveView")},logGaStory(){(0,U.Kz)(this.gaCategory,`view_${this.story.id}`,"open")},logGaSlide(){(0,U.Kz)(this.gaCategory,`view_${this.story.id}`,`slide_${this.activeSlide.id}`)},logGaButton(){(0,U.Kz)(this.gaCategory,`view_${this.story.id}`,`button_${this.activeSlide.id}`)}}},q=Y;var j=(0,p.Z)(q,y,L,!1,null,null,null);const K=j.exports;var z=s(92960),Q=s(2107);const X={name:"TMStoriesView",components:{TMStory:K,TMSvgIcon:G.Z,TMSwiper:z["default"],TMSwiperSlide:Q["default"]},props:{stories:{type:Array,required:!0},activeStoryIndex:{type:Number,required:!0},gaCategory:{type:String,required:!0}},data(){return{currentStoryIndex:this.activeStoryIndex,storyCardWidth:0,isSmallestMobile:null,matcher:null}},computed:{rightPosition(){const t=70,e=.5*this.storyCardWidth+(this.storyCardWidth+t)*this.currentStoryIndex;return`calc(-50% + ${e}px)`}},beforeDestroy(){document.body.classList.remove("tm-touch-select-disabled"),window.removeEventListener("resize",this.onResizeThrottled),this.matcher.removeListener(this.onMediaTriggered)},mounted(){document.body.classList.add("tm-touch-select-disabled"),window.addEventListener("resize",this.onResizeThrottled),this.matcher=window.matchMedia("(max-width: 415px)"),this.matcher.addListener(this.onMediaTriggered),this.isSmallestMobile=this.matcher.matches,this.$nextTick((()=>{this.$nextTick((()=>{this.updateCardWidth()}))}))},methods:{close(){this.$emit("close")},slideChange(t){this.currentStoryIndex=t},nextStory(){this.currentStoryIndex+1>this.stories.length-1?this.$emit("close"):this.currentStoryIndex+=1},prevStory(){this.currentStoryIndex-1<0?this.currentStoryIndex=0:this.currentStoryIndex-=1},onMediaTriggered(t){this.isSmallestMobile=t.matches},onResizeThrottled:A()((function(){this.updateCardWidth()}),100),updateCardWidth(){const t=document.querySelector("[data-story-card]");t&&(this.storyCardWidth=t.getBoundingClientRect().width)}}},J=X;var tt=(0,p.Z)(J,C,I,!1,null,null,null);const et=tt.exports,st="habr-stories-viewed",nt=100,it=5,at=3,ot={name:"TMStories",components:{TMBlock:o.Z,TMStoriesView:et,TMStoriesCard:h,TMStoriesEmpty:E,TMSwiper:z["default"],TMSwiperSlide:Q["default"]},props:{isSidebar:{type:Boolean,default:!1},gaCategory:{type:String,required:!0}},asyncData({store:t}){return t.dispatch("stories/loadStories")},data(){return{rightPosition:0,maxRightPosition:0,viewedStoriesIds:null,isStoriesView:!1,currentStoryIndex:0,isSorting:!0,sortedStories:[]}},computed:{...(0,a.Se)("stories",["stories"]),isShowBlock(){return!!this.stories&&(this.isSidebar?this.stories.length>=at:this.stories.length>=it)},breakpoints(){if(this.isSidebar)return{};const t={};let e=280,s=2.3,n=11;while(n>0)t[e]={slidesPerView:s},e+=50,s+=.3,n-=1;return t}},mounted(){this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()},methods:{bem:c.P,openStory(t){this.isStoriesView=!0,this.currentStoryIndex=t},closeView(){this.isStoriesView=!1,this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()},getViewedStoriesIds(){try{const t=JSON.parse(localStorage.getItem(st));return t&&Array.isArray(t)?new Set(t):new Set}catch(t){return console.error(t),new Set}},saveView(t){const e=this.getViewedStoriesIds();if(e.has(t))return;e.add(t);let s=Array.from(e);s.length>nt&&(s=s.slice(-nt)),localStorage.setItem(st,JSON.stringify(s))},sortStories(){if(!this.viewedStoriesIds.size)return this.sortedStories=this.stories,void(this.isSorting=!1);this.sortedStories=this.stories.sort(((t,e)=>this.viewedStoriesIds.has(t.id)-this.viewedStoriesIds.has(e.id))),this.isSorting=!1}}},rt=ot;var lt=(0,p.Z)(rt,n,i,!1,null,null,null);const ct=lt.exports},62205:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"tm-svg-icon__wrapper",attrs:{title:t.title},on:{click:function(e){return t.$emit("click")},mouseover:function(e){return t.$emit("mouseover")}}},[e("TMSvgImg",{staticClass:"tm-svg-icon",attrs:{id:t.id,size:t.size,title:t.title}})],1)},i=[],a=s(2813);const o={name:"TMSvgIcon",components:{TMSvgImg:a.Z},props:{tag:{default:"span",type:String},id:{required:!0,type:String},size:{default:"16",type:String},title:{default:null,type:String}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},2813:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("svg",t._b({staticClass:"tm-svg-img",attrs:{height:t.height||t.size,width:t.width||t.size}},"svg",t.svgAttrs,!1),[t.iconTitle?e("title",[t._v(t._s(t.iconTitle))]):t._e(),t._v(" "),e("use",{attrs:{"xlink:href":t.src}})])},i=[];const a="/img/megazord-v27.a5a8057f..svg",o=["placeholder-user","placeholder-company","placeholder-hub","placeholder"],r={name:"TMSvgImg",inheritAttrs:!1,props:{id:{required:!0,type:String},size:{default:"16",type:[String,Number]},width:{default:null,type:[Number,String]},height:{default:null,type:[Number,String]},title:{type:String,default:null},svgAttrs:{type:Object,default(){return{}}}},computed:{src(){return"/"!==this.id.charAt(0)?`${a}#${this.id}`:this.id},iconTitle(){if(this.title)return this.title;const t="/"===this.id.charAt(0),e=t?this.id.split("#")[1]:this.id;if(-1===o.indexOf(e)){const t=`ICON_${e.split("-").join("_").toUpperCase()}`;return this.msg(t)}return null}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},2107:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper-slide"},[t._t("default")],2)},i=[];const a={name:"TMSwiperSlide"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},92960:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>_});var n=function(){var t=this,e=t._self._c;return e("div",{ref:"swiper",staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),t._v(" "),t.pagination?e("div",{staticClass:"swiper-pagination"}):t._e(),t._v(" "),t.navigation?[e("button",{staticClass:"swiper-button-prev"},[e("TMSvgIcon",{staticClass:"swiper-button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_LEFT")}})],1),t._v(" "),e("button",{staticClass:"swiper-button-next"},[e("TMSvgIcon",{staticClass:"swiper-button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_RIGHT")}})],1)]:t._e()],2)},i=[],a=s(30172),o=s(52997),r=s(7649),l=s(95186),c=s(62205);a.Z.use([o.Z,r.Z,l.Z]);const m={name:"TMSwiper",components:{TMSvgIcon:c.Z},props:{slidesPerView:{type:[Number,String],default:"auto"},pagination:{type:[Boolean,Object],default:null},autoHeight:{type:Boolean,default:!1},autoplay:{type:Object,default(){return{enabled:!1}}},navigation:{type:[Boolean,Object],default:!1},spaceBetween:{type:Number,default:0},breakpoints:{type:Object,default:null},initialSlide:{type:Number,default:0},activeSlide:{type:Number,default:0}},data(){return{swiperInstance:null}},watch:{activeSlide(t,e){this.swiperInstance.activeIndex!==t&&(t>e?this.swiperInstance.slideNext():this.swiperInstance.slidePrev())}},mounted(){const{autoHeight:t,autoplay:e,slidesPerView:s,spaceBetween:n,breakpoints:i,initialSlide:o,pagination:r,navigation:l}=this;let c=!!r&&{el:".swiper-pagination",clickable:!0};"object"===typeof r&&(c={...c,...r});let m=!1;l&&(m={nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-lock"});const u={slidesPerView:s,spaceBetween:n,breakpoints:i,pagination:c,navigation:m,autoHeight:t,autoplay:e,initialSlide:o,on:{slideChange:this.slideChange}};this.swiperInstance=new a.Z(this.$refs.swiper,u)},beforeDestroy(){this.swiperInstance.destroy()},methods:{slideChange(){this.swiperInstance&&this.$emit("slideChange",this.swiperInstance.activeIndex)}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},67278:(t,e,s)=>{"use strict";s.d(e,{Z:()=>f});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-tabs",class:t.bem("tm-tabs",{variant:t.variant})},[e("div",{ref:"scrollArea",class:{"tm-tabs__scroll-area":!t.noSpacers&&!t.shouldSplitTabs,"tm-tabs__padding-area":!t.noSpacers&&t.shouldSplitTabs}},t._l(t.slicedTabs,(function(s,n){return e("span",{key:`tab_${n}`,staticClass:"tm-tabs__tab-item"},[s.route.external?e("a",{staticClass:"tm-tabs__tab-link",class:t.bem("tm-tabs__tab-link",{slim:t.slim}),attrs:{href:s.route.path,target:s.route.target||"_self"}},[t._v("\n        "+t._s(s.title)+"\n      ")]):t.local?e("button",{staticClass:"tm-tabs__tab-link",class:t.bem("tm-tabs__tab-link",t.linkModifiers(s)),on:{click:function(e){return e.preventDefault(),t.handleNavigationChange(s)}}},[t._v("\n        "+t._s(s.title)+"\n      ")]):e("router-link",{staticClass:"tm-tabs__tab-link",class:t.bem("tm-tabs__tab-link",t.linkModifiers(s)),attrs:{"active-class":t.activeClassName,"data-test-id":t.checkTabActivity(s)?"tab-link-active":null,event:"",exact:t.exact,to:s.route},nativeOn:{click:function(e){return e.preventDefault(),t.handleNavigationChange(s)}}},[t._v("\n        "+t._s(s.title)+"\n        "),s.count?e("span",{staticClass:"tm-tabs__tab-counter"},[t._v("\n          "+t._s(t.getCount(s.count))+"\n        ")]):t._e(),t._v(" "),void 0!==s.countNew?e("span",{staticClass:"tm-tabs__tab-counter-new"},[t._v("\n          "+t._s(s.countNew>0?`+${s.countNew}`:"")+"\n        ")]):t._e()])],1)})),0),t._v(" "),t.shouldSplitTabs?e("div",{staticClass:"tm-tabs__dropdown"},[e("TMNavigationDropdown",{attrs:{"current-value":t.$route.name,"custom-title":t.msg("MORE"),options:t.extraMenuTabs,variant:"tabs"},on:{change:t.handleNavigationChange}})],1):t._e()])},i=[],a=s(20629),o=s(1641),r=s(2813),l=s(24646);function c(t){return(0,l.Xq)(t.name)||(0,l.Xq)(t.path)}function m(t){return c(t.route)&&(0,l.HD)(t.title)}function u(t){return t.every(m)}const d={required:!0,type:Array,validator:u};var p=s(65873),_=s(13836);const h={name:"TMTabs",components:{TMSvgImg:r.Z,TMNavigationDropdown:o.Z},props:{tabs:d,tabsCount:{type:Number,default:null},variant:{type:String,default:null},exact:{type:Boolean,default:!1},exactMeta:{type:Boolean,default:!1},hideEmptyTabs:{type:Boolean,default:!1},local:Boolean,localActive:{type:String,default:null},noSpacers:Boolean,slim:Boolean},computed:{...(0,a.Se)("global",["isMobile"]),...(0,a.rn)("global",["isPwa"]),filteredTabs(){return this.hideEmptyTabs?this.tabs.filter((t=>0!==t.count)):this.tabs},shouldSplitTabs(){return!this.isMobile&&this.tabsCount&&this.filteredTabs.length>this.tabsCount},slicedTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(0,this.tabsCount):this.filteredTabs},extraMenuTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(this.tabsCount).map((t=>({label:t.title,value:t.route.name,...t}))):[]},activeClassName(){return"companies_list"===this.$route.meta.pageType?"tm-tabs__tab-link_active":""}},mounted(){this.shouldSplitTabs||this.scrollTab()},methods:{linkModifiers(t){return{active:this.checkTabActivity(t),slim:this.slim}},checkTabActivity(t){return this.local?this.localActive===t.route.name:this.isActive(t)||this.isParentRouteActive(t.route)},handleNavigationChange(t){this.local?this.$emit("update:localActive",t.route.name):this.isPwa?this.$router.replace(t.route):this.$router.push(t.route)},isParentRouteActive(t){return!this.exact&&this.$route.matched.some((e=>e.name===t.name))},isActive(t){if(t.route.params&&t.route.params.topic)return this.$route.params.topic===t.route.params.topic;if(t.route.params&&t.route.params.alias)return this.$route.params.alias===t.route.params.alias;if(t.route.query&&t.route.query.target_type)return this.$route.query.target_type?this.$route.query.target_type===t.route.query.target_type:"posts"===t.route.query.target_type;if(t.children&&t.children.length){const e=t.children.map((t=>`${t}_PAGES`)).concat(t.children);return-1!==e.indexOf(this.$route.name)}return this.$route.name===t.route.name||this.$route.name===`${t.route.name}_PAGES`},getCount(t){return t&&0!==Number(t)?(0,_.O)(t):""},scrollTab(){const{scrollArea:t}=this.$refs,e=t.querySelector(".tm-tabs__tab-link_active");if(t.scrollWidth<t.clientWidth||!e)return;const{x:s,right:n}=e.parentElement.getBoundingClientRect(!0);n<t.clientWidth||s<0||this.$refs.scrollArea.scroll(s-16,0)},bem:p.P}},g=h;var T=s(1001),v=(0,T.Z)(g,n,i,!1,null,null,null);const f=v.exports},88379:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMSeparatedList",{attrs:{list:t.tagsWithRoutes,title:t.title},scopedSlots:t._u([{key:"default",fn:function({item:s}){return[e("router-link",{staticClass:"tm-tags-list__link",attrs:{to:s.route},domProps:{innerHTML:t._s(s.titleHtml)}})]}}])})},i=[],a=s(68861);const o={name:"TMTagsList",components:{TMSeparatedList:a.Z},props:{tags:{type:Array,required:!0},title:{type:String,required:!0}},computed:{tagsWithRoutes(){return this.tags.map((t=>({...t,route:{name:"SEARCH_QUERY_RESULTS",query:{target_type:"posts",order:"relevance",q:`[${t.titleHtml}]`}}})))}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},78513:(t,e,s)=>{"use strict";s.d(e,{Z:()=>D});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-user-card",class:t.bem("tm-user-card",{variant:t.variant})},[e("div",{staticClass:"tm-user-card__info-container"},[e("div",{staticClass:"tm-user-card__header"},[e("div",{staticClass:"tm-user-card__header-data"},[e("router-link",{staticClass:"tm-user-card__userpic",class:`tm-user-card__userpic_size-${t.avatarSize}`,attrs:{to:t.profileRoute}},[e("TMEntityImage",{attrs:{alias:t.user.alias,image:t.user.avatarUrl,type:"user"}})],1),t._v(" "),t.user.isReadonly?t._e():e("div",{staticClass:"tm-user-card__meta"},[e("TMKarma",{staticClass:"tm-user-card__karma",attrs:{user:t.user},on:{change:t.onKarmaChange,closeVotesDialog:function(e){return t.$emit("closeVotesDialog")},openVotesDialog:function(e){return t.$emit("openVotesDialog")}}}),t._v(" "),e("TMRating",{staticClass:"tm-user-card__rating",attrs:{score:t.user.rating,title:t.msg("USER_RATING")}})],1)],1)]),t._v(" "),e("div",{staticClass:"tm-user-card__info",class:t.bem("tm-user-card__info",{variant:t.variant})},[e("div",{staticClass:"tm-user-card__title",class:t.bem("tm-user-card__title",{variant:t.variant})},[t.user.fullname?e("span",{staticClass:"tm-user-card__name",class:t.bem("tm-user-card__name",{variant:t.variant}),domProps:{innerHTML:t._s(t.user.fullname)}}):t._e(),t._v(" "),e("router-link",{staticClass:"tm-user-card__nickname",class:t.bem("tm-user-card__nickname",{variant:t.variant}),attrs:{to:t.profileRoute}},[t._v("\n          @"+t._s(t.user.alias)+"\n        ")]),t._v(" "),t.user.isReadonly?e("sup",{staticClass:"tm-user-card__status"},[t._v("\n          "+t._s(t.msg("READ_ONLY"))+"\n        ")]):t._e()],1),t._v(" "),e("p",{staticClass:"tm-user-card__short-info",class:t.bem("tm-user-card__short-info",{variant:t.variant}),domProps:{innerHTML:t._s(t.userSpeciality)}})])]),t._v(" "),e("div",{staticClass:"tm-user-card__buttons",class:t.bem("tm-user-card__buttons",{variant:t.variant})},[t.showIssueInviteButton?e("TMUserInviteControl",{staticClass:"tm-user-card__button",attrs:{user:t.user},on:{invited:t.onUserInvited}}):t._e(),t._v(" "),!t.isLoggedIn||t.isItMe||t.user.isReadonly?t._e():e("div",{staticClass:"tm-user-card__button"},[e("TMButtonFollow",{staticClass:"tm-user-card__button-follow",attrs:{subscribed:t.isSubscribed,"use-follow-label":!0},on:{onToggle:t.toggleFollow}})],1),t._v(" "),t.showDonateButton?e("TMButtonBase",{staticClass:"tm-user-card__button",attrs:{"style-size":"medium","style-type":"transparent",type:"submit"},on:{click:function(e){return t.$emit("payments")}}},[t._v("\n      "+t._s(t.msg("ARTICLE_DONATE_BUTTON"))+"\n    ")]):t._e(),t._v(" "),t.isLoggedIn&&!t.isItMe?e("router-link",{staticClass:"tm-user-card__button tm-user-card__button_write",attrs:{to:t.getConversationLink(t.user.alias)}},[e("TMSvgImg",{staticClass:"tm-user-card__button-icon",attrs:{id:"mail"}})],1):t._e(),t._v(" "),t.isSuperAdmin?e("TMAdministrationLinks",{staticClass:"tm-user-card__button",attrs:{links:t.userLinksItems}}):t._e()],1)])},i=[],a=s(20629),o=s(30089),r=s(77855),l=s(72376),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-karma",class:t.bem("tm-karma",{"allowed-vote":t.isAllowedToVote}),attrs:{title:t.msg("VOTES_COUNT",{count:t.votesCount})}},[t.isAllowedToVote?e("TMVotesLever",{staticClass:"tm-karma__votes-switcher",attrs:{appearance:"karma","is-loading":t.isKarmaLoading||t.isLoadingReasonsList,"is-natural":!0,score:t.score,"vote-state":t.voteState},on:{downvote:t.showVotePopup,upvote:function(e){return t.triggerVote(1)}}}):e("div",{staticClass:"tm-karma__votes",class:{"tm-karma__votes_positive":t.score>0,"tm-karma__votes_negative":t.score<0}},[t._v("\n    "+t._s(t.score)+"\n  ")]),t._v(" "),e("div",{staticClass:"tm-karma__text"},[t._v("\n    "+t._s(t.msg("POINTS_LABEL_KARMA"))+"\n  ")]),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isOpenArticleVote?e("TMPopup",{attrs:{title:t.msg("KARMA_REASON_DOWNVOTE")},on:{close:t.closePopup}},[t.isOpenSuccessPopup?e("div",{domProps:{textContent:t._s(t.msg("ARTICLE_REASON_SUCCESS"))}}):e("TMMinusReason",{attrs:{"is-multiple":!0,"reasons-list":t.userReasonsList},on:{downVote:t.downVote}})],1):t._e()],1)],1)},m=[],u=s(47851),d=s(47840),p=s(89369),_=s(23159),h=s(65873);const g={name:"TMKarma",components:{TMVotesLever:p.Z,TMPopup:d.Z,TMMinusReason:u.Z},props:{user:_.Z},data(){return{isKarmaLoading:!1,isLoadingReasonsList:!1,isOpenArticleVote:!1,isOpenSuccessPopup:!1}},computed:{...(0,a.rn)("articlesList/karma",["userReasonsList"]),...(0,a.rn)("me",{currentUser:t=>t.user}),...(0,a.Se)("i18n",["langOptions"]),score(){return this.user.scoreStats&&this.user.scoreStats.score||0},votesCount(){return this.user.scoreStats&&this.user.scoreStats.votesCount||0},isAllowedToVote(){return this.user.relatedData&&this.user.relatedData.canVote},voteState(){return this.user.relatedData&&this.user.relatedData.vote&&this.user.relatedData.vote.value||0}},watch:{isOpenArticleVote(t){this.$emit(t?"openVotesDialog":"closeVotesDialog")}},methods:{...(0,a.nv)("articlesList/karma",["vote","loadUserReasonsList"]),...(0,a.nv)("users",["updateKarmaInfo"]),bem:h.P,downVote(t){this.triggerVote(-1,t)},triggerVote(t,e=null){const s=1===t?"up":"down";this.isKarmaLoading=!0,this.vote({id:this.user.alias,value:t,reasons:e}).then((t=>{e&&(this.isOpenSuccessPopup=!0,setTimeout((()=>{this.isOpenSuccessPopup=!1,this.isOpenArticleVote=!1}),3e3));const n={direction:s,karmaData:t};this.$emit("change",n),this.updateKarmaInfo({userAlias:this.user.alias,...n}),this.isKarmaLoading=!1})).catch((t=>{let e=null;t.additional&&"VOTER_NOT_BE_EVIL"===t.additional[0]&&(e={username:this.currentUser.alias});let s=this.msg(`EXTERNAL_${t.additional[0]}`,e);"▇▅▄▅▅▄ ▇▄▅"===s&&t.message&&(s=t.message),this.isKarmaLoading=!1,this.$toast.error(s)}))},showVotePopup(){this.isLoadingReasonsList=!0,this.loadUserReasonsList().then((()=>{this.isOpenArticleVote=this.isAllowedToVote})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isLoadingReasonsList=!1}))},closePopup(){this.isOpenArticleVote=!1}}},T=g;var v=s(1001),f=(0,v.Z)(T,c,m,!1,null,null,null);const S=f.exports;var E=s(51904),C=s(2813),I=function(){var t=this,e=t._self._c;return!t.isLoading&&t.canInvite?e("TMButtonBase",{attrs:{"style-size":"medium","style-type":"solid",type:"button"},on:{click:t.issueUserInvite}},[t._v("\n  "+t._s(t.msg("GIVE_INVITE"))+"\n")]):t._e()},b=[],A=s(37522);const y={name:"TMUserInviteControl",components:{TMButtonBase:o.Z},props:{user:{type:Object,required:!0}},data(){return{isLoading:!0}},computed:{...(0,a.rn)("me",{currentUser:"user"}),canInvite(){return this.currentUser.availableInvitesCount>0}},mounted(){this.loadInvitesList().then((()=>{this.isLoading=!1})).catch((t=>{this.isLoading=!1,(0,A.T)(t)}))},methods:{...(0,a.nv)("userInvites",["loadInvitesList"]),...(0,a.nv)("me",["issueInviteByUserAlias"]),issueUserInvite(){const t=window.confirm(this.msg("CONFIRM_INVITE"));return!!t&&this.issueInviteByUserAlias(this.user.alias).then((()=>{this.$toast.success(this.msg("INVITE_HAS_BEEN_SENT")),this.$emit("invited")})).catch((t=>{this.$toast.error(t.message)}))}}},L=y;var P=(0,v.Z)(L,I,b,!1,null,null,null);const O=P.exports;var R=s(19516);const N=()=>s.e(2328).then(s.bind(s,38726)),k={en:{EDIT_PROFILE:"Edit profile via CP",GIVE_INVITE:"Сharge an invite",INVITE_HAS_BEEN_SENT:"Invite has been charged",PPG_COMMENTS:"Force to pass PPG",PPG_SMILES:"Force to pass PIS",PPG_COMMENTS_HAS_BEEN_SENT:"User has been sent to PPG",PPG_SMILES_HAS_BEEN_SENT:"User has been sent to PIS",SEE_DRAFTS:"See drafts"},ru:{EDIT_PROFILE:"Редактировать профиль в CP",GIVE_INVITE:"Начислить инвайт",INVITE_HAS_BEEN_SENT:"Инвайт начислен",PPG_COMMENTS:"Заставить пройти ППГ",PPG_SMILES:"Заставить пройти ПИС",PPG_COMMENTS_HAS_BEEN_SENT:"Пользователь отправлен на ППГ",PPG_SMILES_HAS_BEEN_SENT:"Пользователь отправлен на ПИС",SEE_DRAFTS:"Посмотреть черновики"}},M={name:"TMUserCard",components:{TMButtonFollow:r.Z,TMButtonBase:o.Z,TMEntityImage:l.Z,TMKarma:S,TMRating:E.Z,TMSvgImg:C.Z,TMAdministrationLinks:N,TMUserInviteControl:O},props:{user:_.Z,isDonateButtonVisible:Boolean,inviteButtonVisible:{type:Boolean,default:!0},variant:{type:String,default:""},avatarSize:{type:Number,default:48}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","isReadOnlyOrReadAndComment"]),...(0,a.rn)("me",{currentUser:"user"}),userLinksItems(){const{alias:t}=this.user,e=`https://habr.com/kek/admin/user/${t}/`;return[{title:k[this.langOptions.hl].EDIT_PROFILE,link:e},{title:k[this.langOptions.hl].GIVE_INVITE,onclick:this.sendInvite},{title:k[this.langOptions.hl].PPG_COMMENTS,onclick:t=>this.setUserPPG(t,"comments")},{title:k[this.langOptions.hl].PPG_SMILES,onclick:t=>this.setUserPPG(t,"smiles")},{title:k[this.langOptions.hl].SEE_DRAFTS,onclick:t=>this.goToUserDrafts(t)}]},userSpeciality(){return this.user.speciality||this.msg("USER")},isSubscribed(){return this.user.relatedData&&this.user.relatedData.isSubscribed},isItMe(){return this.isLoggedIn&&this.user.alias===this.currentUser.alias},canShowFollowButton(){const{isLoggedIn:t,isItMe:e,isReadOnlyOrReadAndComment:s}=this;return t&&!e&&!s},showIssueInviteButton(){const{isLoggedIn:t,isItMe:e}=this;return this.inviteButtonVisible&&t&&!e&&this.user.canBeInvited},showDonateButton(){return this.isDonateButtonVisible&&this.user&&this.user.paymentDetails&&Object.values(this.user.paymentDetails).filter((t=>!!t)).length},profileRoute(){return{name:"USER_PROFILE",params:{login:this.user.alias}}}},methods:{...(0,a.nv)("users",["loadUserInfo","loadProfileInfo","toggleSubscribeStatus"]),bem:h.P,onUserInvited(){this.loadUserInfo({alias:this.user.alias,force:!0})},onKarmaChange(t){this.$emit("karmachange",t)},getConversationLink(t){return{name:"CONVERSATION_MESSAGES",params:{login:t.toLowerCase()}}},goToUserDrafts(t){t.preventDefault(),this.$router.push({name:"ARTICLES_DRAFTS_LIST_BY_USER",params:{login:this.user.alias}})},sendInvite(t){t.preventDefault(),(0,R.dZ)(this.user.alias).then((()=>{this.$toast.success(k[this.langOptions.hl].INVITE_HAS_BEEN_SENT)})).catch((t=>{this.$toast.error(t.message)}))},setUserPPG(t,e){t.preventDefault(),(0,R.S6)(this.user.alias,e).then((()=>{const t=`PPG_${e.toUpperCase()}_HAS_BEEN_SENT`;this.$toast.success(k[this.langOptions.hl][t])})).catch((t=>{this.$toast.error(t.message)}))},toggleFollow(){const{isSubscribed:t}=this.user.relatedData;this.toggleSubscribeStatus({alias:this.user.alias,isSubscribed:t}).then((()=>{this.$emit("change:isSubscribed",this.user.relatedData.isSubscribed)})).catch((t=>{this.$toast.error(t.message)}))}}},w=M;var x=(0,v.Z)(w,n,i,!1,null,null,null);const D=x.exports},33348:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"tm-user-info"},[e("router-link",{staticClass:"tm-user-info__userpic",attrs:{title:t.author.alias||t.author.login,to:t.authorRoute},nativeOn:{mouseenter:function(e){return t.$emit("mouseenter",e)},mouseleave:function(e){return t.$emit("mouseleave",e)}}},[e("TMEntityImage",{attrs:{alias:t.author.alias||t.author.login,image:t.getAuthorAvatar,size:24,type:"user"}})],1),t._v(" "),e("span",{staticClass:"tm-user-info__user"},[e("router-link",{staticClass:"tm-user-info__username",attrs:{to:t.authorRoute},nativeOn:{mouseenter:function(e){return t.$emit("mouseenter",e)},mouseleave:function(e){return t.$emit("mouseleave",e)}}},[t._v("\n      "+t._s(t.author.alias||t.author.login)+"\n    ")]),t._v(" "),t._t("default")],2)],1)},i=[],a=s(72376),o=s(28287);const r={name:"TMUserInfo",components:{TMEntityImage:a.Z},props:{author:{required:!0,type:Object},avatar:{type:String,default:null}},computed:{getAuthorAvatar(){const t=this.author.avatarUrl||this.avatar;return(0,o.dv)(t,32)},authorRoute(){return{name:"USER_PROFILE",params:{login:this.author.alias||this.author.login,hl:this.$route.params.hl}}}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},16183:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.seoLandings&&t.seoLandings.length?e("TMBlock",{attrs:{spacing:t.spacing,title:t.msg("VACANCIES_BLOCK_TITLE")},scopedSlots:t._u([{key:"default",fn:function(){return t._l(t.seoLandings,(function(s){return e("div",{key:s.itemUrl,staticClass:"tm-vacancies-block__item"},[e("a",{staticClass:"tm-vacancies-block__vacancy-title",attrs:{href:s.itemUrl,target:"_blank"}},[t._v("\n        "+t._s(s.title)+"\n      ")]),t._v(" "),e("div",{staticClass:"tm-vacancies-block__vacancies-count"},[t._v("\n        "+t._s(t.msg("VACANCIES_COUNT",{count:s.vacanciesCount}))+"\n      ")])])}))},proxy:!0},{key:"footer",fn:function(){return[e("a",{staticClass:"tm-block-extralink",attrs:{href:t.careerUrl}},[t._v("\n      "+t._s(t.msg("VACANCIES_BLOCK_ALL_LINK"))+"\n    ")])]},proxy:!0}],null,!1,3283846063)}):t._e()},i=[],a=s(20629),o=s(76262);const r={name:"TMVacanciesBlock",components:{TMBlock:o.Z},props:{hubs:{type:Array,required:!0},spacing:{type:String,default:"around"}},asyncData({store:t}){return t.dispatch("career/loadSeoLandings",{hubs:this.hubs.join(",")}).catch((()=>null))},data(){return{careerUrl:"https://career.habr.com/catalog"}},computed:{...(0,a.rn)("career",["seoLandings"])}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},89369:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-votes-lever",class:t.bem("tm-votes-lever",{appearance:t.appearance}),attrs:{title:t.title}},[t.canVotePlus?e("button",{staticClass:"tm-votes-lever__button",attrs:{disabled:t.voteState>0||t.isLoading,title:t.msg("DATA_ICONS_LIKE"),type:"button"},on:{click:t.upvote}},[e("TMSvgImg",{staticClass:"tm-votes-lever__icon",class:{"tm-votes-lever__icon_upvote":t.voteState>0},attrs:{id:"counter-vote",size:"24"}})],1):t._e(),t._v(" "),e("div",{staticClass:"tm-votes-lever__score",class:t.bem("tm-votes-lever__score",{appearance:t.appearance}),on:{click:function(e){return t.$emit("scoreClick")}}},[t.isLoading?e("TMCircleLoader",{attrs:{"circle-height":12,"circle-width":12,height:18,width:12}}):t._t("default",(function(){return[e("span",{staticClass:"tm-votes-lever__score-counter",class:{"tm-votes-lever__score-counter_negative":t.score<0,"tm-votes-lever__score-counter_positive":t.score>0}},[t._v("\n        "+t._s(t.formatNumber(t.score))+"\n      ")])]}))],2),t._v(" "),t.canVoteMinus?e("button",{staticClass:"tm-votes-lever__button",attrs:{disabled:t.voteState<0||t.isLoading,title:t.msg("DATA_ICONS_DISLIKE"),type:"button"},on:{click:t.downvote}},[e("TMSvgImg",{staticClass:"tm-votes-lever__icon tm-votes-lever__icon_arrow-down",class:{"tm-votes-lever__icon_downvote":t.voteState<0},attrs:{id:"counter-vote",size:"24"}})],1):t._e()])},i=[],a=s(97481),o=s(2813),r=s(65873),l=s(13836);const c={name:"TMVotesLever",components:{TMCircleLoader:a.Z,TMSvgImg:o.Z},props:{score:{required:!0,type:Number},voteState:{required:!0,type:Number},votesCount:{type:Number,default:0},noVotesTitle:{type:String,default:null},appearance:{type:String,required:!0,validator(t){return["article","karma","comment"].includes(t)}},isLoading:{type:Boolean,default:!1},isPlusified:{type:Boolean,default:!1},canVoteMinus:{type:Boolean,default:!0},canVotePlus:{type:Boolean,default:!0}},computed:{title(){return this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:(this.votesCount+this.score)/2,negative:(this.votesCount-this.score)/2}):this.noVotesTitle}},methods:{bem:r.P,upvote(t){this.$emit("upvote"),t.target.blur()},downvote(t){this.$emit("downvote"),t.target.blur()},formatNumber(t){return this.isPlusified?(0,l.j)(t):(0,l.O)(t)}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},41534:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-votes-meter"},[e("TMSvgImg",{staticClass:"tm-votes-meter__icon",class:t.iconClassName,attrs:{id:t.iconId,size:"24",title:t.iconTitle}}),t._v(" "),e("span",{staticClass:"tm-votes-meter__value",class:t.valueClassName,attrs:{title:t.title},domProps:{textContent:t._s(t.scoreFormatted)}})],1)},i=[],a=s(2813),o=s(65873),r=s(13836);const l={name:"TMVotesMeter",components:{TMSvgImg:a.Z},props:{score:{required:!0,type:Number},noVotesTitle:{type:String,default:null},voteState:{required:!0,type:Number},votesCount:{type:Number,default:0},appearance:{type:String,required:!0,validator(t){return["article","karma","comment"].includes(t)}}},computed:{title(){return this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:(this.votesCount+this.score)/2,negative:(this.votesCount-this.score)/2}):this.noVotesTitle},iconTitle(){return this.voteState>0?this.msg("DATA_ICONS_VOTE_UP"):this.voteState<0?this.msg("DATA_ICONS_VOTE_DOWN"):this.title},iconClassName(){return this.bem("tm-votes-meter__icon",{positive:this.voteState>0,negative:this.voteState<0,appearance:this.appearance})},valueClassName(){return this.bem("tm-votes-meter__value",{positive:this.score>0,negative:this.score<0,appearance:this.appearance,rating:0===this.voteState})},iconId(){return 0===this.voteState?"counter-rating":"counter-vote"},scoreFormatted(){return(0,r.j)(this.score)}},methods:{bem:o.P}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},11454:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("article",{staticClass:"tm-widget-applications__card"},[e("aside",{staticClass:"tm-widget-applications__aside"},[e("img",{staticClass:"tm-widget-applications__image",attrs:{alt:"",src:t.application.imageUrl}})]),t._v(" "),e("div",{staticClass:"tm-widget-applications__body"},[e("h3",{staticClass:"tm-widget-applications__card-title",domProps:{innerHTML:t._s(t.application.title)}}),t._v(" "),e("p",{staticClass:"tm-widget-applications__card-description",domProps:{innerHTML:t._s(t.application.descriptionHtml)}}),t._v(" "),e("ul",{staticClass:"tm-widget-applications__card-links"},t._l(t.application.links,(function(s){return e("li",{key:`${s.title}-${s.linkUrl}`,staticClass:"tm-widget-applications__card-link-item"},[e("a",{staticClass:"tm-widget-applications__card-link",attrs:{href:s.linkUrl,rel:"nofollow noreferrer",target:"_blank"},domProps:{innerHTML:t._s(s.title)}})])})),0)])])},i=[];const a={name:"TMWidgetApplication",props:{application:{type:Object,required:!0}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},15376:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_APPLICATIONS")}},[e("ul",{staticClass:"tm-widget-applications__list"},t._l(t.widgetData.applications,(function(t){return e("li",{key:t.title,staticClass:"tm-widget-applications__item"},[e("TMWidgetApplication",{attrs:{application:t}})],1)})),0)])},i=[],a=s(76262),o=s(11454);const r={name:"TMWidgetApplications",components:{TMBlock:a.Z,TMWidgetApplication:o.Z},props:{widgetData:{type:Object,required:!0}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},3379:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-widget-banner-content"},[e(t.widgetData.imageLinkUrl?"a":"span",{tag:"component",staticClass:"tm-widget-banner-content__image-wrapper",attrs:{href:t.widgetData.imageLinkUrl}},[e("img",{staticClass:"tm-widget-banner-content__image",class:t.imageClasses,attrs:{alt:"",src:t.widgetData.imageUrl}})]),t._v(" "),t.widgetData.textHtml?e("div",{staticClass:"tm-widget-banner-content__message",class:t.messageClasses,domProps:{innerHTML:t._s(t.widgetData.textHtml)}}):t._e()],1)},i=[];const a={name:"TMWidgetBannerContent",props:{widgetData:{type:Object,required:!0}},computed:{messageClasses(){const{textAlign:t}=this.widgetData;return t?`tm-widget-banner-content__message_align-${t}`:null},imageClasses(){const{textAlign:t}=this.widgetData;return t?`tm-widget-banner-content__image_align-${t}`:null}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},56657:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{"header-variant":"borderless",title:t.msg("WIDGET_BANNER")}},[e("TMWidgetBannerContent",{attrs:{"widget-data":t.widgetData}})],1)},i=[],a=s(76262),o=s(3379);const r={name:"TMWidgetBanner",components:{TMBlock:a.Z,TMWidgetBannerContent:o.Z},props:{widgetData:{type:Object,required:!0}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},6266:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_FACEBOOK")}},[e("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{allowTransparency:"true",frameborder:"0",height:"220",scrolling:"no",src:t.src,width:"100%"}})])},i=[],a=s(76262);const o={name:"TMWidgetFacebook",components:{TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}},computed:{src(){const{linkUrl:t}=this.widgetData,e="width=260&height=300&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId";return`https://www.facebook.com/plugins/page.php?href=${t}&${e}`}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},7817:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_LINKS")}},[e("ul",{staticClass:"tm-widget-links__list"},t._l(t.widgetData.links,(function(s){return e("li",{key:`${s.title}-${s.linkUrl}`,staticClass:"tm-widget-links__item"},[e("a",{staticClass:"tm-widget-links__link",attrs:{href:s.linkUrl,rel:"nofollow noreferrer",target:"_blank"},domProps:{innerHTML:t._s(s.title)}}),t._v(" "),e("small",{staticClass:"tm-widget-links__host",domProps:{textContent:t._s(s.linkHost)}})])})),0)])},i=[],a=s(76262);const o={name:"TMWidgetLinks",components:{TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},45288:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{level:"2",tag:"aside",title:t.msg("WIDGET_NEWS")}},[e("ul",{staticClass:"tm-widget-news__list"},t._l(t.news,(function(s){return e("li",{key:`${s.title}-${s.linkUrl}`,staticClass:"tm-widget-news__item"},[e("a",{staticClass:"tm-widget-news__link",attrs:{href:s.linkUrl,rel:"nofollow noreferrer",target:"_blank"},domProps:{innerHTML:t._s(s.title)}}),t._v(" "),e("small",{staticClass:"tm-widget-news__date"},[e("TMDatetime",{attrs:{date:s.date}})],1)])})),0)])},i=[],a=s(76262),o=s(74502);const r={name:"TMWidgetNews",components:{TMDatetime:o.Z,TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}},computed:{news(){return this.widgetData.news.map((t=>({...t,date:new Date(t.date)})))}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},33090:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_TWITTER")}},[e("ul",{staticClass:"tm-widget-twitter__list"},t._l(t.tweets,(function(s){return e("li",{key:s.id,staticClass:"tm-widget-twitter__item"},[e("header",{staticClass:"tm-widget-twitter__header"},[e("a",{staticClass:"tm-widget-twitter__name",attrs:{href:`https://twitter.com/${s.user.displayName}`,rel:"noreferrer nofollow",target:"_blank"},domProps:{textContent:t._s(s.user.name)}}),t._v(" "),e("small",{staticClass:"tm-widget-twitter__date"},[e("a",{staticClass:"tm-widget-twitter__link",attrs:{href:s.tweetUrl,rel:"noreferrer nofollow",target:"_blank"}},[e("TMDatetime",{attrs:{date:s.date}})],1)])]),t._v(" "),e("p",{staticClass:"tm-widget-twitter__message",domProps:{innerHTML:t._s(s.text)}})])})),0),t._v(" "),e("a",{staticClass:"btn btn_solid btn_large tm-widget-twitter__follow-button",attrs:{href:t.twitterLink,rel:"nofollow noreferrer",target:"_blank"}},[t._v("\n    "+t._s(t.msg("WIDGET_TWITTER_FOLLOW",{name:t.widgetData.twitterName}))+"\n  ")])])},i=[],a=s(76262),o=s(74502);const r={name:"TMWidgetTwitter",components:{TMDatetime:o.Z,TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}},computed:{tweets(){return this.widgetData.tweets.slice(0,3).map((t=>({...t,date:new Date(t.date)})))},twitterLink(){return`https://twitter.com/${this.widgetData.twitterName}`}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},14223:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_VK")}},[e("script",{attrs:{async:"",src:"https://vk.com/js/api/openapi.js?63",type:"application/javascript"},on:{load:t.onLoad}}),t._v(" "),e("div",{attrs:{id:t.elementId}})])},i=[],a=s(76262);const o={name:"TMWidgetVK",components:{TMBlock:a.Z},props:{widgetData:{type:Object,required:!0},type:{type:String,required:!0}},data(){return{elementId:`widget-social-${Math.random()}`}},methods:{onLoad(){window.VK&&window.VK.Widgets&&window.VK.Widgets.Group&&window.VK.Widgets.Group(this.elementId,{mode:0,width:"260",height:"300"},this.widgetData.id)}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},32429:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-articles-subpage"},[e("TMPinnedPost"),t._v(" "),e("TMArticlesFeed",{attrs:{"is-articles":!0},scopedSlots:t._u([{key:"afterArticle",fn:function({position:s,currentPage:n}){return[1!==s||1!==n||t.isFlEnglish?t._e():e("TMNewsBlock",{key:"news_block_1",attrs:{id:"news_block_1","data-navigatable":"","flow-name":t.flowName,"hub-name":t.hubName,tabindex:"0"}})]}}])})],1)},i=[],a=s(68099),o=s(33389),r=s(27687);const l={components:{TMNewsBlock:o.Z,TMArticlesFeed:a.Z,TMPinnedPost:r.Z},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e})},computed:{isFlEnglish(){return"en"===this.langOptions.fl},hubName(){return this.$route.params.hubName},flowName(){return this.$route.params.flowName}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},52078:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMArticlesFeed",{scopedSlots:t._u([{key:"afterArticle",fn:function({position:s,currentPage:n}){return[1===s&&1===n?e("TMStories",{key:"stories_block_1",attrs:{id:"stories_block_1","ga-category":"stories_news",tabindex:"0"}}):t._e()]}}])})},i=[],a=s(68099),o=s(93764);const r={components:{TMArticlesFeed:a.Z,TMStories:o.Z},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e})}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},29476:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vuex__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(20629),_components_abbreviation_presenter_abbreviation_presenter_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80691),_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61216),_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(44767),_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35683),_guards_article_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48001),_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(77945),_utils_gallery_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(68668),_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12066),_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(91256);const TMGallery=()=>__webpack_require__.e(5121).then(__webpack_require__.bind(__webpack_require__,96321)),__WEBPACK_DEFAULT_EXPORT__={name:"TMArticleBody",components:{TMArticlePoll:_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_2__.Z,TMGallery,TMArticleFormattedBody:_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_1__.Z,TMArticleTrackingPixels:_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_3__.Z,TMAbbreviationPresenter:_components_abbreviation_presenter_abbreviation_presenter_vue__WEBPACK_IMPORTED_MODULE_0__.Z},props:{article:_guards_article_js__WEBPACK_IMPORTED_MODULE_4__.sK,isMegapostScriptsLodaded:Boolean},data(){return{galleryImages:[],gallerySliders:[]}},computed:{...(0,vuex__WEBPACK_IMPORTED_MODULE_7__.Se)("i18n",["msg"]),editorVersion(){return parseInt(this.article.editorVersion,10)},formattedClass(){return this.isMegapostV1?"":"tm-article-body__content_formatted"},isMegapostV1(){return"megaproject"===this.article.postType&&1===this.editorVersion}},watch:{isMegapostScriptsLodaded:{handler(t){t&&_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_5__.Qg&&this.evalMegapostScripts()},immediate:!0}},mounted(){const currentHash=this.$route.hash;if(currentHash){const t=this.$el.querySelector(`a[name="${currentHash.substr(1)}"]`)||this.$el.querySelector(currentHash);t&&((0,_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_6__.kI)(t),window.history.replaceState(null,null," "))}if(!this.isMegapostV1){this.galleryImages=(0,_utils_gallery_js__WEBPACK_IMPORTED_MODULE_8__.N)(this.$el),this.gallerySliders=(0,_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_9__.s)(this.$el);const inlineScripts=Array.from(this.$el.querySelectorAll("script"));if(inlineScripts&&inlineScripts.length){const quizRegexp=/(function initQuiz[\d]+\(\){const t=document.getElementById)/g;inlineScripts.forEach((script=>{const scriptInner=script.innerText;null!==scriptInner.match(quizRegexp)&&eval(scriptInner)}))}}},methods:{evalMegapostScripts(){if(this.$el){const inlineScripts=Array.from(this.$el.querySelectorAll("script"));inlineScripts.forEach((script=>{eval(script.innerText)}))}},getNodesList(t){const e=this.$el.querySelectorAll(t);return[].slice.call(e)},getArticleFlagValue(t){return this.msg(this.flagsValues[t])}}}},24654:()=>{}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var s=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(s.exports,s,s.exports,__webpack_require__),s.loaded=!0,s.exports}__webpack_require__.m=__webpack_modules__,(()=>{var t=[];__webpack_require__.O=(e,s,n,i)=>{if(!s){var a=1/0;for(c=0;c<t.length;c++){s=t[c][0],n=t[c][1],i=t[c][2];for(var o=!0,r=0;r<s.length;r++)(!1&i||a>=i)&&Object.keys(__webpack_require__.O).every((t=>__webpack_require__.O[t](s[r])))?s.splice(r--,1):(o=!1,i<a&&(a=i));if(o){t.splice(c--,1);var l=n();void 0!==l&&(e=l)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[s,n,i]}})(),(()=>{__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return __webpack_require__.d(e,{a:e}),e}})(),(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;__webpack_require__.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var i=Object.create(null);__webpack_require__.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&n&&s;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>s[t]));return a["default"]=()=>s,__webpack_require__.d(i,a),i}})(),(()=>{__webpack_require__.d=(t,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}})(),(()=>{__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((e,s)=>(__webpack_require__.f[s](t,e),e)),[]))})(),(()=>{__webpack_require__.u=t=>"js/"+({128:"wysiwig-icons",269:"page-article",318:"page-my-feed",388:"user-apps",734:"page-user",983:"fail-placeholder",1163:"docs",1231:"page-flows",1830:"web-streams-polyfill",2047:"user-app",2328:"admin",2341:"fetch-readablestream",2443:"about",2636:"page-error",2780:"apexCharts",2972:"page-company",3049:"user-upgrade",3389:"page-technotext",3839:"page-startup",3977:"company-localization-ru",4306:"page-ppa",4634:"page-flow",4670:"page-company-admin",4915:"analytics-manual-en",5022:"company-localization-en",5106:"publication",5112:"user-settings",5121:"gallery",5631:"page-article-comments",5727:"analytics-manual-ru",5996:"info",6379:"page-hub",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",7086:"page-user-comments",7324:"megaprojects",7417:"hljs",7478:"page-feed-preview",7576:"dialogs",7628:"beta-test",7996:"ppg",8463:"user-statistics",8631:"user-articles-subpages",8656:"feedback",8778:"tracker",8799:"photoswipe",9039:"requisites-terms-text-en",9451:"sandbox",9616:"lang",9634:"requisites-terms-text-ru",9722:"voice"}[t]||t)+"."+{93:"793596b9",128:"d503f4a8",131:"f8702796",269:"827adf23",318:"32a88e10",388:"b3a6b2a3",668:"e335c5a3",734:"2a650533",983:"0dd16ef9",1018:"92bf9c05",1163:"8d9341a8",1206:"606afdaa",1231:"1971816d",1830:"40182fe0",2047:"80db1d00",2316:"358889ee",2328:"629f5133",2341:"115f1cef",2443:"6bba493e",2627:"4c8db48d",2636:"0eb9d6d4",2780:"f5c461ca",2972:"c0b94b30",3040:"a6c56467",3049:"3d6c1707",3054:"9f5da452",3065:"ef941fa4",3347:"2c35a011",3389:"276ab91d",3839:"55599562",3977:"647716f4",4209:"1dde5dbd",4306:"f4a45925",4634:"738c890a",4670:"307dc934",4687:"d64978a8",4915:"026904e9",5022:"52ccb972",5106:"f949eeb1",5112:"b86c32d4",5121:"61b79721",5562:"b05623de",5631:"a8198099",5727:"f34ebc88",5917:"8d5e23ab",5996:"99bb0acd",6235:"49aedef1",6342:"85109a86",6379:"7fc868f1",6444:"ad933a2d",6453:"f58aae14",6464:"ef3de097",6504:"876687c9",6667:"3c3df1bb",6841:"5a7f9526",7086:"4f461cf0",7250:"c5fc8bd3",7319:"b550f4a2",7324:"92e6c800",7417:"efde0e47",7478:"d115a2a4",7576:"4a566691",7628:"3c158662",7779:"c8c7ed18",7782:"43196ef8",7996:"919c79b4",8034:"753d0749",8355:"26c50a87",8463:"1f366cd4",8605:"418db7d1",8631:"55e03259",8656:"adfba86b",8778:"2ab984eb",8799:"82c8ee0a",8969:"285f34d8",9039:"223a6747",9404:"560956b2",9451:"fc90f639",9616:"a587df50",9634:"f5cd9202",9722:"ad4a715a"}[t]+".js"})(),(()=>{__webpack_require__.miniCssF=t=>"css/"+({269:"page-article",318:"page-my-feed",388:"user-apps",734:"page-user",1163:"docs",1231:"page-flows",2047:"user-app",2328:"admin",2443:"about",2972:"page-company",3049:"user-upgrade",3389:"page-technotext",3839:"page-startup",4306:"page-ppa",4634:"page-flow",4670:"page-company-admin",5106:"publication",5112:"user-settings",5121:"gallery",5631:"page-article-comments",5996:"info",6379:"page-hub",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",7086:"page-user-comments",7324:"megaprojects",7478:"page-feed-preview",7576:"dialogs",7628:"beta-test",7996:"ppg",8463:"user-statistics",8631:"user-articles-subpages",8656:"feedback",8778:"tracker",9451:"sandbox",9722:"voice"}[t]||t)+"."+{269:"5c738d4f",318:"38069e92",388:"6fcda376",734:"63b5d84a",1163:"4a666a27",1231:"1a8fd88c",2047:"1240c1fd",2328:"ba206c63",2443:"0e670f97",2627:"45323c8d",2972:"6e3d6fe2",3049:"b113b539",3054:"7ce82c1f",3065:"8bc9a2ba",3389:"3968df10",3839:"f6682f5a",4306:"e19c7b98",4634:"eca8d429",4670:"d0110d3e",5106:"73b674de",5112:"b3b09ef0",5121:"0c0f74ca",5631:"effc95a0",5917:"4771638c",5996:"120e48f3",6379:"3d973132",6444:"d87b8170",6453:"21f4df82",6464:"b07ff64f",6504:"452bf8eb",6841:"9327adb8",7086:"38b48cb3",7324:"ce980f7e",7478:"8f29f4dc",7576:"e5ec56ed",7628:"297e8dce",7782:"c1c7b69e",7996:"71429a8a",8034:"bab61660",8355:"0dc6d470",8463:"9d3509e3",8631:"7fdd0ba5",8656:"477759f9",8778:"b7d132ee",9451:"ca10ac56",9722:"3a78c86e"}[t]+".css"})(),(()=>{__webpack_require__.h=()=>"d879df40d090ac7f"})(),(()=>{__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{__webpack_require__.hmd=t=>(t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t)})(),(()=>{__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="habr-web:";__webpack_require__.l=(s,n,i,a)=>{if(t[s])t[s].push(n);else{var o,r;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var m=l[c];if(m.getAttribute("src")==s||m.getAttribute("data-webpack")==e+i){o=m;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",e+i),o.src=s),t[s]=[n];var u=(e,n)=>{o.onerror=o.onload=null,clearTimeout(d);var i=t[s];if(delete t[s],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((t=>t(n))),e)return e(n)},d=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),r&&document.head.appendChild(o)}}})(),(()=>{__webpack_require__.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t)})(),(()=>{__webpack_require__.p="https://assets.habr.com/habr-web/"})(),(()=>{var t=(t,e,s,n)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=a=>{if(i.onerror=i.onload=null,"load"===a.type)s();else{var o=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=r,i.parentNode.removeChild(i),n(l)}};return i.onerror=i.onload=a,i.href=e,document.head.appendChild(i),i},e=(t,e)=>{for(var s=document.getElementsByTagName("link"),n=0;n<s.length;n++){var i=s[n],a=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===t||a===e))return i}var o=document.getElementsByTagName("style");for(n=0;n<o.length;n++){i=o[n],a=i.getAttribute("data-href");if(a===t||a===e)return i}},s=s=>new Promise(((n,i)=>{var a=__webpack_require__.miniCssF(s),o=__webpack_require__.p+a;if(e(a,o))return n();t(s,o,n,i)})),n={2143:0};__webpack_require__.f.miniCss=(t,e)=>{var i={269:1,318:1,388:1,734:1,1163:1,1231:1,2047:1,2328:1,2443:1,2627:1,2972:1,3049:1,3054:1,3065:1,3389:1,3839:1,4306:1,4634:1,4670:1,5106:1,5112:1,5121:1,5631:1,5917:1,5996:1,6379:1,6444:1,6453:1,6464:1,6504:1,6841:1,7086:1,7324:1,7478:1,7576:1,7628:1,7782:1,7996:1,8034:1,8355:1,8463:1,8631:1,8656:1,8778:1,9451:1,9722:1};n[t]?e.push(n[t]):0!==n[t]&&i[t]&&e.push(n[t]=s(t).then((()=>{n[t]=0}),(e=>{throw delete n[t],e})))}})(),(()=>{var t={2143:0};__webpack_require__.f.j=(e,s)=>{var n=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==n)if(n)s.push(n[2]);else{var i=new Promise(((s,i)=>n=t[e]=[s,i]));s.push(n[2]=i);var a=__webpack_require__.p+__webpack_require__.u(e),o=new Error,r=s=>{if(__webpack_require__.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,n[1](o)}};__webpack_require__.l(a,r,"chunk-"+e,e)}},__webpack_require__.O.j=e=>0===t[e];var e=(e,s)=>{var n,i,a=s[0],o=s[1],r=s[2],l=0;if(a.some((e=>0!==t[e]))){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);if(r)var c=r(__webpack_require__)}for(e&&e(s);l<a.length;l++)i=a[l],__webpack_require__.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return __webpack_require__.O(c)},s=self["webpackChunkhabr_web"]=self["webpackChunkhabr_web"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(18580)));var __webpack_exports__=__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(57255)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.712390a4.js.map